<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=">


  <link rel="mask-icon" href="/images/logo.svg?v=" color="#222">





  <meta name="keywords" content="webæœŸæœ«,æ•°æ®å¯è§†åŒ–," />










<meta name="description" content="JavaScriptæ•°æ®å¯è§†åŒ–ä¹‹D3æ•™ç¨‹ï¼š  https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;_8V5o2UHG0E&amp;list&#x3D;WL&amp;index&#x3D;6&amp;t&#x3D;202s ç½‘ç«™ï¼šhttps:&#x2F;&#x2F;vizhub.com&#x2F; æ•™ç¨‹2ï¼šhttps:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1HK411L72d?p&#x3D;1 æºç ï¼š https:&#x2F;&#x2F;github.com&#x2F;">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScriptæ•°æ®å¯è§†åŒ–ä¹‹D3">
<meta property="og:url" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/index.html">
<meta property="og:site_name" content="Jasonâ€˜s Blog">
<meta property="og:description" content="JavaScriptæ•°æ®å¯è§†åŒ–ä¹‹D3æ•™ç¨‹ï¼š  https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;_8V5o2UHG0E&amp;list&#x3D;WL&amp;index&#x3D;6&amp;t&#x3D;202s ç½‘ç«™ï¼šhttps:&#x2F;&#x2F;vizhub.com&#x2F; æ•™ç¨‹2ï¼šhttps:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1HK411L72d?p&#x3D;1 æºç ï¼š https:&#x2F;&#x2F;github.com&#x2F;">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/7.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/8.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/1.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/2.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/3.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/4.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/6.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/9.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/10.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/11.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/1.jpg">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/12.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/13.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/14.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/15.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/16.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/17.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/18.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/19.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/20.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/21.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/22.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/23.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/24.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/25.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/26.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/31.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/27.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/2.jpg">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/3.jpg">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/4.jpg">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/29.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/32.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/33.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/1.gif">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/2.gif">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/35.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/36.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/37.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/38.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/39.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/40.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/41.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/42.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/30.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/43.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/44.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/5.jpg">
<meta property="og:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/6.jpg">
<meta property="article:published_time" content="2020-06-11T17:00:54.000Z">
<meta property="article:modified_time" content="2025-04-09T15:24:14.965Z">
<meta property="article:author" content="Jason">
<meta property="article:tag" content="webæœŸæœ«">
<meta property="article:tag" content="æ•°æ®å¯è§†åŒ–">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/7.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '',
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    fancybox: false,
    tabs: ,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: 'undefined',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>







  <title>JavaScriptæ•°æ®å¯è§†åŒ–ä¹‹D3 | Jasonâ€˜s Blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', '[object Object]', 'auto');
  ga('send', 'pageview');
</script>





<meta name="generator" content="Hexo 4.2.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
<a href="https://github.com/JasonXQH/JasonXQH.github.io" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jasonâ€˜s Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/%20" rel="section">
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/%20" rel="section">
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/%20" rel="section">
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/%5Bobject%20Object%5D">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jasonâ€˜s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JavaScriptæ•°æ®å¯è§†åŒ–ä¹‹D3</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-12T01:00:54+08:00">
                2020-06-12
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2025-04-09T23:24:14+08:00">
                2025-04-09
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="JavaScriptæ•°æ®å¯è§†åŒ–ä¹‹D3"><a href="#JavaScriptæ•°æ®å¯è§†åŒ–ä¹‹D3" class="headerlink" title="JavaScriptæ•°æ®å¯è§†åŒ–ä¹‹D3"></a>JavaScriptæ•°æ®å¯è§†åŒ–ä¹‹D3</h1><p>æ•™ç¨‹ï¼š</p>
<p> <a href="https://www.youtube.com/watch?v=_8V5o2UHG0E&amp;list=WL&amp;index=6&amp;t=202s" target="_blank" rel="noopener">https://www.youtube.com/watch?v=_8V5o2UHG0E&amp;list=WL&amp;index=6&amp;t=202s</a></p>
<p>ç½‘ç«™ï¼š<a href="https://vizhub.com/" target="_blank" rel="noopener">https://vizhub.com/</a></p>
<p>æ•™ç¨‹2ï¼š<a href="https://www.bilibili.com/video/BV1HK411L72d?p=1" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1HK411L72d?p=1</a></p>
<p>æºç ï¼š <a href="https://github.com/Shao-Kui/D3.js-Demos" target="_blank" rel="noopener">https://github.com/Shao-Kui/D3.js-Demos</a></p>
<p>æ–‡æ¡£ï¼š<a href="https://github.com/d3/d3/wiki" target="_blank" rel="noopener">https://github.com/d3/d3/wiki</a></p>
<p><strong>äº†è§£ä»¥ä¸‹æ ‡ç­¾å³å¯</strong></p>
<p>â€¢<code>&lt;html&gt;</code>ï¼šæœ€å¤–å±‚çš„ä¸»æ ‡ç­¾ï¼Œæ¯ä¸ªHTMLæ–‡ä»¶éƒ½éœ€è¦æœ‰ï¼</p>
<p>â€¢<code>&lt;head&gt;</code>: æ ‡é¢˜å†…å®¹ï¼ŒåŒ…å«HTMLçš„æ–‡ä»¶é“¾æ¥ã€æ ‡é¢˜ç­‰</p>
<p>â€¢<code>&lt;body&gt;</code>ï¼šHTMLçš„ä¸»ä½“ï¼ŒåŒ…æ‹¬å„ç§å…¶ä¸­çš„å„ç§å…ƒç´ </p>
<p>â€¢<code>&lt;title&gt;</code>ï¼šæ ‡é¢˜ï¼ˆæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„æ ‡ç­¾æ ï¼‰</p>
<p>â€¢<code>&lt;script&gt;</code>ï¼šJavaScriptè„šæœ¬æˆ–å¯¹äºè„šæœ¬çš„é“¾æ¥â€¢D3.jsçš„ç¼–ç¨‹ä¸»è¦å†™åœ¨æ­¤æ ‡ç­¾ä¸­</p>
<p>â€¢<code>&lt;svg&gt;</code>: å¯¹äºD3æœ€ä¸ºé‡è¦çš„æ ‡ç­¾ï¼Œä¸»è¦æ“ä½œçš„å¯¹è±¡ï¼ˆè§ä¸‹é¡µï¼‰</p>
<p>â€¢<code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/static/css/style.css&quot;&gt;</code></p>
<p> â€¢<code>&lt;!DOCTYPEhtml&gt;</code></p>
<p>â€¢æ‰€æœ‰æ ‡ç­¾éƒ½éœ€è¦ä»¥<code>&lt;/tag&gt;</code>ç»“æŸ</p>
<p>D3: Data-Driven Documents</p>
<p>å’Œpython çš„æ•°æ®å¯è§†åŒ–å’ŒRè¯­è¨€ä¸åŒï¼ŒD3æ˜¯æŠŠæ•°æ®å¯è§†åŒ–å±•ç¤ºåœ¨webä¸Šçš„ï¼Œè¿˜å¯ä»¥åˆ›å»ºç”¨æˆ·äº¤äº’ç­‰ç­‰</p>
<h2 id="Loading-D3-js"><a href="#Loading-D3-js" class="headerlink" title="Loading D3.js"></a>Loading D3.js</h2><p>æˆ‘ä»¬å¯ä»¥ä¹‹é—´ åœ¨d3çš„æ–‡æ¡£ä¸Šæ‰¾ <a href="https://github.com/d3/d3/wiki/CN-Home" target="_blank" rel="noopener">https://github.com/d3/d3/wiki/CN-Home</a></p>
<p>ä¹Ÿå¯ä»¥åœ¨<a href="https://unpkg.comä¸Šæ‰¾" target="_blank" rel="noopener">https://unpkg.comä¸Šæ‰¾</a> å¼•å…¥d3 çš„script</p>
<p>ç›´æ¥<code>&lt;script src=&quot;https://d3js.org/d3.v5.min.js&quot;&gt;&lt;/script&gt;</code></p>
<p>æˆ–è€…<code>&lt;script src=&quot;https://unpkg.com/d3@5.6.0/dist/d3.min.js&quot;&gt;&lt;/script&gt;</code></p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡æœ¬åœ°æœåŠ¡å™¨é“¾æ¥</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Let's make a face with D3.js<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line">      	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/d3@5.6.0/dist/d3.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--       &lt;script src="https://d3js.org/d3.v3.min.js"&gt;&lt;/script&gt; </span></span><br><span class="line"><span class="comment">			æ³¨æ„ï¼Œè¿™é‡Œè¦å†™httpsä¸è¦å†™http</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"960"</span> <span class="attr">height</span> =<span class="string">"500"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">          	<span class="keyword">const</span> svg = d3.select(<span class="string">'svg'</span>);</span></span><br><span class="line"><span class="actionscript">              <span class="comment">//æˆ‘ä»¬æŠŠèƒŒæ™¯é¢œè‰²è®¾ç½®ä¸º redçœ‹çœ‹æ•ˆæœ</span></span></span><br><span class="line"><span class="actionscript">            svg.style(<span class="string">'background-color'</span>,<span class="string">'red'</span>);</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span> <span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/7.png" style="zoom:40%;"></p>
<h4 id="å¯¹D3æœ‰ä¸€ä¸ªå¤§ä½“çš„äº†è§£"><a href="#å¯¹D3æœ‰ä¸€ä¸ªå¤§ä½“çš„äº†è§£" class="headerlink" title="å¯¹D3æœ‰ä¸€ä¸ªå¤§ä½“çš„äº†è§£"></a>å¯¹D3æœ‰ä¸€ä¸ªå¤§ä½“çš„äº†è§£</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Data Visualization!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://d3js.org/d3.v5.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"960"</span> <span class="attr">height</span>=<span class="string">"500"</span> <span class="attr">id</span>=<span class="string">"mainsvg"</span> <span class="attr">class</span>=<span class="string">"svgs"</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">      <span class="comment">//è¿™æ®µä»£ç æ˜¯åœ¨å±å¹•ä¸Šç»˜åˆ¶ä¸€ä¸ªæœ€ç®€å•çš„åœ†</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> mainsvg = d3.select(<span class="string">'.svgs'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> maingroup = mainsvg</span></span><br><span class="line"><span class="actionscript">      .append(<span class="string">'g'</span>)</span></span><br><span class="line"><span class="javascript">      .attr(<span class="string">'transform'</span>, <span class="string">`translate(<span class="subst">$&#123;<span class="number">100</span>&#125;</span>, <span class="subst">$&#123;<span class="number">100</span>&#125;</span>)`</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> circle = maingroup</span></span><br><span class="line"><span class="actionscript">      .append(<span class="string">'circle'</span>)</span></span><br><span class="line"><span class="actionscript">      .attr(<span class="string">'stroke'</span>, <span class="string">'black'</span>)</span></span><br><span class="line"><span class="actionscript">      .attr(<span class="string">'r'</span>, <span class="string">'66'</span>)</span></span><br><span class="line"><span class="actionscript">      .attr(<span class="string">'fill'</span>, <span class="string">'yellow'</span>);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/8.png" style="zoom:80%;"></p>
<p>â€¢åœ¨HTMLä¸­æŸ¥æ‰¾å¹¶è·å–SVG</p>
<p>â€¢åœ¨SVGä¸­åŠ å…¥ç»„ï¼ˆGroupï¼‰<code>&lt;g&gt;</code></p>
<p>â€¢è®¾ç½®ç»„çš„å¹³ç§»ä¸ºå‘ä¸‹ã€å‘å³ä¸ª100åƒç´ </p>
<p>â€¢åœ¨ä¸»è¦ç»„ä¸­åŠ å…¥ä¸€ä¸ªåœ†</p>
<p>â€¢åœ†çš„è¾¹æ¡†ä¸ºé»‘è‰²</p>
<p>â€¢åœ†çš„åŠå¾„ä¸º66åƒç´ </p>
<p>â€¢åœ†çš„å¡«å……é¢œè‰²ä¸ºé»„è‰²</p>
<h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><h4 id="Header-Title"><a href="#Header-Title" class="headerlink" title="Header Title"></a>Header Title</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML Cars Report<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="Bulleted-list"><a href="#Bulleted-list" class="headerlink" title="Bulleted list"></a>Bulleted list</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Cars Report<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"highlighted"</span>&gt;</span>2012 Nissan Leaf: $1800<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>2009 Ford F150: $1950<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>2009 Chevrolet Trailblazer: $1550<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span> <span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/1.png" style="zoom:90%;"></p>
<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><h4 id="Customisze-Font-amp-Highlight-an-item"><a href="#Customisze-Font-amp-Highlight-an-item" class="headerlink" title="Customisze Font &amp; Highlight an item"></a>Customisze Font &amp; Highlight an item</h4><p>style.css è¿™æ˜¯cssé€‰æ‹©å™¨</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: monospace;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlighted</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>index.htmlä¸­å¼•å…¥ï¼Œç”¨linkæ ‡ç­¾</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML Cars Report<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;body...&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span> <span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/2.png" style="zoom:90%;"></p>
<h3 id="SVG-å¯ç¼©æ”¾çŸ¢é‡å›¾å½¢"><a href="#SVG-å¯ç¼©æ”¾çŸ¢é‡å›¾å½¢" class="headerlink" title="SVG å¯ç¼©æ”¾çŸ¢é‡å›¾å½¢"></a>SVG å¯ç¼©æ”¾çŸ¢é‡å›¾å½¢</h3><h4 id="SVG-as-Image-Format"><a href="#SVG-as-Image-Format" class="headerlink" title="SVG as Image Format"></a>SVG as Image Format</h4><p>.svg ä¸ä¼šåƒç´ åŒ– æ— è®ºæ€ä¹ˆæ”¾å¤§ï¼Œéƒ½æ˜¯å¾ˆæ¸…æ™°çš„</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/3.png" style="zoom:40%;"></p>
<p>ç›¸åï¼Œpngä¼šåƒç´ åŒ–ï¼Œæ”¾å¤§ä¼šå¤±çœŸä¼šæ¨¡ç³Š</p>
<h4 id="SVG-in-HTML"><a href="#SVG-in-HTML" class="headerlink" title="SVG in HTML"></a>SVG in HTML</h4><p>coordinate system,circles,rectangles,lines, colors,groups</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Shapes with SVG and CSS<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"960"</span> <span class="attr">height</span> =<span class="string">"500"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">æŠŠæ‰€æœ‰çš„svgæ”¾åœ¨ä¸€ä¸ªgroupä¸­ï¼Œæ•´ä½“è®¾ç½®å¤§å°ä¸ºåŸæ¥çš„1.5å€&lt;g transform = "scale(1.5)"&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç¬¬ä¸€è¡Œçš„åœ†å½¢æˆ‘ä»¬å¯ä»¥ç”¨cxå’Œcyç¡®å®šåœ†å¿ƒåæ ‡ï¼Œ rä»£è¡¨äº†åŠå¾„</span></span><br><span class="line"><span class="comment">ç¬¬äºŒè¡Œçš„rectangleæ˜¯æ­£æ–¹å½¢ï¼Œxï¼Œyä»£è¡¨ç€ä»–çš„å·¦ä¸Šè§’é¡¶ç‚¹åæ ‡</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç¬¬ä¸‰è¡Œçš„åœ†æˆ‘ä»¬æ·»åŠ äº†é¢œè‰²ï¼Œ ç”¨fill = "" æ¥å®šä¹‰é¢œè‰²</span></span><br><span class="line"><span class="comment">ç¬¬å››è¡Œç¬¬äº”è¡Œæˆ‘ä»¬å¯ä»¥åœ¨fillä¸­åŠ å…¥å¤šç§æ ¼å¼çš„é¢œè‰² rgb(),#...</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">è¿˜å¯ä»¥æŠŠå›¾ç‰‡æ”¾åˆ°ä¸€ä¸ªgroupé‡Œï¼Œé€šè¿‡groupå‚æ•°è®¾ç½® transform="translate()"ä»£è¡¨åæ ‡ï¼Œfillå¡«å……</span></span><br><span class="line"><span class="comment">å¦‚æœgroupä¸­çš„æŸä¸€ç»„ä»¶æœ¬èº«å…·æœ‰fillå¡«å……ï¼Œä¼šè¦†ç›–groupä¸­çš„fill</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">strokeä»£è¡¨è¾¹æ¡†æˆ–è€…çº¿çš„é¢œè‰²ï¼Œstroke-width ä»£è¡¨çº¿çš„ç²—ç»†</span></span><br><span class="line"><span class="comment">æˆ‘ä»¬å¯ä»¥å®šä¹‰&lt;line&gt;&lt;/line&gt;ä¸ºä¸€æ¡çº¿</span></span><br><span class="line"><span class="comment">æˆ‘ä»¬è¿˜å¯ä»¥å®šä¹‰&lt;path&gt;&lt;/path&gt; è¿™æ˜¯ä¸€æ¡è·¯çº¿</span></span><br><span class="line"><span class="comment">M300 280ä»£è¡¨æˆ‘ä»¬move to(300,280) è¿™ä¸ªç‚¹</span></span><br><span class="line"><span class="comment">L350 200ä»£è¡¨æˆ‘ä»¬ç”»ä¸€æ¡çº¿ä»(300,280)æŒ‡å‘(350,200)ä»¥æ­¤ç±»æ¨</span></span><br><span class="line"><span class="comment">--&gt;</span>            </span><br><span class="line">          <span class="tag">&lt;<span class="name">g</span> <span class="attr">transform</span> = <span class="string">"scale(1.5)"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"50"</span> <span class="attr">cy</span>=<span class="string">"50"</span> <span class="attr">r</span>=<span class="string">"40"</span>&gt;</span><span class="tag">&lt;/<span class="name">circle</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"100"</span> <span class="attr">y</span>=<span class="string">"25"</span> <span class="attr">width</span> = <span class="string">"50"</span> <span class="attr">height</span>=<span class="string">"50"</span>&gt;</span><span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"50"</span> <span class="attr">cy</span>=<span class="string">"150"</span> <span class="attr">r</span>=<span class="string">"40"</span> <span class="attr">fill</span>=<span class="string">"blue"</span>&gt;</span><span class="tag">&lt;/<span class="name">circle</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"100"</span> <span class="attr">y</span>=<span class="string">"125"</span> <span class="attr">width</span> = <span class="string">"50"</span> <span class="attr">height</span>=<span class="string">"50"</span> <span class="attr">fill</span>=<span class="string">"#40b842"</span>&gt;</span><span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"100"</span> <span class="attr">y</span>=<span class="string">"225"</span> <span class="attr">width</span> = <span class="string">"50"</span> <span class="attr">height</span>=<span class="string">"50"</span> <span class="attr">fill</span>=<span class="string">"rgb(33, 14, 180)"</span>&gt;</span><span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">g</span> <span class="attr">transform</span>= <span class="string">"translate(0,200)"</span> <span class="attr">fill</span>=<span class="string">"pink"</span> <span class="attr">stroke</span>=<span class="string">"black"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"50"</span> <span class="attr">cy</span>=<span class="string">"150"</span> <span class="attr">r</span>=<span class="string">"40"</span> <span class="attr">stroke-width</span>=<span class="string">"5"</span> &gt;</span><span class="tag">&lt;/<span class="name">circle</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"100"</span> <span class="attr">y</span>=<span class="string">"125"</span> <span class="attr">width</span> = <span class="string">"50"</span> <span class="attr">height</span>=<span class="string">"50"</span>&gt;</span><span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">g</span> <span class="attr">class</span> = <span class="string">"lines"</span> <span class="attr">transform</span>=<span class="string">"translate(50,0)"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">line</span> <span class="attr">x1</span>=<span class="string">"200"</span> <span class="attr">y1</span>=<span class="string">"20"</span> <span class="attr">x2</span>=<span class="string">"300"</span> <span class="attr">y2</span>=<span class="string">"280"</span>&gt;</span><span class="tag">&lt;/<span class="name">line</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span>  <span class="attr">fill</span>=<span class="string">"none"</span> <span class="attr">d</span>=<span class="string">"M300 280 L350 200 L450 250 L450 400"</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span> <span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>style.css æˆ‘ä»¬æŠŠlineså®šä¹‰æˆé»‘è‰²ï¼Œå®½åº¦ä¸º10ï¼Œlineä¸­çš„pathå±æ€§å®šä¹‰æˆè¿™ä¸ªé¢œè‰²ã€‚</p>
<p><strong><code>stroke-linejoin</code></strong> å±æ€§æŒ‡æ˜è·¯å¾„çš„è½¬è§’å¤„ä½¿ç”¨çš„å½¢çŠ¶æˆ–è€…ç»˜åˆ¶çš„åŸºç¡€å½¢çŠ¶ã€‚<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-linejoin" target="_blank" rel="noopener">developer.mozila.org</a></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123; </span><br><span class="line"> 	<span class="attribute">margin</span>:<span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlighted</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.lines</span>&#123;</span><br><span class="line">  <span class="attribute">stroke</span>:black;</span><br><span class="line">  <span class="attribute">stroke-width</span>:<span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.lines</span> <span class="selector-tag">path</span>&#123;</span><br><span class="line">  <span class="attribute">stroke</span>: <span class="number">#25656d</span> ;</span><br><span class="line">  <span class="attribute">stroke-linejoin</span>: round;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>miter,round,bevel,miter-clip,arcs</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/4.png" style="zoom:40%;"></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/6.png" style="zoom:80%;"></p>
<h3 id="Js-D3çš„å¸¸ç”¨æ¥å£"><a href="#Js-D3çš„å¸¸ç”¨æ¥å£" class="headerlink" title="Js D3çš„å¸¸ç”¨æ¥å£"></a>Js D3çš„å¸¸ç”¨æ¥å£</h3><p>â€¢console.log(â€˜hello world! â€™);</p>
<p>â€¢æ•°ç»„a = [1, 2, 3]</p>
<p>â€¢å¯¹è±¡a = {name: â€˜Shao-Kuiâ€™, age: 24.3, lab: â€˜cscgâ€™}</p>
<p>â€¢D3æ•°æ®å¯è§†åŒ–ä¸­å¸¸è§å¯¹è±¡æ•°ç»„ï¼Œå¦‚ï¼š</p>
<p>â€‹     â€¢a = [{name: â€˜Shao-Kuiâ€™, age: 24.3, dept: â€˜csâ€™},</p>
<pre><code> â€¢{name: â€˜Wen-Yangâ€™, age: 23, dept: â€˜csâ€™},
</code></pre><p>â€‹     â€¢{name: â€˜Yunâ€™, age: 18ğŸ˜, dept: â€˜artâ€™}]</p>
<p>â€¢æ•°ç»„çš„æ’åºa.sort()</p>
<p>â€¢å¯åŠ å…¥å›è°ƒå‡½æ•°æ¥æ›¿ä»£ç¼ºçœçš„æ’åºæ–¹æ¡ˆï¼Œå¦‚å¯¹æ—¥æœŸæ’åº</p>
<p>â€¢a.sort(function(a,b){ return new Date(b.date) -new Date(a.date); }</p>
<p>â€¢æ•°ç»„çš„æŸ¥è¯¢a.find( d =&gt; d.name === â€˜Wen-Yangâ€™)</p>
<p>â€¢æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•°å€¼ï¼š+(â€˜3.14â€™)</p>
<p>â€¢D3.jsç»å¸¸è¯»å–CSVæ–‡ä»¶ï¼Œå±Šæ—¶ä¼šæ¶‰åŠå¤§é‡çš„æ•°ç»„ã€å¯¹è±¡çš„æ“ä½œï¼</p>
<h3 id="Flask-Whyï¼Ÿ"><a href="#Flask-Whyï¼Ÿ" class="headerlink" title="Flask - Whyï¼Ÿ"></a>Flask - Whyï¼Ÿ</h3><p>â€¢ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªåå°ï¼ˆæœåŠ¡å™¨ï¼‰ï¼Ÿ</p>
<p>â€‹    â€¢CORS (Cross Origin Resource Sharing)</p>
<p>â€¢å¯å¦ç”¨ä¸€ä¸ªå®Œæ•´çš„.htmlæ–‡ä»¶ç¼–ç¨‹</p>
<p>â€‹    â€¢å®Œå…¨å¯ä»¥ï¼Œä½†æ•°æ®å¤„ç†ã€é“¾æ¥d3.jsåº“ã€é“¾æ¥.jsã€é“¾æ¥.cssæ–‡ä»¶ä¼šéå¸¸éº»çƒ¦ï¼</p>
<p>â€¢å¯¹äºæ²¡æœ‰WEBå¼€å‘ç»éªŒçš„åŒå­¦ï¼Œæœ¬è¯¾ç¨‹å¯¹D3.jså’Œå¯è§†åŒ–ä»¥å¤–çš„å·¥ç¨‹ä¸åšè¦æ±‚ï¼š</p>
<p>â€‹    â€¢æä¾›é»˜è®¤è°ƒé€šçš„å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¡†æ¶</p>
<p>â€‹    â€¢ä»…éœ€è¦äº†è§£åç»­çš„å†…å®¹ï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œé…ç½®å¹¶è¿è¡Œå³å¯</p>
<p>â€‹    â€¢æ¨èæœ‰webç»éªŒçš„åŒå­¦æ­å»ºè‡ªå·±ç†Ÿæ‚‰çš„ç¯å¢ƒ</p>
<p>åˆ©ç”¨æœåŠ¡å™¨æˆ‘ä»¬å¯ä»¥è®¾ç½®è·¯ç”±ï¼Œç„¶åå½“æˆ‘ä»¬è¾“å…¥é“¾æ¥ä¼šæ˜¾ç¤ºç›¸åº”htmlæ–‡ä»¶</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/9.png" style="zoom:80%;"></p>
<p>æˆ‘ä»¬éœ€è¦ä¸‹è½½ flask_cors æ¶‰åŠåˆ°è·¨åŸŸè®¿é—®çš„é—®é¢˜.å¯åŠ¨äº†è¿™ä¸ªflaskåï¼Œæˆ‘ä»¬è¾“å…¥ nCovnxtï¼Œæ˜¾ç¤ºäº†è¿™æ ·ä¸€ä¸ªD3</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/10.png" style="zoom:80%;"></p>
<p>æˆ‘ä»¬å¯ä»¥å¾ˆç®€å•çš„åœ¨Flaskä¸­ç”³è¯·ä¸€ä¸ªè·¯ç”±</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route('/stack_histogram')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stack_histogram</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> flask.send_from_directory(<span class="string">'static'</span>, <span class="string">'stack_histogram.html'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="Hello-D3"><a href="#Hello-D3" class="headerlink" title="Hello D3"></a>Hello D3</h2><h3 id="D3è·å–ä¿®æ”¹åˆ é™¤èŠ‚ç‚¹"><a href="#D3è·å–ä¿®æ”¹åˆ é™¤èŠ‚ç‚¹" class="headerlink" title="D3è·å–ä¿®æ”¹åˆ é™¤èŠ‚ç‚¹"></a>D3è·å–ä¿®æ”¹åˆ é™¤èŠ‚ç‚¹</h3><h4 id="D3æŸ¥è¯¢SVG"><a href="#D3æŸ¥è¯¢SVG" class="headerlink" title="D3æŸ¥è¯¢SVG"></a>D3æŸ¥è¯¢SVG</h4><p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/11.png" style="zoom: 67%;"></p>
<p>æ¯”å¦‚æˆ‘ä»¬æ–°å»ºäº†è¿™ä¸ªdemoï¼Œé‡Œé¢å„ä¸ªå›¾å½¢æœ‰ä»–çš„id</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/1.jpg" style="zoom: 67%;"></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/12.png" style="zoom: 67%;"></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/13.png" style="zoom: 67%;"></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/14.png" style="zoom: 67%;"></p>
<p>é™¤äº†åŸºäºå•çº¯çš„idå’Œclassæ¥è¿›è¡Œç´¢å¼•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å±‚çº§æŸ¥è¯¢æ¥è¿›è¡Œç´¢å¼•</p>
<p>æ¯”å¦‚ä¸‹é¢æœ‰ä¸€å †çˆ¶èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆç”¨ <code>#maingroup</code>æ‰¾åˆ°çˆ¶èŠ‚ç‚¹ï¼Œç„¶åå†åœ¨é‡Œé¢æ‰¾åˆ°rectå­èŠ‚ç‚¹</p>
<p>æˆ–è€…æˆ‘æ‰¾åˆ°æ‰€æœ‰ class = â€œtickâ€ çš„çˆ¶èŠ‚ç‚¹ï¼Œç„¶åå»ä¸‹é¢æ‰¾textçš„å­èŠ‚ç‚¹</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/15.png" style="zoom: 80%;"></p>
<p>classç´¢å¼•æŸä¸ªå­é›†ï¼Œidç´¢å¼•æŸä¸ªç‰¹å®šçš„å…ƒç´ </p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/16.png" style="zoom: 80%;"></p>
<p>å…ƒç´ çš„ Class ï¼šäººä¸ºèµ‹äºˆçš„â€œç±»åˆ«â€å¯ä»¥æ ‡è®°å…ƒç´ é›†åˆï¼Œ å…¶ä¸­çš„å…ƒç´ æ ‡ç­¾å¯ä»¥ä¸ç›¸åŒ ï¼</p>
<p>æ¯”å¦‚æˆ‘å¯ä»¥åˆ©ç”¨class ç­›é€‰è¿™rect1ï¼Œrect2ï¼Œcircle1 è¿™ä¸‰ä¸ªå›¾å‹ï¼Œå› ä¸ºä»–ä»¬çš„classç›¸åŒ ï¼Œidå¯ä»¥ä¸åŒ</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/17.png" style="zoom: 80%;"></p>
<h4 id="ä½¿ç”¨D3-è®¾ç½®SVGä¸­çš„å±æ€§"><a href="#ä½¿ç”¨D3-è®¾ç½®SVGä¸­çš„å±æ€§" class="headerlink" title="ä½¿ç”¨D3 è®¾ç½®SVGä¸­çš„å±æ€§"></a>ä½¿ç”¨D3 è®¾ç½®SVGä¸­çš„å±æ€§</h4><p>å°½å¯èƒ½è®°ä½å¸¸ç”¨çš„å±æ€§</p>
<p>ç°æŸ¥ç°ç”¨ï¼<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute</a></p>
<p> <img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/18.png" style="zoom: 80%;"></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/19.png" style="zoom: 80%;"></p>
<p>æ¯”å¦‚æˆ‘ä»¬åœ¨chromeä¸­ä¿®æ”¹ä¸€ä¸ªæŸ±ä½“ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆ é€‰æ‹©rect2ï¼Œç„¶ååˆ©ç”¨attræŠŠæŸ±ä½“çš„é¢œè‰²æ”¹æˆé»‘è‰²</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/20.png" style="zoom: 80%;"></p>
<p>åˆ©ç”¨selectAllæŠŠä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰å¯¹è±¡å…¨éƒ¨é€‰æ‹©ï¼Œç„¶åå¡«å……é»„è‰²</p>
<h5 id="transform"><a href="#transform" class="headerlink" title="transform"></a>transform</h5><p><strong>translate</strong></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/21.png" style="zoom: 80%;"></p>
<p><strong>rotate</strong></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/22.png" style="zoom: 80%;"></p>
<p><strong>scale</strong></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/23.png" style="zoom: 80%;"></p>
<h5 id="element-attr"><a href="#element-attr" class="headerlink" title="element.attr"></a>element.attr</h5><p>å‰é¢çš„å‚æ•°æ˜¯å›¾å…ƒçš„å±æ€§åç§°ï¼Œåé¢ä¸€ä¸ªæ˜¯è¦è®¾ç½®çš„å€¼</p>
<p> <img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/24.png" style="zoom: 80%;"></p>
<h5 id="æ´»ç”¨-èŠ‚ç‚¹"><a href="#æ´»ç”¨-èŠ‚ç‚¹" class="headerlink" title="æ´»ç”¨ \èŠ‚ç‚¹"></a>æ´»ç”¨ \<g\>èŠ‚ç‚¹</g\></h5><p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/25.png" style="zoom: 80%;"></p>
<p>å­èŠ‚ç‚¹çš„å±æ€§è®¾ç½®éƒ½æ˜¯åœ¨çˆ¶èŠ‚ç‚¹çš„åŸºç¡€ä¸Šè¿›è¡Œè®¾ç½®</p>
<h4 id="æ·»åŠ å’Œåˆ é™¤å…ƒç´ "><a href="#æ·»åŠ å’Œåˆ é™¤å…ƒç´ " class="headerlink" title="æ·»åŠ å’Œåˆ é™¤å…ƒç´ "></a>æ·»åŠ å’Œåˆ é™¤å…ƒç´ </h4><p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/26.png" style="zoom: 80%;"></p>
<p>appendåé¢å†™çš„æ˜¯æ·»åŠ ä»€ä¹ˆç±»å‹çš„å›¾å…ƒ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d3.select(<span class="string">'#maingroup'</span>).append(<span class="string">'rect'</span>).attr(<span class="string">'width'</span>,<span class="number">100</span>).attr(<span class="string">'height'</span>,<span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<p>æˆ‘å¦‚æœæƒ³åˆ é™¤ä¸€ä¸ªå›¾å…ƒï¼Œé‚£ä¹ˆ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d3.select(<span class="string">'#rect1'</span>).remove();</span><br></pre></td></tr></table></figure>
<p>æ— è®ºæ˜¯æ·»åŠ æˆ–è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½éœ€è¦å…ˆæŸ¥è¯¢ï¼Œå†åšæ“ä½œ</p>
<h3 id="margin"><a href="#margin" class="headerlink" title="margin"></a>margin</h3><p>é¦–å…ˆè¿˜è¦äº†è§£ä¸€ä¸‹<strong>margin</strong></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/31.png" style="zoom: 50%;"></p>
<p>marginå°±æ˜¯è¾¹æ¡†</p>
<p>SVGå¯¹äºD3.jsæ˜¯ä¸€ä¸ªâ€œç”»å¸ƒâ€ï¼ŒSVGèŒƒå›´å¤–çš„ä»»ä½•å†…å®¹å±äºç”»å¸ƒä¹‹å¤–ï¼Œæµè§ˆå™¨å°†ä¸äºˆæ˜¾ç¤º</p>
<p>å®šä¹‰Margin:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> margin = &#123;<span class="attr">top</span>: <span class="number">60</span>, <span class="attr">right</span>: <span class="number">30</span>, <span class="attr">bottom</span>: <span class="number">60</span>, <span class="attr">left</span>: <span class="number">200</span>&#125;</span><br></pre></td></tr></table></figure>
<p>è®¡ç®—å®é™…æ“ä½œçš„ inner é•¿/å®½</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> innerWidth = width - margin.left - margin.right;</span><br><span class="line"><span class="keyword">const</span> innerHeight = height - margin.top - margin.bottom;</span><br></pre></td></tr></table></figure>
<p>åœ¨SVGä¸‹é¢å¤–å®šä¹‰ä¸€ä¸ªç»„ä½œä¸ºæ–°çš„æ ¹èŠ‚ç‚¹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> g = svg.append(<span class="string">'g'</span>).attr(<span class="string">'id'</span>, <span class="string">'maingroup'</span>)</span><br><span class="line">attr(<span class="string">'transform'</span>, <span class="string">`translate(<span class="subst">$&#123;margin.left&#125;</span>, <span class="subst">$&#123;margin.top&#125;</span>)`</span>);</span><br></pre></td></tr></table></figure>
<h3 id="æ¯”ä¾‹å°º"><a href="#æ¯”ä¾‹å°º" class="headerlink" title="æ¯”ä¾‹å°º"></a>æ¯”ä¾‹å°º</h3><p>â€¢    æ¯”ä¾‹å°ºç”¨äºæŠŠå®é™…çš„æ•°æ®ç©ºé—´æ˜ å°„åˆ°å±å¹•çš„ç©ºé—´<br>â€¢    æ¯”ä¾‹å°ºéå¸¸é‡è¦ï¼Œä¼šç»å¸¸åŒæ—¶ä¼ ç»™åæ ‡è½´ä¸æ•°æ®</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/27.png" style="zoom: 50%;"></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/2.jpg" style="zoom: 50%;"></p>
<p>çº¿æ€§çš„æ¯”ä¾‹å°º</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xScale = d3.scaleLinear()</span><br><span class="line"><span class="comment">//domainå°±æ˜¯åŸæ¯”ä¾‹</span></span><br><span class="line">				 .domain([min_d, max_d]).</span><br><span class="line"><span class="comment">//rangeå°±æ˜¯ç¼©æ”¾åçš„æ¯”ä¾‹å°º</span></span><br><span class="line"><span class="comment">//rangeå’Œdomainéƒ½å¿…é¡»ä¼ å…¥ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">				 .range([min, max]);</span><br><span class="line"><span class="keyword">const</span> xScale = d3.scaleLinear()</span><br><span class="line">				 .domain([<span class="number">0</span>, d3.max(data, datum=&gt;datum.value)])</span><br><span class="line">				 .range([<span class="number">0</span>, innerWidth]);</span><br></pre></td></tr></table></figure>
<p>d3.max(æ•°æ®ï¼Œå›è°ƒï¼šå¦‚ä½•æå–æ•°æ®çš„å€¼)<br>d3.max: æ±‚å‡ºæ•°æ®æŸä¸€å±æ€§çš„æœ€å¤§å€¼ï¼Œæ¯”å¦‚å¹´é¾„çš„æœ€å¤§å€¼</p>
<p> from Data Space to Screen Space</p>
<p>â€‹                               <img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/3.jpg" style="zoom: 50%;"><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/4.jpg" style="zoom: 50%;"></p>
<p>æŸ±çŠ¶çš„æ¯”ä¾‹å°º ï¼šå¯¹åº”ç¦»æ•£çš„å˜é‡</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/29.png" style="zoom: 90%;"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> yScale = d3.scaleBand() </span><br><span class="line">				 .domain(list)</span><br><span class="line">				 .range([min, max])</span><br><span class="line">				 .padding(p);</span><br><span class="line"><span class="keyword">const</span> yScale = d3.scaleBand()</span><br><span class="line">				 .domain(data.map(<span class="function"><span class="params">datum</span> =&gt;</span> datum.name)) </span><br><span class="line">				 .range([<span class="number">0</span>, innerHeight])</span><br><span class="line">			  	 .padding(<span class="number">0.1</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>é€šè¿‡d3.scaleLinearæˆ–d3.scaleBandå¾—åˆ°çš„è¿”å›å€¼æœ¬è´¨ä¸Šæ˜¯å‡½æ•°<ul>
<li>ç»™å‡ºæ•°æ®ä¸­çš„å€¼ï¼ˆdomain)</li>
<li>è¿”å›æ˜ å°„åçš„å€¼ï¼ˆrangeï¼‰</li>
<li>.domain(â€¦)å’Œ.range(â€¦)å¯ä»¥ç†è§£ä¸ºé…ç½®è¿™ä¸ªå‡½æ•°ï¼ˆåŠŸèƒ½ï¼‰çš„è¿‡ç¨‹</li>
</ul>
</li>
<li>æ¯”ä¾‹å°ºçš„å®šä¹‰ä»é€‚ç”¨é“¾å¼è°ƒç”¨</li>
<li>åæ ‡è½´å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ˜ å°„å‡½æ•°ï¼Œæˆ‘å¯ä»¥æŠŠæˆ‘domainä¸­çš„è¿ç»­çš„æˆ–è€…ç¦»æ•£çš„æ•°æ®æ˜ å°„åˆ°å›¾æ ‡å½“ä¸­</li>
</ul>
<h3 id="åæ ‡è½´"><a href="#åæ ‡è½´" class="headerlink" title="åæ ‡è½´"></a>åæ ‡è½´</h3><h4 id="å¼•å…¥åæ ‡è½´"><a href="#å¼•å…¥åæ ‡è½´" class="headerlink" title="å¼•å…¥åæ ‡è½´"></a>å¼•å…¥åæ ‡è½´</h4><ul>
<li>ä¸€ä¸ªåæ ‡è½´ä¸ºä¸€ä¸ªgroupï¼ˆ<code>&lt;g&gt;</code>ï¼‰ï¼Œé€šå¸¸æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªåæ ‡è½´</li>
<li>åæ ‡è½´ä¸­åŒ…å«ï¼š<ul>
<li>ä¸€ä¸ª <code>&lt;path&gt;</code>ç”¨äºæ¨ªè·¨åæ ‡è½´çš„è¦†ç›–èŒƒå›´</li>
<li>è‹¥å¹²ä¸ªåˆ»åº¦<ul>
<li>æ¯ä¸ªåˆ»åº¦ä¹Ÿæ˜¯ä¸€ä¸ªgroup</li>
</ul>
</li>
<li>æ¯ä¸ªåˆ»åº¦ä¸‹å±è¿˜ä¼šåŒ…å«ä¸€ä¸ª<code>&lt;line&gt;</code> å’Œä¸€ä¸ª<code>&lt;text&gt;</code> <ul>
<li><code>&lt;line&gt;</code> ç”¨äºå±•ç¤ºåæ ‡è½´çš„è½´çº¿ï¼Œå¦‚å·¦åˆ°å³æˆ–ä¸Šåˆ°ä¸‹</li>
<li>â€‹    <code>&lt;text&gt;</code> ç”¨äºå±•ç¤ºåæ ‡è½´çš„åˆ»åº¦å€¼ï¼Œå¦‚å®æ•°ã€å§“åã€æ—¥æœŸ</li>
</ul>
</li>
<li>ï¼ˆå¯é€‰ï¼‰ä¸€ä¸ªæ ‡ç­¾ç”¨ä»¥æè¿°åæ ‡è½´</li>
</ul>
</li>
<li>å®šä¹‰åæ ‡è½´ï¼ˆè·å¾—ç»“æœæ˜¯å‡½æ•°ï¼‰ï¼š<br>â€¢    const yAxis = d3.axisLeft(yScale);<br>â€¢    const xAxis = d3.axisBottom(xScale);<br>â€¢    axisLeft: å·¦ä¾§åæ ‡è½´<br>â€¢    axisBotton: å³ä¾§åæ ‡è½´</li>
<li>å®é™…é…ç½®åæ ‡è½´ï¼š<br>â€¢    const yAxisGroup = g.append(â€˜gâ€™).call(yAxis);<br>â€¢    const xAxisGroup = g.append(â€˜gâ€™).call(xAxis)</li>
<li>å®é™…é…ç½®åä¼šå‘ç° <code>&lt;g&gt;</code>ä¸­å¢æ·»äº†ä¸åæ ‡è½´ç›¸å…³çš„å…ƒç´ </li>
<li>ä»»ä½•åæ ‡è½´åœ¨åˆå§‹åŒ–ä¹‹åä¼šé»˜è®¤æ”¾ç½®åœ¨åæ ‡åŸç‚¹ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„å¹³ç§»</li>
<li><p>å…³äº selection.call(â€¦)</p>
<ul>
<li>å‡½æ•°çš„è¾“å…¥ä¸ºå¦ä¸€ä¸ªå‡½æ•°</li>
<li>å¦ä¸€ä¸ªå‡½æ•°ä»¥selectionçš„å›¾å…ƒä½œä¸ºè¾“å…¥</li>
<li>å¦ä¸€ä¸ªå‡½æ•°ä¸­ä¼šæ ¹æ®å‡½æ•°ä½“çš„å†…å®¹ä¿®æ”¹selectionå¯¹åº”çš„å›¾å…ƒ</li>
</ul>
</li>
<li>ä¸‹é¢çš„ä»£ç çš„æ„æ€å°±æ˜¯å‘Šè¯‰åæ ‡è½´ä»–è¯¥æ€ä¹ˆä½¿ç”¨è¿™ä¸ªè€Œæ¯”ä¾‹å°º<br>â€¢    const yAxis = d3.axisLeft(yScale);<br>â€¢    const yAxisGroup = g.append(â€˜gâ€™).call(yAxis);</li>
<li>â€‹    å¯¹å‡½æ•°å¼ç¼–ç¨‹æ•æ„Ÿæœ‰åŠ©äºå­¦ä¹ D3 &amp; ç†è§£D3çš„ä»£ç ï¼</li>
</ul>
<h4 id="é…ç½®åæ ‡è½´"><a href="#é…ç½®åæ ‡è½´" class="headerlink" title="é…ç½®åæ ‡è½´"></a>é…ç½®åæ ‡è½´</h4><ul>
<li>å¯ä»¥å¯¹åæ ‡è½´çš„é£æ ¼è¿›è¡Œä¿®æ”¹ï¼šd3.selectAll(â€˜.tick textâ€™).attr(â€˜font-sizeâ€™, â€˜2emâ€™);</li>
<li>.tickSizeæ¥è®¾ç½®ç½‘æ ¼çº¿</li>
<li>åæ ‡è½´çš„æ ‡ç­¾åŠ å…¥ä¸åœ¨D3æ¥å£çš„è´Ÿè´£èŒƒå›´å†…ï¼š<br>â€¢    é€šè¿‡å¯¹åº”ç»„ .append(â€˜textâ€™)æ¥äººä¸ºå®ç°<br>â€¢    ï¼ˆå·¦ï¼‰çºµè½´åæ ‡éœ€è¦ .attr(â€˜transformâ€™, â€˜rotate(-90)â€™) æ¥æ—‹è½¬<br>â€¢    çºµè½´åæ ‡æ—‹è½¬åï¼Œx / y ä¼šé¢ å€’ç”šè‡³å–å€¼èŒƒå›´ç›¸å<br>â€¢    å›å¿†DOMï¼šçˆ¶èŠ‚ç‚¹çš„å±æ€§ä¼šå½±å“å­èŠ‚ç‚¹ï¼Œè€Œåæ ‡è½´é»˜è®¤çš„â€™fillâ€™å±æ€§æ˜¯ â€˜noneâ€™ï¼Œå› æ­¤è¯·ä¸€å®šæ‰‹åŠ¨è®¾ç½®æ–‡å­—é¢œè‰² .attr(â€˜fillâ€™, â€˜blackâ€™)</li>
</ul>
<h2 id="Data-Join"><a href="#Data-Join" class="headerlink" title="Data-Join"></a>Data-Join</h2><p>æˆ‘ä»¬èƒ½ä¸èƒ½æŠŠæ·»åŠ å’Œä¿®æ”¹å›¾å…ƒè‡ªåŠ¨åŒ–ï¼Ÿ</p>
<ul>
<li>Data-Join çš„æœ¬è´¨ä¸Š æ˜¯å°†æ•°æ®ä¸å›¾å…ƒè¿›è¡Œç»‘å®š<ul>
<li>æ¯ä¸ªå›½å®¶çš„äººæ•°ç»‘å®šåˆ°çŸ©å½¢çš„é•¿åº¦</li>
<li>ç–«æƒ…æ„ŸæŸ“çš„äººæ•°æ¯”ä¾‹ç»‘å®šåˆ°åœ†çš„åŠå¾„</li>
</ul>
</li>
<li><p>Why?</p>
<ul>
<li>ä½¿ç”¨Data-Joinå¯ä»¥çœå»å¤§é‡æ ¹æ®æ•°æ®è®¾ç½®å›¾å…ƒå±æ€§çš„ä»£ç é‡</li>
<li>å¯¹äº<strong>åŠ¨æ€å˜åŒ–çš„æ•°æ®</strong>æä¾›ç»Ÿä¸€æ¥å£</li>
</ul>
</li>
<li><p>ä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„å¯è§†åŒ–æ“ä½œ<br>â€¢    æ ¹æ®æ•°æ®çš„æ¯ä¸ªå±æ€§è‡ªåŠ¨è°ƒæ•´ç»‘å®šå›¾å…ƒçš„å±æ€§</p>
</li>
<li>ä¸å†éœ€è¦æ‰‹åŠ¨æ·»åŠ ã€â€˜ä¿®æ”¹â€™ã€åˆ é™¤å›¾å…ƒ<br>â€¢    ä¼šæ ¹æ®Data-Joinçš„ç»‘å®šè‡ªåŠ¨æ¨æ–­</li>
<li>å¦‚æœå›¾å…ƒçš„æ•°ç›®ä¸ç­‰äºæ•°æ®çš„æ¡ç›®ï¼Ÿ<br>â€¢    æ ¹æ®æ•°æ®æ¡ç›®çš„æ•°é‡é€‰å®šç›¸åº”æ•°é‡çš„å›¾å…ƒ</li>
</ul>
<h3 id="ç”¨å‡½æ•°è®¾ç½®å›¾å…ƒå±æ€§"><a href="#ç”¨å‡½æ•°è®¾ç½®å›¾å…ƒå±æ€§" class="headerlink" title="ç”¨å‡½æ•°è®¾ç½®å›¾å…ƒå±æ€§"></a>ç”¨å‡½æ•°è®¾ç½®å›¾å…ƒå±æ€§</h3><ul>
<li>å›å¿†ä½¿ç”¨.attrè®¾ç½®å›¾å…ƒå±æ€§</li>
<li>selection.attr(â€˜attrbuteNameâ€™, â€˜valueâ€™)<br>â€¢    æ”¯æŒç›´æ¥é€šè¿‡å€¼æ¥è®¾ç½®å±æ€§<br>â€¢    æ”¯æŒé€šè¿‡å‡½æ•°æ¥è®¾ç½®å±æ€§</li>
<li>selection.attr(â€˜attrbuteNameâ€™, (d, i) =&gt; {â€¦})<br>â€¢    dä¸ºç»‘å®šç»™å›¾å…ƒçš„æ•°æ®ï¼ˆå³å°†åˆ°æ¥ï¼‰<br>â€¢    iä¸ºå›¾å…ƒçš„ç´¢å¼•ï¼Œæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå¦‚d3.selectAll(â€˜rectâ€™)ä¸­çš„ç¬¬å‡ ä¸ªçŸ©å½¢<br>â€¢    å‡½æ•°ä¹Ÿå¯ä»¥ä»…ä½¿ç”¨ d =&gt; {â€¦}ï¼Œä½†æ­¤æ—¶å‡½æ•°ä½“æ— æ³•ä½¿ç”¨ç´¢å¼•<br>â€¢    å³ä½¿ä¸ä½¿ç”¨ç»‘å®šçš„æ•°æ®ï¼ˆå¦‚æ²¡æœ‰ç»‘å®šæ•°æ®ï¼‰ï¼Œå¦‚éœ€ä½¿ç”¨ç´¢å¼•ï¼Œä»éœ€è¦å®Œæ•´çš„å†™å‡º (d, i) =&gt; {â€¦}</li>
</ul>
<h3 id="æ•°æ®ä¸å›¾å…ƒçš„ç»‘å®š"><a href="#æ•°æ®ä¸å›¾å…ƒçš„ç»‘å®š" class="headerlink" title="æ•°æ®ä¸å›¾å…ƒçš„ç»‘å®š"></a>æ•°æ®ä¸å›¾å…ƒçš„ç»‘å®š</h3><ul>
<li>.data( dataArray )</li>
<li>dataArrayåœ¨ä¿è¯æ˜¯ä¸€ä¸ªæ•°ç»„çš„å‰æä¸‹å¯ä»¥æ˜¯ä»»ä½•å½¢å¼<br>â€¢    e.g., [0, 2, 5, 6, 233, 666, 384, 32, 18]<br>â€¢    e.g., [{name: â€˜Sebastianâ€™, value:384}, {name:â€™ Cielâ€™, value:32},{name:â€™Cai Yunâ€™, value:16}]</li>
<li>å…ˆè€ƒè™‘æ•°æ®å’Œå›¾å…ƒæ•°ç›®ç›¸åŒçš„æƒ…å†µï¼š<br>â€¢    dataArrayæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­çš„æ¯â€˜æ¡â€™æ•°æ®ä¼šä¸ä¸€ä¸ªå›¾å…ƒç»‘å®šï¼ˆåä¹‹äº¦ç„¶ï¼‰</li>
<li>ç»‘å®šç»™æ¯ä¸ªå›¾å…ƒçš„æ•°æ®å°†å¯¹åº” .attr(, (d, i) =&gt; {â€¦}) ä¸­çš„ d</li>
<li>é»˜è®¤çš„ç»‘å®šæŒ‰ç…§åŒæ–¹çš„ç´¢å¼•é¡ºåº</li>
<li>ä¸è°ƒç”¨.data(â€¦)ï¼Œåˆ™å›¾å…ƒä¸ä¼šä¸ä»»ä½•æ•°æ®ç»‘å®šï¼</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">const</span> data = [&#123;<span class="attr">name</span>: <span class="string">'Shao-Kui'</span>, <span class="attr">value</span>:<span class="number">6</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Wen-Yang'</span>, <span class="attr">value</span>:<span class="number">6</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Cai Yun'</span>, <span class="attr">value</span>:<span class="number">16</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Liang Yuan'</span>, <span class="attr">value</span>: <span class="number">10</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Yuan-Chen'</span>, <span class="attr">value</span>:<span class="number">6</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Rui-Long'</span>, <span class="attr">value</span>:<span class="number">10</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Dong Xin'</span>, <span class="attr">value</span>:<span class="number">12</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'He Yu'</span>, <span class="attr">value</span>:<span class="number">20</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Xiang-Li'</span>, <span class="attr">value</span>:<span class="number">12</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Godness'</span>, <span class="attr">value</span>:<span class="number">20</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Wei-Yu'</span>, <span class="attr">value</span>:<span class="number">15</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Chen Zheng'</span>, <span class="attr">value</span>:<span class="number">14</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Yu Peng'</span>, <span class="attr">value</span>:<span class="number">15</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Li Jian'</span>, <span class="attr">value</span>:<span class="number">18</span>&#125;]; </span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data1 = [&#123;<span class="attr">name</span>: <span class="string">'Shao-Kui'</span>, <span class="attr">value</span>:<span class="number">12</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Wen-Yang'</span>, <span class="attr">value</span>:<span class="number">13</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Cai Yun'</span>, <span class="attr">value</span>:<span class="number">16</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Liang Yuan'</span>, <span class="attr">value</span>: <span class="number">10</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Yuan-Chen'</span>, <span class="attr">value</span>:<span class="number">6</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Rui-Long'</span>, <span class="attr">value</span>:<span class="number">10</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Dong Xin'</span>, <span class="attr">value</span>:<span class="number">12</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'He Yu'</span>, <span class="attr">value</span>:<span class="number">20</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Xiang-Li'</span>, <span class="attr">value</span>:<span class="number">12</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Godness'</span>, <span class="attr">value</span>:<span class="number">20</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Wei-Yu'</span>, <span class="attr">value</span>:<span class="number">15</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Chen Zheng'</span>, <span class="attr">value</span>:<span class="number">14</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Yu Peng'</span>, <span class="attr">value</span>:<span class="number">15</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Li Jian'</span>, <span class="attr">value</span>:<span class="number">18</span>&#125;]; </span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> data2 = [&#123;<span class="attr">name</span>: <span class="string">'Wen-Yang'</span>, <span class="attr">value</span>:<span class="number">15</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Shao-Kui'</span>, <span class="attr">value</span>:<span class="number">20</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Cai Yun'</span>, <span class="attr">value</span>:<span class="number">16</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Yuan-Chen'</span>, <span class="attr">value</span>: <span class="number">10</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Liang Yuan'</span>, <span class="attr">value</span>:<span class="number">6</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Rui-Long'</span>, <span class="attr">value</span>:<span class="number">10</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Dong Xin'</span>, <span class="attr">value</span>:<span class="number">12</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'He Yu'</span>, <span class="attr">value</span>:<span class="number">20</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Xiang-Li'</span>, <span class="attr">value</span>:<span class="number">12</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Godness'</span>, <span class="attr">value</span>:<span class="number">20</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Wei-Yu'</span>, <span class="attr">value</span>:<span class="number">15</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Chen Zheng'</span>, <span class="attr">value</span>:<span class="number">14</span>&#125;, </span><br><span class="line">      &#123;<span class="attr">name</span>:<span class="string">'Yu Peng'</span>, <span class="attr">value</span>:<span class="number">15</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">'Li Jian'</span>, <span class="attr">value</span>:<span class="number">18</span>&#125;];</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šé¢æˆ‘å®šä¹‰äº†data1ï¼Œdata2ï¼Œæˆ‘å¦‚æœæƒ³æŠŠdata1ä¸­çš„æ•°æ®æ¸²æŸ“åœ¨å›¾è¡¨ä¸Šå»æ›¿æ¢dataä¸­çš„æ•°æ®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d3.selectAll(<span class="string">'rect'</span>).data(data1).attr(<span class="string">'width'</span>,d=&gt; xScale(d.value));</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯æˆ‘å¦‚æœè¿™æ ·æ¥æ”¹ï¼Œå°±ä¼šå‡ºç°é—®é¢˜äº†ã€‚å› ä¸ºé»˜è®¤çš„dataå‡½æ•°æ ¹æ®indexæ¥ç´¢å¼•çš„ï¼Œå¦‚æœæˆ‘ç»™å‡ºçš„æ•°æ®çš„é¡ºåºå‘ç”Ÿäº†å˜åŒ–ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä»ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ªå»ç´¢å¼•</p>
<p>é‚£ä¹ˆè¿™æ ·data2ä¸­Wen-Yangçš„æ•°æ®å°±ä¼šç»‘å®šåˆ°Shao-Kuiä¸Šå»ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d3.selectAll(<span class="string">'rect'</span>).data(data1).attr(<span class="string">'width'</span>,d=&gt; xScale(d.value));</span><br></pre></td></tr></table></figure>
<h3 id="Key"><a href="#Key" class="headerlink" title="Key"></a>Key</h3><ul>
<li>.data(data, keyFunction)<br>â€¢    keyFunctionçš„è¿”å›å€¼é€šå¸¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆstringï¼‰<br>â€¢    keyFunctionçš„å®šä¹‰æ ¹æ®æ•°æ®ï¼Œæ¯”å¦‚ keyFunction = d =&gt; d.name</li>
<li>åœ¨ç»‘å®šæ•°æ®ç»™å›¾å…ƒæ—¶ï¼š<br>â€¢    keyFunctionä¸ºæ¯æ¡è¾“å…¥ç»‘å®šçš„æ•°æ®æ‰§è¡Œä¸€æ¬¡<br>â€¢    keyFunctionä¸ºæ¯ä¸ªåŒ…å«æ•°æ®çš„å›¾å…ƒæ‰§è¡Œä¸€æ¬¡</li>
<li>å¦‚æœå›¾å…ƒä¹‹å‰æ²¡æœ‰ç»‘å®šè¿‡ä»»ä½•æ•°æ®ï¼Œåˆ™keyFunctionä¼šæŠ¥é”™ï¼<br>â€¢    ç¬¬ä¸€æ¬¡ç»‘å®šæ—¶æ ¹æ®ç´¢å¼•å³å¯<br>â€¢    å®é™…çš„å¯è§†åŒ–ä»»åŠ¡ï¼Œå›¾å…ƒéƒ½æ˜¯æ ¹æ®æ•°æ®çš„â€˜æ¡â€™æ•°åŠ¨æ€æ·»åŠ ï¼ˆenterï¼‰ã€åˆ é™¤ï¼ˆexitï¼‰ï¼Œåªéœ€è¦åœ¨æ·»åŠ æ—¶æŒ‡å®šå¥½DOMçš„IDå³å¯</li>
</ul>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨çš„æŠŠkeyå€¼åŠ åˆ°æ•°æ®ä¸­å»ã€‚</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/32.png" style="zoom: 100%;"></p>
<p>è¿™é‡Œï¼Œå› ä¸ºæ•°æ®ä¸­çš„nameéƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠnameè®¾ç½®ä¸ºkey :data(data2,d=&gt;d.name)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d3.selectAll(<span class="string">'rect'</span>).data(data2,d=&gt;d.name).attr(<span class="string">'width'</span>,d=&gt; xScale(d.value));</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨çš„å€¼å°±å˜å¾—æ­£å¸¸äº†ã€‚</p>
<p>ä¹Ÿå°±æ˜¯ç”¨dataæ¥ç»‘å®šæ•°æ®ï¼Œç”¨keyæ¥è¿›è¡Œç´¢å¼•</p>
<h3 id="Enter-Update-Exit"><a href="#Enter-Update-Exit" class="headerlink" title="Enter Update Exit"></a>Enter Update Exit</h3><ul>
<li>D3.jsç»‘å®šæ•°æ®çš„ä¸‰ä¸ªâ€˜çŠ¶æ€â€™</li>
<li>Update<br>â€¢    å›¾å…ƒå’Œæ•°æ®æ¡ç›®ç›¸åŒï¼Œä¹‹å‰çš„ä»‹ç»å‡ä¸ºå•çº¯çš„update</li>
<li>Enter<br>â€¢    æ•°æ®çš„æ¡ç›®å¤šäºå›¾å…ƒç”šè‡³æ²¡æœ‰å›¾å…ƒï¼Œå¸¸ç”¨äºç¬¬ä¸€æ¬¡ç»‘å®šæ•°æ®</li>
<li>Exit<br>â€¢    æ•°æ®çš„æ¡ç›®å°‘äºå›¾å…ƒç”šè‡³æ²¡æœ‰æ•°æ®ï¼Œå¸¸ç”¨äºç»“æŸå¯è§†åŒ–</li>
</ul>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/33.png" style="zoom: 100%;"></p>
<h4 id="Enter"><a href="#Enter" class="headerlink" title="Enter"></a>Enter</h4><ul>
<li>æœ‰æ•°æ®æ²¡å›¾å…ƒ</li>
<li>D3.jsä¼šè‡ªåŠ¨â€˜ææ¸…æ¥šâ€™å“ªäº›æ•°æ®æ˜¯æ–°å¢çš„</li>
<li>æ ¹æ®æ–°å¢çš„æ•°æ®ç”Ÿæˆç›¸åº”çš„å›¾å…ƒ</li>
<li>ç”Ÿæˆå›¾å…ƒçš„å ä½ï¼Œå ä½çš„å†…å®¹éœ€è¦ç¼–ç¨‹è€…è‡ªè¡Œæ·»åŠ ï¼ˆappendï¼‰</li>
<li>const p = maingroup.selectAll(â€˜.classâ€™).data(data).enter().append(â€˜â€™).attr(â€¦)<ul>
<li>ç›¸å½“äºæˆ‘è°ƒç”¨dataçš„æ—¶å€™ï¼ŒselectAllä¸­çš„å†…å®¹éƒ½æ˜¯ç©ºçš„ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥å‘é‡Œé¢æ·»åŠ ä»€ä¹ˆæ ·çš„å›¾å…ƒï¼Œè®¾ç½®ä»€ä¹ˆæ ·çš„å±æ€§</li>
</ul>
</li>
<li>enteræœ¬è´¨ä¸Šç”ŸæˆæŒ‡å‘çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè€Œappendæ“ä½œç›¸å½“äºåœ¨çˆ¶èŠ‚ç‚¹åæ·»åŠ æŒ‡é’ˆæ•°é‡çš„å›¾å…ƒå¹¶å°†å…¶ä¸å¤šå‡ºçš„æ•°æ®ç»‘å®š</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">g.selectAll(<span class="string">'.dataRect'</span>).data(data).enter().append(<span class="string">'rect'</span>)</span><br><span class="line">.attr(<span class="string">'class'</span>, <span class="string">'dataRect'</span>)</span><br><span class="line">.attr(<span class="string">'width'</span>, d =&gt; xScale(d.value))</span><br><span class="line">.attr(<span class="string">'height'</span>, yScale.bandwidth())</span><br><span class="line">.attr(<span class="string">'y'</span>, d =&gt; yScale(d.name))</span><br><span class="line">.attr(<span class="string">'fill'</span>, <span class="string">'green'</span>).attr(<span class="string">'opacity</span></span><br></pre></td></tr></table></figure>
<h4 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h4><ul>
<li>æœ‰å›¾å…ƒæœ‰æ•°æ®</li>
<li>const p = maingroup.selectAll(â€˜.datacurveâ€™).data(data).attr(â€¦).attr(â€¦)</li>
<li>Updateä½œä¸ºå®é™…å¯è§†åŒ–ä»»åŠ¡æœ€å¸¸ç”¨çš„çŠ¶æ€ï¼Œç»å¸¸è¢«å•ç‹¬å°è£…æˆä¸€ä¸ªå‡½æ•°</li>
<li>updateSelection.merge( enterSelection ).attr(â€¦).attr(â€¦)<br>â€¢    å°†ä¸¤ä¸ªselectionåˆå¹¶åˆ°ä¸€èµ·æ“ä½œ<br>â€¢    enterSelectionéœ€è¦è‡³å°‘append(â€¦)å›¾å…ƒ</li>
</ul>
<h4 id="Exit"><a href="#Exit" class="headerlink" title="Exit"></a>Exit</h4><ul>
<li>æœ‰å›¾å…ƒæ²¡æ•°æ®<br>D3.jsä¼šè‡ªåŠ¨â€˜ææ¸…æ¥šâ€™å“ªäº›å›¾å…ƒæ˜¯ä¸ç»‘å®šæ•°æ®çš„</li>
<li>å¼•ç”¨å®˜æ–¹æ–‡æ¡£ï¼šexisting DOM elements in the selection for which no new datum was found</li>
<li>const p = maingroup.selectAll(â€˜.classâ€™).data(data).exit().remove()</li>
</ul>
<h3 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h3><ul>
<li>Updateç»å¸¸ä¸D3.jsçš„åŠ¨ç”»ä¸€èµ·ä½¿ç”¨</li>
<li>.transition().duration()<ul>
<li>transitionå°±æ˜¯è¯´è¿›å…¥åŠ¨ç”»æ¨¡å¼ï¼Œ duration()æ˜¯è®¾ç½®åŠ¨ç”»æŒç»­æ—¶é—´</li>
</ul>
</li>
<li>d3.selectAll(â€˜rectâ€™).data(data2, d =&gt; d.name).transition().duration(3000).attr(â€˜widthâ€™, d =&gt; xScale(d.value))</li>
<li>.duration(â€¦)ä¸­ä¸ºæ¯«ç§’ï¼Œå³3000è¡¨ç¤º3ç§’é’Ÿ</li>
<li>.transition(â€¦)ç»è¿‡è°ƒç”¨åï¼Œåç»­çš„é“¾å¼è°ƒç”¨ä¼šå˜æˆæ•°å€¼ä¸Šçš„æ¸å˜ï¼Œæ¸å˜çš„æ—¶é—´ç”±.duration(â€¦)è®¾å®š</li>
<li>æ’å€¼çš„æ–¹å¼ç”±.ease(â€¦)è®¾å®š</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d3.selectAll(<span class="string">'rect'</span>).data(data).transition().duration(<span class="number">1000</span>).attr(<span class="string">'width'</span>,d=&gt;xScale(d.value));</span><br><span class="line">d3.selectAll(<span class="string">'rect'</span>).data(data1).transition().duration(<span class="number">1000</span>).attr(<span class="string">'width'</span>,d=&gt;xScale(d.value));</span><br><span class="line">d3.selectAll(<span class="string">'rect'</span>).data(data2,d=&gt;d.name).transition().duration(<span class="number">1000</span>).attr(<span class="string">'width'</span>,d=&gt;xScale(d.value));</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/1.gif" style="zoom: 130%;"></p>
<h3 id="Data-Joinç®€æ´å½¢å¼"><a href="#Data-Joinç®€æ´å½¢å¼" class="headerlink" title="Data-Joinç®€æ´å½¢å¼"></a>Data-Joinç®€æ´å½¢å¼</h3><ul>
<li>data(â€¦).join(â€˜â€¦â€™)</li>
<li>é»˜è®¤enterå’Œupdateçš„æ‰§è¡Œå½¢å¼ç›¸åŒ</li>
<li>é»˜è®¤exitæ˜¯åˆ é™¤ï¼ˆremoveï¼‰èŠ‚ç‚¹</li>
<li>é»˜è®¤data-joinå½¢å¼ç®€æ´ä½†ä¸çµæ´»<br>â€¢    å¿…é¡»éœ€è¦è®¾ç½®enteræ•°æ®çš„åˆå§‹å›¾å…ƒå±æ€§ï¼Œupdateä¼šæ¯æ¬¡é‡æ–°è®¾ç½®åˆå§‹å€¼ï¼Œä»è€Œå¯¼è‡´åŠ¨ç”»å‡ºç°â€˜å¥‡æ€ªâ€™çš„æ•ˆæœ<br>â€¢    ä»æ”¯æŒâ€˜å®šåˆ¶â€™ï¼š<br>â€¢    .join(enter =&gt; enter.append(â€œtextâ€).attr(â€œfillâ€, â€œgreenâ€).text(d =&gt; d),update =&gt; (), exit =&gt; ())</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d3.selectAll(<span class="string">'rect'</span>).data(data).transition().duration(<span class="number">1000</span>).attr(<span class="string">'width'</span>,d=&gt;xScale(d.value));</span><br><span class="line">d3.selectAll(<span class="string">'rect'</span>).data(data1).join(<span class="string">'rect'</span>).transition().duration(<span class="number">1000</span>).attr(<span class="string">'width'</span>,d=&gt;xScale(d.value));</span><br></pre></td></tr></table></figure>
<h3 id="æ•°æ®çš„è¯»å–"><a href="#æ•°æ®çš„è¯»å–" class="headerlink" title="æ•°æ®çš„è¯»å–"></a>æ•°æ®çš„è¯»å–</h3><p>å¸¸è§çš„CSVæ•°æ®</p>
<ul>
<li>ç¬¬ä¸€è¡Œä¸ºå±æ€§åˆ—è¡¨</li>
<li>åç»­æ¯è¡Œå¯¹åº”ä¸€â€˜æ¡â€™æ•°æ®</li>
<li>CSVæœ¬è´¨ä¸Šæ˜¯çº¯æ–‡æœ¬ï¼ŒåŒºåˆ«äºEXCELçš„æ ¼å¼</li>
</ul>
<p>è¯»å–</p>
<ul>
<li>d3.csv(â€˜path/to/data.csvâ€™).then( data =&gt; {â€¦} ) å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†</li>
<li>.csvå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªJSçš„â€™Promiseâ€™å¯¹è±¡<br>â€¢    â€˜Promiseâ€™å¯¹è±¡ç”¨äºæ‰§è¡Œå¼‚æ­¥æ“ä½œ</li>
<li>â€‹    .then(â€¦)çš„å‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°ä¸º.csv(â€¦)çš„è¿”å›å€¼<br>â€¢     å®é™…ä¸Šåœ¨JavaScriptå¼‚æ­¥ä¸­æ˜¯ä¸€ä¸ªresolve</li>
<li>d3.csv(â€¦)ä¼šæ­£å¸¸å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ï¼Œåœ¨è¯·æ±‚å¹¶å¤„ç†å¥½ä¹‹åï¼Œå°†ç»“æœæ‰”ç»™.then(â€¦)ä¸­çš„å›è°ƒå‡½æ•°</li>
</ul>
<h3 id="å®ä¾‹ï¼šç»˜åˆ¶ç¬‘è„¸"><a href="#å®ä¾‹ï¼šç»˜åˆ¶ç¬‘è„¸" class="headerlink" title="å®ä¾‹ï¼šç»˜åˆ¶ç¬‘è„¸"></a>å®ä¾‹ï¼šç»˜åˆ¶ç¬‘è„¸</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;select,arc&#125; <span class="keyword">from</span> <span class="string">'d3'</span>;</span><br><span class="line"><span class="keyword">const</span> svg = select(<span class="string">'svg'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> width = +svg.attr(<span class="string">'width'</span>);</span><br><span class="line"><span class="keyword">const</span> height = +svg.attr(<span class="string">'height'</span>);</span><br><span class="line"><span class="keyword">const</span> g = svg</span><br><span class="line">		.append(<span class="string">'g'</span>)</span><br><span class="line">			.attr(<span class="string">'transform'</span>,<span class="string">`translate(<span class="subst">$&#123;width<span class="regexp">/2&#125;,$&#123;height/</span><span class="number">2</span>&#125;</span>)`</span>)</span><br><span class="line"><span class="keyword">const</span> circle =  g</span><br><span class="line">		.append(<span class="string">'circle'</span>)</span><br><span class="line">			.attr(<span class="string">'r'</span>,height/<span class="number">2</span>)</span><br><span class="line">			.attr(<span class="string">'fill'</span>,<span class="string">'yellow'</span>)</span><br><span class="line">			.attr(<span class="string">'stroke'</span>,<span class="string">'black'</span>)</span><br><span class="line"><span class="keyword">const</span> eyeSpacing = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">const</span> eyeYOffset = <span class="number">-70</span>;</span><br><span class="line"><span class="keyword">const</span> eyeRadius = <span class="number">40</span>;</span><br><span class="line"><span class="keyword">const</span> eyebrowWidth = <span class="number">70</span>;</span><br><span class="line"><span class="keyword">const</span> eyebrowHeight =<span class="number">15</span>;</span><br><span class="line"><span class="keyword">const</span> eyebrowYOffset = <span class="number">-70</span>;</span><br><span class="line"><span class="comment">//çœ¼ç›ç»„</span></span><br><span class="line"><span class="keyword">const</span> eyesG = g</span><br><span class="line">		.append(<span class="string">'g'</span>)</span><br><span class="line">			.attr(<span class="string">'transform'</span>,<span class="string">`translate(0,<span class="subst">$&#123;eyeYOffset&#125;</span>)`</span>);</span><br><span class="line"><span class="keyword">const</span> leftEye =  eyesG</span><br><span class="line">		.append(<span class="string">'circle'</span>)</span><br><span class="line">			.attr(<span class="string">'r'</span>,eyeRadius)</span><br><span class="line">			.attr(<span class="string">'cx'</span>, -eyeSpacing)</span><br><span class="line"><span class="keyword">const</span> rightEye =  eyesG</span><br><span class="line">		.append(<span class="string">'circle'</span>)</span><br><span class="line">			.attr(<span class="string">'r'</span>,eyeRadius)</span><br><span class="line">			.attr(<span class="string">'cx'</span>, eyeSpacing)</span><br><span class="line"><span class="comment">//çœ‰æ¯›ç»„ï¼Œæˆ‘è§‰å¾—å¯ä»¥è¯´æ˜¯ä»çœ¼ç›ç»„ä¸­ç»§æ‰¿è¿‡æ¥çš„ã€‚</span></span><br><span class="line"><span class="keyword">const</span> eyebrowsG = eyesG</span><br><span class="line">		.append(<span class="string">'g'</span>)</span><br><span class="line">			.attr(<span class="string">'transform'</span>,<span class="string">`translate(0,<span class="subst">$&#123;eyeYOffset&#125;</span>)`</span>);</span><br><span class="line">eyebrowsG</span><br><span class="line">  .transition().duration(<span class="number">2000</span>)</span><br><span class="line">		.attr(<span class="string">'transform'</span>,<span class="string">`translate(0,<span class="subst">$&#123;eyebrowYOffset<span class="number">-50</span>&#125;</span>)`</span>)</span><br><span class="line">	.transition().duration(<span class="number">2000</span>)</span><br><span class="line">		.attr(<span class="string">'transform'</span>,<span class="string">`translate(0,<span class="subst">$&#123;eyebrowYOffset&#125;</span>)`</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å·¦å³çœ‰æ¯›</span></span><br><span class="line"><span class="keyword">const</span> leftEyebrow = eyebrowsG</span><br><span class="line">  .append(<span class="string">'rect'</span>)</span><br><span class="line">    .attr(<span class="string">'x'</span>, -eyeSpacing - eyebrowWidth / <span class="number">2</span>)</span><br><span class="line">    .attr(<span class="string">'width'</span>, eyebrowWidth)</span><br><span class="line">    .attr(<span class="string">'height'</span>, eyebrowHeight);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rightEyebrow = eyebrowsG</span><br><span class="line">  .append(<span class="string">'rect'</span>)</span><br><span class="line">    .attr(<span class="string">'x'</span>, eyeSpacing - eyebrowWidth / <span class="number">2</span>)</span><br><span class="line">    .attr(<span class="string">'width'</span>, eyebrowWidth)</span><br><span class="line">    .attr(<span class="string">'height'</span>, eyebrowHeight); </span><br><span class="line"></span><br><span class="line"><span class="comment">//å˜´å·´ï¼Œåˆ©ç”¨arcï¼Œæ˜¯åˆ¶ä½œå¼§çš„ä¸€ä¸ªapi			</span></span><br><span class="line"><span class="keyword">const</span> mounth = g</span><br><span class="line">	.append(<span class="string">'path'</span>)</span><br><span class="line">		.attr(<span class="string">'d'</span>,arc()(&#123;</span><br><span class="line">						innerRadius: <span class="number">150</span>,</span><br><span class="line">  					outerRadius: <span class="number">170</span>,</span><br><span class="line">  					startAngle: <span class="built_in">Math</span>.PI/<span class="number">2</span>,</span><br><span class="line">  					endAngle: <span class="built_in">Math</span>.PI*<span class="number">1.5</span> ,</span><br><span class="line">      &#125;))</span><br></pre></td></tr></table></figure>
<p> <img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/2.gif" style="zoom: 70%;"></p>
<h3 id="å®ä¾‹ï¼š-ç»˜åˆ¶æŸ±çŠ¶å›¾"><a href="#å®ä¾‹ï¼š-ç»˜åˆ¶æŸ±çŠ¶å›¾" class="headerlink" title="å®ä¾‹ï¼š ç»˜åˆ¶æŸ±çŠ¶å›¾"></a>å®ä¾‹ï¼š ç»˜åˆ¶æŸ±çŠ¶å›¾</h3><p>ç”»å¤„æŸ±å½¢å›¾éœ€è¦éµå¾ªäº”ä¸ªæ­¥éª¤</p>
<ul>
<li>Representing a data dable in JavaScript</li>
</ul>
<p>data.css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; select, csv, max, scaleLinear, scaleBand &#125; <span class="keyword">from</span> <span class="string">"d3"</span>;</span><br><span class="line"><span class="keyword">const</span> svg = select(<span class="string">"svg"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> width = +svg.attr(<span class="string">"width"</span>);</span><br><span class="line"><span class="keyword">const</span> height = +svg.attr(<span class="string">"height"</span>);</span><br><span class="line">csv(<span class="string">"data.csv"</span>).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  data.forEach(<span class="function">(<span class="params">d</span>) =&gt;</span> &#123;</span><br><span class="line">    d.population = +d.population * <span class="number">1000</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  render(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>Creating rectangles for each row</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="keyword">const</span> render = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> xValue = <span class="function">(<span class="params">d</span>) =&gt;</span> d.population;</span><br><span class="line">  <span class="keyword">const</span> yValue = <span class="function">(<span class="params">d</span>) =&gt;</span> d.country;</span><br><span class="line">  svg</span><br><span class="line">    .selectAll(<span class="string">"rect"</span>)</span><br><span class="line">    .data(data)</span><br><span class="line">    .enter()</span><br><span class="line">    .append(<span class="string">"rect"</span>)</span><br><span class="line">    .attr(<span class="string">"y"</span>, (d) =&gt; yScale(yValue(d)))</span><br><span class="line">    .attr(<span class="string">"width"</span>, (d) =&gt; xScale(xValue(d)))</span><br><span class="line">    .attr(<span class="string">"height"</span>, yScale.bandwidth());</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Using linear and band scales</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="keyword">const</span> render = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> xValue = <span class="function">(<span class="params">d</span>) =&gt;</span> d.population;</span><br><span class="line">  <span class="keyword">const</span> yValue = <span class="function">(<span class="params">d</span>) =&gt;</span> d.country;</span><br><span class="line">  <span class="keyword">const</span> xScale = scaleLinear()</span><br><span class="line">    .domain([<span class="number">0</span>, max(data, xValue)])</span><br><span class="line">    .range([<span class="number">0</span>, width]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> yScale = scaleBand()</span><br><span class="line">    .domain(data.map(yValue))</span><br><span class="line">    .range([<span class="number">0</span>, height])</span><br><span class="line">    .padding(<span class="number">0.1</span>);</span><br><span class="line">  svg</span><br><span class="line">    .selectAll(<span class="string">"rect"</span>)</span><br><span class="line">    .data(data)</span><br><span class="line">    .enter()</span><br><span class="line">    .append(<span class="string">"rect"</span>)</span><br><span class="line">    .attr(<span class="string">"y"</span>, (d) =&gt; yScale(yValue(d)))</span><br><span class="line">    .attr(<span class="string">"width"</span>, (d) =&gt; xScale(xValue(d)))</span><br><span class="line">    .attr(<span class="string">"height"</span>, yScale.bandwidth());</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>The margin convention </p>
</li>
<li><p>Adding axes</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  select,</span><br><span class="line">  csv,</span><br><span class="line">  max,</span><br><span class="line">  scaleLinear,</span><br><span class="line">  scaleBand,</span><br><span class="line">  axisLeft,</span><br><span class="line">  axisBottom,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">"d3"</span>;</span><br><span class="line"><span class="keyword">const</span> svg = select(<span class="string">"svg"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> width = +svg.attr(<span class="string">"width"</span>);</span><br><span class="line"><span class="keyword">const</span> height = +svg.attr(<span class="string">"height"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> render = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> xValue = <span class="function">(<span class="params">d</span>) =&gt;</span> d.population;</span><br><span class="line">  <span class="keyword">const</span> yValue = <span class="function">(<span class="params">d</span>) =&gt;</span> d.country;</span><br><span class="line">  <span class="keyword">const</span> margin = &#123; <span class="attr">top</span>: <span class="number">20</span>, <span class="attr">right</span>: <span class="number">40</span>, <span class="attr">bottom</span>: <span class="number">20</span>, <span class="attr">left</span>: <span class="number">100</span> &#125;;</span><br><span class="line">  <span class="keyword">const</span> innerheight = width - margin.left - margin.right;</span><br><span class="line">  <span class="keyword">const</span> innerwidth = width - margin.left - margin.right;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æ¯”ä¾‹å°º</span></span><br><span class="line">  <span class="keyword">const</span> xScale = scaleLinear()</span><br><span class="line">    .domain([<span class="number">0</span>, max(data, xValue)])</span><br><span class="line">    .range([<span class="number">0</span>, innerwidth]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> yScale = scaleBand()</span><br><span class="line">    .domain(data.map(yValue))</span><br><span class="line">    .range([<span class="number">0</span>, innerheight])</span><br><span class="line">    .padding(<span class="number">0.1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> g = svg</span><br><span class="line">    .append(<span class="string">"g"</span>)</span><br><span class="line">    .attr(<span class="string">"transform"</span>, <span class="string">`translate(<span class="subst">$&#123;margin.left&#125;</span>,<span class="subst">$&#123;margin.top&#125;</span>)`</span>);</span><br><span class="line">	<span class="comment">//åæ ‡è½´</span></span><br><span class="line">  g.append(<span class="string">"g"</span>).call(axisLeft(yScale));</span><br><span class="line">  g.append(<span class="string">"g"</span>)</span><br><span class="line">    .call(axisBottom(xScale))</span><br><span class="line">    .attr(<span class="string">"transform"</span>, <span class="string">`translate(0,<span class="subst">$&#123;innerheight&#125;</span>)`</span>);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">  g.selectAll(<span class="string">"rect"</span>)</span><br><span class="line">    .data(data)</span><br><span class="line">    .enter()</span><br><span class="line">    .append(<span class="string">"rect"</span>)</span><br><span class="line">    .attr(<span class="string">"y"</span>, (d) =&gt; yScale(yValue(d)))</span><br><span class="line">    .attr(<span class="string">"width"</span>, (d) =&gt; xScale(xValue(d)))</span><br><span class="line">    .attr(<span class="string">"height"</span>, yScale.bandwidth());</span><br><span class="line">&#125;;</span><br><span class="line">csv(<span class="string">"data.csv"</span>).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  data.forEach(<span class="function">(<span class="params">d</span>) =&gt;</span> &#123;</span><br><span class="line">    d.population = +d.population * <span class="number">1000</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  render(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/35.png" style="zoom: 70%;"></p>
<h4 id="Customizing-Axes"><a href="#Customizing-Axes" class="headerlink" title="Customizing Axes"></a>Customizing Axes</h4><ul>
<li>Formatting numbers</li>
</ul>
<p><a href="http://bl.ocks.org/zanarmstrong/05c1e95bf7aa16c4768e" target="_blank" rel="noopener">http://bl.ocks.org/zanarmstrong/05c1e95bf7aa16c4768e</a></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/36.png" style="zoom: 80%;"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é»˜è®¤ ç™¾ä¸‡Mä¸Šé¢æ˜¯G,ä½†æ˜¯æˆ‘ä»¬è®¤ä¸ºåäº¿çº§çš„æ›´å‡†ç¡®ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨replaceå‡½æ•°æŠŠ Gæ¢æˆäº†Bã€‚ç„¶åç”¨</span></span><br><span class="line"><span class="comment">//tickFormatæ¥å¼•ç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„æ ¼å¼åŒ–è§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> xAxisTickFormat = <span class="function">(<span class="params">number</span>) =&gt;</span> format(<span class="string">".3s"</span>)(number).replace(<span class="string">"G"</span>, <span class="string">"B"</span>);</span><br><span class="line">  <span class="keyword">const</span> xAxis = axisBottom(xScale).tickFormat(xAxisTickFormat);</span><br><span class="line">  g.append(<span class="string">"g"</span>).call(axisLeft(yScale));</span><br><span class="line">  g.append(<span class="string">"g"</span>).call(xAxis).attr(<span class="string">"transform"</span>, <span class="string">`translate(0,<span class="subst">$&#123;innerheight&#125;</span>)`</span>);</span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/37.png" style="zoom: 90%;"></p>
<ul>
<li>Removing unnecessary lines</li>
</ul>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/38.png" style="zoom: 50%;"></p>
<p>æˆ‘ä»¬è¦å»é™¤è¿™äº›æ ¹éš¾çœ‹çš„è¾¹æ¡†çº¿å’Œå‡¸èµ·æ¥çš„ä¸œè¥¿</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">g.append(<span class="string">"g"</span>)</span><br><span class="line">	.call(axisLeft(yScale))</span><br><span class="line">	.selectAll(<span class="string">".domain,.tick line"</span>)</span><br><span class="line">	.remove();</span><br><span class="line">g.append(<span class="string">"g"</span>)</span><br><span class="line">  .call(xAxis)</span><br><span class="line">  .attr(<span class="string">"transform"</span>, <span class="string">`translate(0,<span class="subst">$&#123;innerheight&#125;</span>)`</span>)</span><br><span class="line">  .selectAll(<span class="string">".domain "</span>)</span><br><span class="line">  .remove();</span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/39.png" style="zoom: 50%;"></p>
<ul>
<li>Adding a Visualization title</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g.append(<span class="string">"text"</span>).attr(<span class="string">"y"</span>, <span class="number">-10</span>).text(<span class="string">"Top 10 Most Popular Countries"</span>);</span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/40.png" style="zoom: 50%;"></p>
<ul>
<li>Adding axis labels</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xAxisG = g</span><br><span class="line">  .append(<span class="string">"g"</span>)</span><br><span class="line">  .call(xAxis)</span><br><span class="line">  .attr(<span class="string">"transform"</span>, <span class="string">`translate(0,<span class="subst">$&#123;innerheight&#125;</span>)`</span>);</span><br><span class="line">xAxisG.select(<span class="string">".domain "</span>).remove();</span><br><span class="line">xAxisG</span><br><span class="line">  .append(<span class="string">"text"</span>)</span><br><span class="line">  .attr(<span class="string">"fill"</span>, <span class="string">"black"</span>)</span><br><span class="line">  .attr(<span class="string">"y"</span>, <span class="number">60</span>)</span><br><span class="line">  .attr(<span class="string">"x"</span>, innerWidth / <span class="number">2</span> - <span class="number">100</span>)</span><br><span class="line">  .text(<span class="string">"Population"</span>);</span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/41.png" style="zoom: 100%;"></p>
<ul>
<li>Making tick grid linesç½‘æ ¼çº¿</li>
</ul>
<p>css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line"> 	<span class="attribute">margin</span>:<span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-tag">rect</span> &#123;</span><br><span class="line">  <span class="attribute">fill</span>: steelblue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">text</span>&#123;</span><br><span class="line">  <span class="attribute">font-size </span>:<span class="number">3em</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tick</span> <span class="selector-tag">text</span> &#123;</span><br><span class="line">  <span class="attribute">font-size </span>:<span class="number">2.7em</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#635F5D</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tick</span> <span class="selector-tag">line</span>&#123;</span><br><span class="line">  <span class="attribute">stroke</span>: <span class="number">#C0C0BB</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.axis-label</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">5em</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#8E8883</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.axis-title</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">3.2em</span>;</span><br><span class="line">  <span class="attribute">fill</span>:<span class="number">#635F5D</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; </span><br><span class="line">  select,</span><br><span class="line">  csv,</span><br><span class="line">  scaleLinear,</span><br><span class="line">  max,</span><br><span class="line">  scaleBand,</span><br><span class="line">  axisLeft,</span><br><span class="line">  axisBottom,</span><br><span class="line">  format</span><br><span class="line">&#125;  <span class="keyword">from</span> <span class="string">'d3'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> render = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">const</span> svg = select(<span class="string">'svg'</span>)</span><br><span class="line">  <span class="keyword">const</span> height = +svg.attr(<span class="string">'height'</span>)</span><br><span class="line">  <span class="keyword">const</span> width = +svg.attr(<span class="string">'width'</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> countryMapping = <span class="function"><span class="params">d</span> =&gt;</span> d.country</span><br><span class="line">  <span class="keyword">const</span> populationMapping = <span class="function"><span class="params">d</span> =&gt;</span> d.population</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> countries = data.map(countryMapping)</span><br><span class="line">  <span class="keyword">const</span> populationMax = max(data, populationMapping)</span><br><span class="line">  <span class="keyword">const</span> margin = &#123;</span><br><span class="line">    top: <span class="number">45</span>,</span><br><span class="line">    bottom: <span class="number">85</span>,</span><br><span class="line">    left: <span class="number">200</span>,</span><br><span class="line">    right: <span class="number">100</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> textHeight = <span class="number">10</span></span><br><span class="line">  <span class="keyword">const</span> innerWidth = width - margin.left - margin.right</span><br><span class="line">  <span class="keyword">const</span> innerHeight = height - margin.top - margin.bottom - textHeight</span><br><span class="line">  <span class="keyword">const</span> xScale = scaleLinear().domain([<span class="number">0</span>, populationMax]).range([<span class="number">0</span>, innerWidth])</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> yBandScale = scaleBand()</span><br><span class="line">  .domain(countries)</span><br><span class="line">  .range([<span class="number">0</span>, innerHeight])</span><br><span class="line">  .padding(<span class="number">.2</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> barGroup = svg.append(<span class="string">'g'</span>).attr(<span class="string">'transform'</span>,</span><br><span class="line">                                        <span class="string">`translate(<span class="subst">$&#123;margin.left&#125;</span>, <span class="subst">$&#123;margin.top + textHeight + <span class="number">5</span>&#125;</span>)`</span>)</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> yAxis = axisLeft(yBandScale)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> xAxisTickFormat = <span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> format(<span class="string">'.3s'</span>)(number).replace(<span class="string">'G'</span>, <span class="string">'B'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">	<span class="keyword">const</span> xAxis = axisBottom(xScale)</span><br><span class="line">  								.tickFormat(xAxisTickFormat)</span><br><span class="line">  </span><br><span class="line">  barGroup.append(<span class="string">'g'</span>).call(yAxis)</span><br><span class="line">  	.selectAll(<span class="string">'.domain, .tick line'</span>)</span><br><span class="line">  	.remove();</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> xAxisG = barGroup.append(<span class="string">'g'</span>).call(xAxis)</span><br><span class="line">    .attr(<span class="string">'transform'</span>, <span class="string">`translate(<span class="subst">$&#123;<span class="number">0</span>&#125;</span>, <span class="subst">$&#123;innerHeight&#125;</span>)`</span>);</span><br><span class="line">  </span><br><span class="line">xAxisG</span><br><span class="line">  .append(<span class="string">'text'</span>)</span><br><span class="line">  .text(<span class="string">'Something is missing'</span>)</span><br><span class="line">  .attr(<span class="string">'y'</span>, <span class="number">50</span>)</span><br><span class="line">  .attr(<span class="string">'x'</span>, innerWidth / <span class="number">2</span>)</span><br><span class="line">  .attr(<span class="string">'class'</span>, <span class="string">'x-label'</span>)</span><br><span class="line">  .text(<span class="string">"Population"</span>);</span><br><span class="line">  </span><br><span class="line">xAxisG    </span><br><span class="line">    .append(<span class="string">"text"</span>)</span><br><span class="line">    .attr(<span class="string">"class"</span>, <span class="string">"axis-label"</span>)<span class="comment">//åŠ ä¸Šä¸€ä¸ªç±»æ ‡ç­¾ï¼Œä¾›cssé€‰æ‹©å™¨å»é€‰æ‹©</span></span><br><span class="line">    .attr(<span class="string">"fill"</span>, <span class="string">"black"</span>)</span><br><span class="line">    .attr(<span class="string">"y"</span>, <span class="number">75</span>)</span><br><span class="line">    .attr(<span class="string">"x"</span>, innerWidth / <span class="number">2</span>  )</span><br><span class="line">    .text(<span class="string">"Population"</span>);</span><br><span class="line">barGroup</span><br><span class="line">  	.selectAll(<span class="string">'.domain'</span>)</span><br><span class="line">  	.remove();</span><br><span class="line">  </span><br><span class="line"> barGroup</span><br><span class="line">    .append(<span class="string">"text"</span>)</span><br><span class="line">    .attr(<span class="string">"class"</span>, <span class="string">"axis-title"</span>)<span class="comment">//åŠ ä¸Šä¸€ä¸ªç±»æ ‡ç­¾ï¼Œä¾›cssé€‰æ‹©å™¨å»é€‰æ‹©</span></span><br><span class="line">    .attr(<span class="string">"y"</span>, <span class="number">-10</span>)</span><br><span class="line">    .text(<span class="string">"Top 10 Most Popular Countries"</span>);  </span><br><span class="line"></span><br><span class="line">  barGroup</span><br><span class="line">    .selectAll(<span class="string">'rect'</span>)</span><br><span class="line">  	.data(data)</span><br><span class="line">  	.enter()</span><br><span class="line">  	.append(<span class="string">'rect'</span>)</span><br><span class="line">      .attr(<span class="string">'y'</span>, d =&gt; yBandScale(countryMapping(d)))</span><br><span class="line">      .attr(<span class="string">'width'</span>, d =&gt; xScale(populationMapping(d)))</span><br><span class="line">      .attr(<span class="string">'height'</span>, yBandScale.bandwidth())</span><br><span class="line">  </span><br><span class="line">svg.append(<span class="string">"text"</span>)</span><br><span class="line">  	.attr(<span class="string">"class"</span>, <span class="string">"axis-title"</span>)<span class="comment">//åŠ ä¸Šä¸€ä¸ªç±»æ ‡ç­¾ï¼Œä¾›cssé€‰æ‹©å™¨å»é€‰æ‹©</span></span><br><span class="line">    .attr(<span class="string">"y"</span>, <span class="number">-10</span>)</span><br><span class="line">    .text(<span class="string">"Top 10 Most Popular Countries"</span>);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">csv(<span class="string">'data.csv'</span>).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  data.forEach(<span class="function"><span class="params">record</span> =&gt;</span> &#123;</span><br><span class="line">    record.population = +record.population * <span class="number">1000</span></span><br><span class="line">  &#125;)</span><br><span class="line">  render(data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/42.png" style="zoom: 70%;"></p>
<h3 id="å®ä¾‹ï¼šç»˜åˆ¶æŸ±çŠ¶å›¾"><a href="#å®ä¾‹ï¼šç»˜åˆ¶æŸ±çŠ¶å›¾" class="headerlink" title="å®ä¾‹ï¼šç»˜åˆ¶æŸ±çŠ¶å›¾"></a>å®ä¾‹ï¼šç»˜åˆ¶æŸ±çŠ¶å›¾</h3><p>æ•ˆæœ</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/30.png" style="zoom: 70%;"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>BarChart! <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/d3.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--è¿™é‡Œæˆ‘å·²ç»å®šä¹‰äº†svgç”»å¸ƒçš„å®½å’Œé«˜--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"1600"</span> <span class="attr">height</span>=<span class="string">"800"</span> <span class="attr">id</span>=<span class="string">"mainsvg"</span> <span class="attr">class</span>=<span class="string">"svgs"</span>  &gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">//è¿™æ˜¯æˆ‘ä»¬æƒ³å±•ç¤ºçš„å†…å®¹ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> data = [&#123;name: <span class="string">'Shao-Kui'</span>, value:<span class="number">6</span>&#125;,</span></span><br><span class="line"><span class="actionscript">        &#123;name:<span class="string">'Wen-Yang'</span>, value:<span class="number">6</span>&#125;, &#123;name:<span class="string">'Cai Yun'</span>, value:<span class="number">16</span>&#125;, &#123;name:<span class="string">'Liang Yuan'</span>, value: <span class="number">10</span>&#125;, </span></span><br><span class="line"><span class="actionscript">        &#123;name:<span class="string">'Yuan-Chen'</span>, value:<span class="number">6</span>&#125;, &#123;name:<span class="string">'Rui-Long'</span>, value:<span class="number">10</span>&#125;, &#123;name:<span class="string">'Dong Xin'</span>, value:<span class="number">12</span>&#125;, </span></span><br><span class="line"><span class="actionscript">        &#123;name:<span class="string">'He Yu'</span>, value:<span class="number">20</span>&#125;, &#123;name:<span class="string">'Xiang-Li'</span>, value:<span class="number">12</span>&#125;, &#123;name:<span class="string">'Godness'</span>, value:<span class="number">20</span>&#125;, </span></span><br><span class="line"><span class="actionscript">        &#123;name:<span class="string">'Wei-Yu'</span>, value:<span class="number">15</span>&#125;, &#123;name:<span class="string">'Chen Zheng'</span>, value:<span class="number">14</span>&#125;, </span></span><br><span class="line"><span class="actionscript">        &#123;name:<span class="string">'Yu Peng'</span>, value:<span class="number">15</span>&#125;, &#123;name:<span class="string">'Li Jian'</span>, value:<span class="number">18</span>&#125;]; </span></span><br><span class="line"><span class="actionscript"><span class="comment">//é¦–å…ˆæˆ‘ä»¬è·å¾—ä¸Šé¢å®šä¹‰çš„svgç”»å¸ƒ</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> svg = d3.select(<span class="string">'#mainsvg'</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">//è·å–svgçš„é•¿å’Œå®½       </span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> width = +svg.attr(<span class="string">'width'</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> height = +svg.attr(<span class="string">'height'</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">//å®šä¹‰é¢„ç•™ç©ºé—´        </span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> margin = &#123;top: <span class="number">60</span>, right: <span class="number">30</span>, bottom: <span class="number">60</span>, left: <span class="number">150</span>&#125;;</span></span><br><span class="line"><span class="actionscript"><span class="comment">//çœŸæ­£ä½œç”»çš„ç©ºé—´</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> innerWidth = width - margin.left - margin.right;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> innerHeight = height - margin.top - margin.bottom;</span></span><br><span class="line">/*</span><br><span class="line">ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°æ¨ªè½´æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨scaleLiner()æ¯”ä¾‹å°ºè¿›è¡Œæ˜ å°„</span><br><span class="line">æ€ä¹ˆæ˜ å°„å‘¢ï¼Ÿ</span><br><span class="line">æ•°æ®çš„æœ€å°å€¼å°±æ˜¯0ï¼Œæ•°æ®å¾—æœ€å¤§å€¼å°±åˆ©ç”¨d3.max ï¼Œç¬¬ä¸€ä¸ªæ•°æ®å°±æ˜¯æ•°æ®æœ¬èº«ï¼Œç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ä¸€ä¸ªå‡½æ•°</span><br><span class="line">è¿™ä¸ªå‡½æ•°ä¼šå‘Šè¯‰æˆ‘ä»¬æ•°æ®æ˜¯æ€ä¹ˆè·å–åˆ°çš„</span><br><span class="line">æ˜ å°„èŒƒå›´å°±æ˜¯0åˆ°åˆšæ‰å®šä¹‰çš„å†…è¾¹æ¡†çš„å®½</span><br><span class="line">*/</span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> xScale = d3.scaleLinear()</span></span><br><span class="line">        .domain([0, d3.max(data, d =&gt; d.value)])</span><br><span class="line">        .range([0, innerWidth]);</span><br><span class="line">/*</span><br><span class="line">æ•°è½´æ˜¯åå­—ï¼Œæ‰€ä»¥æ˜¯ç¦»æ•£çš„ï¼Œæˆ‘ä»¬ç”¨scaleBand()æ¯”ä¾‹å°ºè¿›è¡Œæ˜ å°„</span><br><span class="line">æ€ä¹ˆæ˜ å°„bandå‘¢ï¼Ÿ</span><br><span class="line">æˆ‘ä»¬åˆ©ç”¨jsä¸­çš„mapå‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¼ å›ä¸€ä¸ªæ•°ç»„ã€‚å¹¶æŠŠè¿™ä¸ªæ•°ç»„ç»™domain</span><br><span class="line">é—´éš™ä¸º0.1</span><br><span class="line">*/</span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> yScale = d3.scaleBand()</span></span><br><span class="line"><span class="javascript">        .domain( data.map(<span class="function"><span class="params">d</span> =&gt;</span> d.name) )</span></span><br><span class="line">        .range([0, innerHeight])</span><br><span class="line">        .padding(0.1);</span><br><span class="line">/*</span><br><span class="line">åœ¨æ¸²æŸ“åæ ‡è½´ä¹‹å‰æˆ‘ä»¬è¦æŠŠæ•´ä¸ªæŸ±å½¢å›¾æä¾›ç»™ä¸€ä¸ªå®¹å™¨</span><br><span class="line">æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªgæ ‡ç­¾ï¼Œidå°±æ˜¯æˆ‘ä»¬çš„maingroupï¼Œ</span><br><span class="line">ç„¶åè®¾ç½®transformå±æ€§ï¼ŒæŠŠè¿™ä¸ªæŸ±å½¢å›¾å¹³ç§»åˆ°æˆ‘ä»¬åˆšæ‰è§„åˆ’çš„é‚£ä¸€ç‰‡åŒºåŸŸï¼Œåˆ©ç”¨æ¨¡æ¿è¯­æ³•</span><br><span class="line">*/</span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> g = svg.append(<span class="string">'g'</span>).attr(<span class="string">'id'</span>, <span class="string">'maingroup'</span>)</span></span><br><span class="line"><span class="javascript">        .attr(<span class="string">'transform'</span>, <span class="string">`translate(<span class="subst">$&#123;margin.left&#125;</span>, <span class="subst">$&#123;margin.top&#125;</span>)`</span>);</span></span><br><span class="line">/*</span><br><span class="line">ç„¶åæˆ‘ä»¬åœ¨maingroupä¸­æ·»åŠ åæ ‡è½´çš„å®¹å™¨äº†</span><br><span class="line">å®šä¹‰åæ ‡è½´ï¼Œå‘Šè¯‰åæ ‡è½´çš„å–å€¼èŒƒå›´è¯¥å¦‚ä½•æ˜ å°„</span><br><span class="line">ç„¶åæˆ‘ä»¬å‘é‡Œé¢æ·»åŠ æ¨ªè½´æ•°å€¼å’Œç«–è½´çš„äººåï¼Œæ³¨æ„å†™æ³•ï¼Œ call(xAxis)å°±æ˜¯æŠŠgroupäº¤ç»™xAxiså‡½æ•°å»å¤„ç†</span><br><span class="line">xAxis  </span><br><span class="line">ä½†æ˜¯åæ ‡è½´ä¼šé»˜è®¤å®šä¹‰åœ¨ä¸Šé¢ï¼Œå¦‚æœæˆ‘ä»¬è¦æŠŠæ¨ªè½´å®šä¹‰åœ¨æœ€åº•ç«¯ï¼Œæˆ‘ä»¬éœ€è¦å¹³ç§»ä¸€ä¸‹</span><br><span class="line">*/</span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> xAxis = d3.axisBottom(xScale);</span></span><br><span class="line"><span class="javascript">        g.append(<span class="string">'g'</span>).call(xAxis).attr(<span class="string">'transform'</span>, <span class="string">`translate(<span class="subst">$&#123;<span class="number">0</span>&#125;</span>, <span class="subst">$&#123;innerHeight&#125;</span>)`</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="keyword">const</span> yAxis = d3.axisLeft(yScale);</span></span><br><span class="line"><span class="actionscript">        g.append(<span class="string">'g'</span>).call(yAxis);</span></span><br><span class="line">/*</span><br><span class="line">ç°åœ¨å¯¹æ¯ä¸€æ¡æ•°æ®éƒ½è¦ç”»å‡ºä¸€ä¸ªæ¡å¸¦ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªçŸ©å½¢</span><br><span class="line">å› ä¸ºæˆ‘ä»¬æ˜¯æ ¹æ®æ¨ªè½´æ¯”ä¾‹å°ºå®šä¹‰é•¿åº¦ï¼Œé‚£ä¹ˆwidth å°±æ˜¯æ•°æ®çš„valueå±æ€§</span><br><span class="line">é«˜åº¦å°±æ˜¯åˆ©ç”¨yScaleæä¾›çš„æ–¹æ³•ï¼Œäº¤ç»™D3è‡ªå·±å»å®šä¹‰</span><br><span class="line">ç„¶åæˆ‘ä»¬å¡«å……ä¸€ä¸ªé¢œè‰²</span><br><span class="line">æœ€åæˆ‘ä»¬éœ€è¦è®©ä¿¡æ¯ä¸­çš„äººåå’Œåæ ‡è½´ä¸Šçš„äººåä¸€ä¸€å¯¹åº”ï¼Œè¿™æ ·æ‰èƒ½æ˜ å°„ä¸Šå»</span><br><span class="line">*/</span><br><span class="line"><span class="javascript">        data.forEach( <span class="function"><span class="params">d</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">          g.append(<span class="string">'rect'</span>)</span></span><br><span class="line"><span class="actionscript">          .attr(<span class="string">'width'</span>, xScale(d.value))</span></span><br><span class="line"><span class="actionscript">          .attr(<span class="string">'height'</span>, yScale.bandwidth())</span></span><br><span class="line"><span class="actionscript">          .attr(<span class="string">'fill'</span>, <span class="string">'green'</span>)</span></span><br><span class="line"><span class="actionscript">          .attr(<span class="string">'y'</span>, yScale(d.name))</span></span><br><span class="line">        &#125; );</span><br><span class="line">/*</span><br><span class="line">ç°åœ¨æˆ‘ä»¬éœ€è¦å¯¹æŸ±çŠ¶å›¾è¿›è¡Œä¸€äº›æ”¹è¿›ï¼Œè¿™é‡Œæˆ‘ä»¬æƒ³æŠŠçºµåæ ‡çš„åˆ»åº¦ä¸Šçš„æ–‡æœ¬ï¼Œä¹Ÿå°±æ˜¯äººå</span><br><span class="line">é‚£ä¹ˆæˆ‘ä»¬æŠŠä»–çš„å­—ä½“å¤§å°è®¾ç½®æˆ2em</span><br><span class="line">æœ€åæˆ‘ä»¬å¸Œæœ›åŠ ä¸€ä¸ªè¡¨å¤´ï¼Œä¹Ÿå°±æ˜¯æ ‡é¢˜</span><br><span class="line">é‚£ä¹ˆæˆ‘ä»¬ç”¨appendä¸€ä¸ªtextï¼Œç„¶ååˆ©ç”¨.text()è®¾ç½®æ–‡å­—å†…å®¹ï¼Œå­—ä½“å¤§å°ä¸º3em</span><br><span class="line">ç„¶åæˆ‘ä»¬éœ€è¦æŠŠä»–å±…ä¸­ï¼Œåˆ©ç”¨transformå±æ€§ï¼Œä½†è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬ç°åœ¨åªæ˜¯æŠŠæ–‡æœ¬çš„å¼€å¤´ç§»åŠ¨åˆ°äº†ä¸­é—´</span><br><span class="line">æœ€åæˆ‘ä»¬è®¾ç½®æ–‡å­—çš„é”šè®¾ç½®ä¸ºä¸­é—´ã€‚ç°åœ¨æ–‡æœ¬çš„ä¸­é—´å°±åœ¨ç”»å¸ƒçš„ä¸­é—´äº†ï¼Œè¾¾æˆäº†å±…ä¸­çš„æ•ˆæœ</span><br><span class="line">*/</span><br><span class="line"><span class="actionscript">        d3.selectAll(<span class="string">'.tick text'</span>).attr(<span class="string">'font-size'</span>, <span class="string">'2em'</span>);</span></span><br><span class="line"><span class="actionscript">        g.append(<span class="string">'text'</span>).text(<span class="string">'Members of CSCG'</span>).attr(<span class="string">'font-size'</span>, <span class="string">'3em'</span>)</span></span><br><span class="line"><span class="actionscript">        .attr(<span class="string">'transform'</span>, `translate($&#123;innerWidth/<span class="number">2</span>&#125;, $&#123;<span class="number">0</span>&#125;)`)</span></span><br><span class="line"><span class="actionscript">        .attr(<span class="string">'text-anchor'</span>, <span class="string">'middle'</span>);</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-1"><a href="#å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-1" class="headerlink" title="å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-1"></a>å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-1</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  select,</span><br><span class="line">  csv,</span><br><span class="line">  scaleLinear,</span><br><span class="line">  max,</span><br><span class="line">  scalePoint,</span><br><span class="line">  axisLeft,</span><br><span class="line">  axisBottom,</span><br><span class="line">  format,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">"d3"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> render = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> svg = select(<span class="string">"svg"</span>);</span><br><span class="line">  <span class="keyword">const</span> height = +svg.attr(<span class="string">"height"</span>);</span><br><span class="line">  <span class="keyword">const</span> width = +svg.attr(<span class="string">"width"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> countryMapping = <span class="function">(<span class="params">d</span>) =&gt;</span> d.country;</span><br><span class="line">  <span class="keyword">const</span> populationMapping = <span class="function">(<span class="params">d</span>) =&gt;</span> d.population;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> countries = data.map(countryMapping);</span><br><span class="line">  <span class="keyword">const</span> populationMax = max(data, populationMapping);</span><br><span class="line">  <span class="keyword">const</span> margin = &#123;</span><br><span class="line">    top: <span class="number">45</span>,</span><br><span class="line">    bottom: <span class="number">85</span>,</span><br><span class="line">    left: <span class="number">200</span>,</span><br><span class="line">    right: <span class="number">100</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">const</span> textHeight = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">const</span> innerWidth = width - margin.left - margin.right;</span><br><span class="line">  <span class="keyword">const</span> innerHeight = height - margin.top - margin.bottom - textHeight;</span><br><span class="line">  <span class="keyword">const</span> xScale = scaleLinear()</span><br><span class="line">    .domain([<span class="number">0</span>, populationMax])</span><br><span class="line">    .range([<span class="number">0</span>, innerWidth])</span><br><span class="line">    .nice();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> yScale = scalePoint()</span><br><span class="line">    .domain(countries)</span><br><span class="line">    .range([<span class="number">0</span>, innerHeight])</span><br><span class="line">    .padding(<span class="number">0.7</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> circleGroup = svg</span><br><span class="line">    .append(<span class="string">"g"</span>)</span><br><span class="line">    .attr(</span><br><span class="line">      <span class="string">"transform"</span>,</span><br><span class="line">      <span class="string">`translate(<span class="subst">$&#123;margin.left&#125;</span>, <span class="subst">$&#123;margin.top + textHeight + <span class="number">5</span>&#125;</span>)`</span></span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> yAxis = axisLeft(yScale).tickSize(-innerWidth);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> xAxisTickFormat = <span class="function">(<span class="params">number</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> format(<span class="string">".3s"</span>)(number).replace(<span class="string">"G"</span>, <span class="string">"B"</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">const</span> xAxis = axisBottom(xScale)</span><br><span class="line">    .tickFormat(xAxisTickFormat)</span><br><span class="line">    .tickSize(-innerHeight);</span><br><span class="line"></span><br><span class="line">  circleGroup.append(<span class="string">"g"</span>).call(yAxis).selectAll(<span class="string">".domain"</span>).remove();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> xAxisG = circleGroup</span><br><span class="line">    .append(<span class="string">"g"</span>)</span><br><span class="line">    .call(xAxis)</span><br><span class="line">    .attr(<span class="string">"transform"</span>, <span class="string">`translate(<span class="subst">$&#123;<span class="number">0</span>&#125;</span>, <span class="subst">$&#123;innerHeight&#125;</span>)`</span>);</span><br><span class="line"></span><br><span class="line">  xAxisG</span><br><span class="line">    .append(<span class="string">"text"</span>)</span><br><span class="line">    .text(<span class="string">"Something is missing"</span>)</span><br><span class="line">    .attr(<span class="string">"y"</span>, <span class="number">50</span>)</span><br><span class="line">    .attr(<span class="string">"x"</span>, innerWidth / <span class="number">2</span>)</span><br><span class="line">    .attr(<span class="string">"class"</span>, <span class="string">"x-label"</span>)</span><br><span class="line">    .text(<span class="string">"Population"</span>);</span><br><span class="line"></span><br><span class="line">  xAxisG</span><br><span class="line">    .append(<span class="string">"text"</span>)</span><br><span class="line">    .attr(<span class="string">"class"</span>, <span class="string">"axis-label"</span>) <span class="comment">//åŠ ä¸Šä¸€ä¸ªç±»æ ‡ç­¾ï¼Œä¾›cssé€‰æ‹©å™¨å»é€‰æ‹©</span></span><br><span class="line">    .attr(<span class="string">"fill"</span>, <span class="string">"black"</span>)</span><br><span class="line">    .attr(<span class="string">"y"</span>, <span class="number">75</span>)</span><br><span class="line">    .attr(<span class="string">"x"</span>, innerWidth / <span class="number">2</span>)</span><br><span class="line">    .text(<span class="string">"Population"</span>);</span><br><span class="line">  circleGroup.selectAll(<span class="string">".domain"</span>).remove();</span><br><span class="line"></span><br><span class="line">  circleGroup</span><br><span class="line">    .append(<span class="string">"text"</span>)</span><br><span class="line">    .attr(<span class="string">"class"</span>, <span class="string">"axis-title"</span>) <span class="comment">//åŠ ä¸Šä¸€ä¸ªç±»æ ‡ç­¾ï¼Œä¾›cssé€‰æ‹©å™¨å»é€‰æ‹©</span></span><br><span class="line">    .attr(<span class="string">"y"</span>, <span class="number">-10</span>)</span><br><span class="line">    .text(<span class="string">"Top 10 Most Popular Countries"</span>);</span><br><span class="line"></span><br><span class="line">  circleGroup</span><br><span class="line">    .selectAll(<span class="string">"circle"</span>)</span><br><span class="line">    .data(data)</span><br><span class="line">    .enter()</span><br><span class="line">    .append(<span class="string">"circle"</span>)</span><br><span class="line">    .attr(<span class="string">"cy"</span>, (d) =&gt; yScale(countryMapping(d)))</span><br><span class="line">    .attr(<span class="string">"cx"</span>, (d) =&gt; xScale(populationMapping(d)))</span><br><span class="line">    .attr(<span class="string">"r"</span>, <span class="number">18</span>);</span><br><span class="line"></span><br><span class="line">  svg</span><br><span class="line">    .append(<span class="string">"text"</span>)</span><br><span class="line">    .attr(<span class="string">"class"</span>, <span class="string">"axis-title"</span>) <span class="comment">//åŠ ä¸Šä¸€ä¸ªç±»æ ‡ç­¾ï¼Œä¾›cssé€‰æ‹©å™¨å»é€‰æ‹©</span></span><br><span class="line">    .attr(<span class="string">"y"</span>, <span class="number">-10</span>)</span><br><span class="line">    .text(<span class="string">"Top 10 Most Popular Countries"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">csv(<span class="string">"data.csv"</span>).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  data.forEach(<span class="function">(<span class="params">record</span>) =&gt;</span> &#123;</span><br><span class="line">    record.population = +record.population * <span class="number">1000</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  render(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/43.png" style="zoom: 70%;"></p>
<h3 id="å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-2"><a href="#å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-2" class="headerlink" title="å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-2"></a>å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-2</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  select,</span><br><span class="line">  csv,</span><br><span class="line">  scaleLinear,</span><br><span class="line">  extent,</span><br><span class="line">  axisLeft,</span><br><span class="line">  axisBottom,</span><br><span class="line">  format</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'d3'</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// d.mpg = +d.mpg;</span></span><br><span class="line">      <span class="comment">// d.cylinders = +d.cylinders;</span></span><br><span class="line">      <span class="comment">// d.displacement = +d.displacement;</span></span><br><span class="line">      <span class="comment">// d.horsepower = +d.horsepower;</span></span><br><span class="line">      <span class="comment">// d.weight = +d.weight;</span></span><br><span class="line">      <span class="comment">// d.acceleration = +d.acceleration;</span></span><br><span class="line">      <span class="comment">// d.year = +d.year;</span></span><br><span class="line"><span class="keyword">const</span> svg = select(<span class="string">'svg'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> width = +svg.attr(<span class="string">'width'</span>);</span><br><span class="line"><span class="keyword">const</span> height = +svg.attr(<span class="string">'height'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> render = <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> title = <span class="string">'Cars: Horsepower vs. Weight'</span>;</span><br><span class="line">  <span class="comment">//å¯ä»¥é€šè¿‡æ”¹å˜xValueå’ŒyValueæ¥åšä¸åŒçš„å›¾</span></span><br><span class="line">  <span class="keyword">const</span> xValue = <span class="function"><span class="params">d</span> =&gt;</span> d.horsepower;</span><br><span class="line">  <span class="keyword">const</span> xAxisLabel = <span class="string">'Horsepower'</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> yValue = <span class="function"><span class="params">d</span> =&gt;</span> d.weight;</span><br><span class="line">  <span class="keyword">const</span> circleRadius = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">const</span> yAxisLabel = <span class="string">'Weight'</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> margin = &#123; <span class="attr">top</span>: <span class="number">60</span>, <span class="attr">right</span>: <span class="number">40</span>, <span class="attr">bottom</span>: <span class="number">88</span>, <span class="attr">left</span>: <span class="number">150</span> &#125;;</span><br><span class="line">  <span class="keyword">const</span> innerWidth = width - margin.left - margin.right;</span><br><span class="line">  <span class="keyword">const</span> innerHeight = height - margin.top - margin.bottom;</span><br><span class="line">  <span class="comment">/*******************xå’Œyçš„æ¯”ä¾‹å°º********************/</span></span><br><span class="line">  <span class="keyword">const</span> xScale = scaleLinear()</span><br><span class="line">  <span class="comment">//extent(data, xValue)å‡½æ•°å°±æ˜¯[min(data,xValue),max(data,xValue)]</span></span><br><span class="line">    .domain(extent(data, xValue))</span><br><span class="line">    .range([<span class="number">0</span>, innerWidth])</span><br><span class="line">    .nice();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> yScale = scaleLinear()</span><br><span class="line">    .domain(extent(data, yValue))</span><br><span class="line">    .range([innerHeight, <span class="number">0</span>])</span><br><span class="line">    .nice();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> g = svg.append(<span class="string">'g'</span>)</span><br><span class="line">    .attr(<span class="string">'transform'</span>, <span class="string">`translate(<span class="subst">$&#123;margin.left&#125;</span>,<span class="subst">$&#123;margin.top&#125;</span>)`</span>);</span><br><span class="line">  <span class="comment">/******************xå’Œy çš„åæ ‡è½´*********************/</span></span><br><span class="line">  <span class="keyword">const</span> xAxis = axisBottom(xScale)</span><br><span class="line">    .tickSize(-innerHeight)</span><br><span class="line">  <span class="comment">//è®©åæ ‡è½´ä¸‹é¢çš„æ•°æ ‡å’Œè½´è¿œç¦»</span></span><br><span class="line">    .tickPadding(<span class="number">15</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> yAxis = axisLeft(yScale)</span><br><span class="line">    .tickSize(-innerWidth)</span><br><span class="line">    .tickPadding(<span class="number">10</span>);</span><br><span class="line">  <span class="comment">/****************yåæ ‡è½´çš„å±æ€§*******************/</span></span><br><span class="line">  <span class="keyword">const</span> yAxisG = g.append(<span class="string">'g'</span>).call(yAxis);</span><br><span class="line">  yAxisG.selectAll(<span class="string">'.domain'</span>).remove();</span><br><span class="line">  <span class="comment">//yè½´çš„åç§°</span></span><br><span class="line">  yAxisG.append(<span class="string">'text'</span>)</span><br><span class="line">      .attr(<span class="string">'class'</span>, <span class="string">'axis-label'</span>)</span><br><span class="line">      .attr(<span class="string">'y'</span>, <span class="number">-93</span>)</span><br><span class="line">      .attr(<span class="string">'x'</span>, -innerHeight / <span class="number">2</span>)</span><br><span class="line">      .attr(<span class="string">'fill'</span>, <span class="string">'black'</span>)</span><br><span class="line">  <span class="comment">//åè½¬ Weight -90åº¦</span></span><br><span class="line">      .attr(<span class="string">'transform'</span>, <span class="string">`rotate(-90)`</span>)</span><br><span class="line">  <span class="comment">//æŠŠé”šæ”¾ä¸­é—´ï¼Œè¾¾åˆ°å‰§ä¸­æ•ˆæœ</span></span><br><span class="line">      .attr(<span class="string">'text-anchor'</span>, <span class="string">'middle'</span>)</span><br><span class="line">      .text(yAxisLabel);</span><br><span class="line">  <span class="comment">/*****************xåæ ‡è½´çš„å±æ€§*********************/</span></span><br><span class="line">  <span class="keyword">const</span> xAxisG = g.append(<span class="string">'g'</span>).call(xAxis)</span><br><span class="line">    .attr(<span class="string">'transform'</span>, <span class="string">`translate(0,<span class="subst">$&#123;innerHeight&#125;</span>)`</span>);</span><br><span class="line">  </span><br><span class="line">  xAxisG.select(<span class="string">'.domain'</span>).remove();</span><br><span class="line">  </span><br><span class="line">  xAxisG.append(<span class="string">'text'</span>)</span><br><span class="line">      .attr(<span class="string">'class'</span>, <span class="string">'axis-label'</span>)</span><br><span class="line">      .attr(<span class="string">'y'</span>, <span class="number">75</span>)</span><br><span class="line">      .attr(<span class="string">'x'</span>, innerWidth / <span class="number">2</span>)</span><br><span class="line">      .attr(<span class="string">'fill'</span>, <span class="string">'black'</span>)</span><br><span class="line">      .text(xAxisLabel);</span><br><span class="line">  <span class="comment">/**************************************************/</span></span><br><span class="line">  g.selectAll(<span class="string">'circle'</span>).data(data)</span><br><span class="line">    .enter().append(<span class="string">'circle'</span>)</span><br><span class="line">      .attr(<span class="string">'cy'</span>, d =&gt; yScale(yValue(d)))</span><br><span class="line">      .attr(<span class="string">'cx'</span>, d =&gt; xScale(xValue(d)))</span><br><span class="line">      .attr(<span class="string">'r'</span>, circleRadius);</span><br><span class="line">  <span class="comment">/***************è®¾ç½®åç§°***************************/</span></span><br><span class="line">  g.append(<span class="string">'text'</span>)</span><br><span class="line">      .attr(<span class="string">'class'</span>, <span class="string">'title'</span>)</span><br><span class="line">      .attr(<span class="string">'y'</span>, <span class="number">-10</span>)</span><br><span class="line">      .text(title);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">csv(<span class="string">'https://vizhub.com/curran/datasets/auto-mpg.csv'</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    data.forEach(<span class="function"><span class="params">d</span> =&gt;</span> &#123;</span><br><span class="line">      d.mpg = +d.mpg;</span><br><span class="line">      d.cylinders = +d.cylinders;</span><br><span class="line">      d.displacement = +d.displacement;</span><br><span class="line">      d.horsepower = +d.horsepower;</span><br><span class="line">      d.weight = +d.weight;</span><br><span class="line">      d.acceleration = +d.acceleration;</span><br><span class="line">      d.year = +d.year;  </span><br><span class="line">    &#125;);</span><br><span class="line">    render(data);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/44.png" style="zoom: 70%;"></p>
<p>ç”¨è‡ªå·±çˆ¬å–çš„æ•°æ®åšçš„ä¸¤ä¸ªå›¾æ ‡.åªéœ€è¦è½½å…¥æ•°æ®ï¼Œæ¨¡æ¿æ˜¯ä¸€æ ·çš„ï¼Œæ–¹ä¾¿</p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/5.jpg" style="zoom: 70%;"></p>
<p><img src="/2020/06/12/JavaScript%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8BD3/6.jpg" style="zoom: 70%;"></p>

      
    </div>
    
    
    
    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------æœ¬æ–‡ç»“æŸï¼Œæ„Ÿè°¢æ‚¨çš„é˜…è¯»-------------</div>
    
</div>

      
    </div>
    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/web%E6%9C%9F%E6%9C%AB/" rel="tag"><i class="fa fa-tag"></i> webæœŸæœ«</a>
          
            <a href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag"><i class="fa fa-tag"></i> æ•°æ®å¯è§†åŒ–</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/06/10/%E4%B8%80%E8%88%AC%E5%91%A8%E6%9C%9F%E7%9A%84%E5%87%BD%E6%95%B0%E7%9A%84%E5%82%85%E9%87%8C%E5%8F%B6%E7%BA%A7%E6%95%B0/" rel="next" title="ä¸€èˆ¬å‘¨æœŸçš„å‡½æ•°çš„å‚…é‡Œå¶çº§æ•°">
                <i class="fa fa-chevron-left"></i> ä¸€èˆ¬å‘¨æœŸçš„å‡½æ•°çš„å‚…é‡Œå¶çº§æ•°
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/06/15/leetcode%E6%A0%91/" rel="prev" title="leetcodeæ ‘">
                leetcodeæ ‘ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/%5Bobject%20Object%5D"
                alt="Jason" />
            
              <p class="site-author-name" itemprop="name">Jason</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20fa%20fa-archive">
              
                  <span class="site-state-item-count">435</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">61</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#JavaScriptæ•°æ®å¯è§†åŒ–ä¹‹D3"><span class="nav-number">1.</span> <span class="nav-text">JavaScriptæ•°æ®å¯è§†åŒ–ä¹‹D3</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Loading-D3-js"><span class="nav-number">1.1.</span> <span class="nav-text">Loading D3.js</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å¯¹D3æœ‰ä¸€ä¸ªå¤§ä½“çš„äº†è§£"><span class="nav-number">1.1.0.1.</span> <span class="nav-text">å¯¹D3æœ‰ä¸€ä¸ªå¤§ä½“çš„äº†è§£</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Intro"><span class="nav-number">1.2.</span> <span class="nav-text">Intro</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTML"><span class="nav-number">1.2.1.</span> <span class="nav-text">HTML</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Header-Title"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">Header Title</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bulleted-list"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">Bulleted list</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSS"><span class="nav-number">1.2.2.</span> <span class="nav-text">CSS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Customisze-Font-amp-Highlight-an-item"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">Customisze Font &amp; Highlight an item</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SVG-å¯ç¼©æ”¾çŸ¢é‡å›¾å½¢"><span class="nav-number">1.2.3.</span> <span class="nav-text">SVG å¯ç¼©æ”¾çŸ¢é‡å›¾å½¢</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#SVG-as-Image-Format"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">SVG as Image Format</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SVG-in-HTML"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">SVG in HTML</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Js-D3çš„å¸¸ç”¨æ¥å£"><span class="nav-number">1.2.4.</span> <span class="nav-text">Js D3çš„å¸¸ç”¨æ¥å£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Flask-Whyï¼Ÿ"><span class="nav-number">1.2.5.</span> <span class="nav-text">Flask - Whyï¼Ÿ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hello-D3"><span class="nav-number">1.3.</span> <span class="nav-text">Hello D3</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#D3è·å–ä¿®æ”¹åˆ é™¤èŠ‚ç‚¹"><span class="nav-number">1.3.1.</span> <span class="nav-text">D3è·å–ä¿®æ”¹åˆ é™¤èŠ‚ç‚¹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#D3æŸ¥è¯¢SVG"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">D3æŸ¥è¯¢SVG</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä½¿ç”¨D3-è®¾ç½®SVGä¸­çš„å±æ€§"><span class="nav-number">1.3.1.2.</span> <span class="nav-text">ä½¿ç”¨D3 è®¾ç½®SVGä¸­çš„å±æ€§</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#transform"><span class="nav-number">1.3.1.2.1.</span> <span class="nav-text">transform</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#element-attr"><span class="nav-number">1.3.1.2.2.</span> <span class="nav-text">element.attr</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#æ´»ç”¨-èŠ‚ç‚¹"><span class="nav-number">1.3.1.2.3.</span> <span class="nav-text">æ´»ç”¨ \èŠ‚ç‚¹</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ·»åŠ å’Œåˆ é™¤å…ƒç´ "><span class="nav-number">1.3.1.3.</span> <span class="nav-text">æ·»åŠ å’Œåˆ é™¤å…ƒç´ </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#margin"><span class="nav-number">1.3.2.</span> <span class="nav-text">margin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¯”ä¾‹å°º"><span class="nav-number">1.3.3.</span> <span class="nav-text">æ¯”ä¾‹å°º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åæ ‡è½´"><span class="nav-number">1.3.4.</span> <span class="nav-text">åæ ‡è½´</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å¼•å…¥åæ ‡è½´"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">å¼•å…¥åæ ‡è½´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#é…ç½®åæ ‡è½´"><span class="nav-number">1.3.4.2.</span> <span class="nav-text">é…ç½®åæ ‡è½´</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Join"><span class="nav-number">1.4.</span> <span class="nav-text">Data-Join</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç”¨å‡½æ•°è®¾ç½®å›¾å…ƒå±æ€§"><span class="nav-number">1.4.1.</span> <span class="nav-text">ç”¨å‡½æ•°è®¾ç½®å›¾å…ƒå±æ€§</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ•°æ®ä¸å›¾å…ƒçš„ç»‘å®š"><span class="nav-number">1.4.2.</span> <span class="nav-text">æ•°æ®ä¸å›¾å…ƒçš„ç»‘å®š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Key"><span class="nav-number">1.4.3.</span> <span class="nav-text">Key</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Enter-Update-Exit"><span class="nav-number">1.4.4.</span> <span class="nav-text">Enter Update Exit</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Enter"><span class="nav-number">1.4.4.1.</span> <span class="nav-text">Enter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Update"><span class="nav-number">1.4.4.2.</span> <span class="nav-text">Update</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Exit"><span class="nav-number">1.4.4.3.</span> <span class="nav-text">Exit</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Animation"><span class="nav-number">1.4.5.</span> <span class="nav-text">Animation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Data-Joinç®€æ´å½¢å¼"><span class="nav-number">1.4.6.</span> <span class="nav-text">Data-Joinç®€æ´å½¢å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ•°æ®çš„è¯»å–"><span class="nav-number">1.4.7.</span> <span class="nav-text">æ•°æ®çš„è¯»å–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®ä¾‹ï¼šç»˜åˆ¶ç¬‘è„¸"><span class="nav-number">1.4.8.</span> <span class="nav-text">å®ä¾‹ï¼šç»˜åˆ¶ç¬‘è„¸</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®ä¾‹ï¼š-ç»˜åˆ¶æŸ±çŠ¶å›¾"><span class="nav-number">1.4.9.</span> <span class="nav-text">å®ä¾‹ï¼š ç»˜åˆ¶æŸ±çŠ¶å›¾</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Customizing-Axes"><span class="nav-number">1.4.9.1.</span> <span class="nav-text">Customizing Axes</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®ä¾‹ï¼šç»˜åˆ¶æŸ±çŠ¶å›¾"><span class="nav-number">1.4.10.</span> <span class="nav-text">å®ä¾‹ï¼šç»˜åˆ¶æŸ±çŠ¶å›¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-1"><span class="nav-number">1.4.11.</span> <span class="nav-text">å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-2"><span class="nav-number">1.4.12.</span> <span class="nav-text">å®ç°ä¸€ä¸ªæ•£ç‚¹å›¾-2</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart" aria-hidden="true"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jason</span>
 <!--
  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>







-->
        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>




















  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v="></script>

  <script type="text/javascript" src="/js/src/motion.js?v="></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v="></script>
<script type="text/javascript" src="/js/src/post-details.js?v="></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v="></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
