<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="y0-26jFM_8wn6Slpy1ahkB8ndR7w0OOGyAU6IaXjLUI" />














  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="git," />










<meta name="description" content="git 学习笔记2Browsing History Getting a Repository下载： 链接：https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;12cWs65AEMGUvw1pr6yRI3A 提取码：dpyi Viewing the History我们之前知道了 git log 可以查询详细信息， git log --oneline  可以查看简略信息。那么如果 git log --on">
<meta property="og:type" content="article">
<meta property="og:title" content="git学习2">
<meta property="og:url" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/index.html">
<meta property="og:site_name" content="Jason‘s Blog">
<meta property="og:description" content="git 学习笔记2Browsing History Getting a Repository下载： 链接：https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;12cWs65AEMGUvw1pr6yRI3A 提取码：dpyi Viewing the History我们之前知道了 git log 可以查询详细信息， git log --oneline  可以查看简略信息。那么如果 git log --on">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/1.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/2.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/3.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/4.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/5.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/6.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/7.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/8.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/9.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/10.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/11.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/12.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/15.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/13.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/14.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/16.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/17.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/18.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/19.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/20.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/21.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/22.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/23.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/24.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/25.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/26.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/28.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/29.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/30.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/31.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/32.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/33.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/39.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/34.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/35.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/36.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/37.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/38.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/40.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/41.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/43.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/44.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/46.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/47.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/45.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/48.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/49.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/50.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/51.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/52.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/53.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/54.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/55.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/56.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/57.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/58.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/59.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/60.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/61.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/62.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/63.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/64.png">
<meta property="og:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/65.png">
<meta property="article:published_time" content="2020-09-27T05:04:51.000Z">
<meta property="article:modified_time" content="2020-10-01T13:03:22.000Z">
<meta property="article:author" content="Jason">
<meta property="article:tag" content="git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://jasonxqh.github.io/2020/09/27/git学习2/"/>





  <title>git学习2 | Jason‘s Blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-170027658-1', 'auto');
  ga('send', 'pageview');
</script>





<meta name="generator" content="Hexo 4.2.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
<a href="https://github.com/JasonXQH/JasonXQH.github.io" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jason‘s Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">git学习2</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-27T13:04:51+08:00">
                2020-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  5.6k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  22
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="git-学习笔记2"><a href="#git-学习笔记2" class="headerlink" title="git 学习笔记2"></a>git 学习笔记2</h1><h2 id="Browsing-History"><a href="#Browsing-History" class="headerlink" title="Browsing History"></a>Browsing History</h2><p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/1.png"></p>
<h3 id="Getting-a-Repository"><a href="#Getting-a-Repository" class="headerlink" title="Getting a Repository"></a>Getting a Repository</h3><p>下载： 链接：<a href="https://pan.baidu.com/s/12cWs65AEMGUvw1pr6yRI3A" target="_blank" rel="noopener">https://pan.baidu.com/s/12cWs65AEMGUvw1pr6yRI3A</a> 提取码：dpyi</p>
<h3 id="Viewing-the-History"><a href="#Viewing-the-History" class="headerlink" title="Viewing the History"></a>Viewing the History</h3><p>我们之前知道了 <code>git log</code> 可以查询详细信息， <code>git log --oneline</code>  可以查看简略信息。那么如果 <code>git log --oneline --stat</code> 就可以看到不同的commit的信息和它所做的修改。</p>
<p>比如最后一次提交，一共有五个文件改变了，一共有7个地方增加了，4个地方减少了。其中audience.txt 有三处地方增加了，一处地方减少了，以此类推。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/2.png" style="zoom:120%;"></p>
<p><code>git log stat</code> 可以展示每一个提交的详细信息</p>
<p><code>git log --patch</code>可以看到每一个提交具体改变的内容，如下：</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/3.png" style="zoom:100%;"></p>
<h3 id="Filtering-the-History"><a href="#Filtering-the-History" class="headerlink" title="Filtering the History"></a>Filtering the History</h3><p>当项目的时间越来越长，内容越来越多的时候，我们不会想查看所有的commit，我们只想筛选符合我们条件的commit</p>
<p>我们能通过作者名字、commit日期、commit message， 内容等来进行筛选。</p>
<p>比如我们想筛选倒数后三个commit，可以用 <code>git log --oneline -3</code></p>
<p>比如我们想筛选出作者为Mosh的commit，可以用 <code>git log --oneline --author =&quot;Mosh&quot;</code></p>
<p>又比如我想筛选出日期在 2020年8月17号之后的commit，可以用 <code>git log --oneline --after =&quot;2020-08-17&quot;</code> </p>
<p>甚至可以这么写<code>git log --oneline --after =&quot;one week ago&quot;</code>   </p>
<p>如果想要筛选 git message ,那么可以用命令 <code>git log --oneline --grep = &quot;GUI&quot;</code> 那么Git就会筛选出 messages中包含 “GUI” 的内容。注意，这是区分大小写的!</p>
<p>如果我们要查询commit中的内容，可以用 <code>git log --oneline -S&quot;OBJECTIVES&quot;</code> 来筛选出commit中对OBJECTIVES进行修改的commit</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/4.png" style="zoom: 150%;"></p>
<p>如果我们想看看哪些commit对一特定文件进行修改的，我们可以用命令 <code>git log --oneline toc.txt</code> （toc.txt是目标文件）</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/5.png" style="zoom: 150%;"></p>
<p>当我们想看看这些commit的增删时，我们要注意 —patch 不能写在文件名的后面，否则会发生歧义。要这样写</p>
<p> <code>git log --oneline --patch toc.txt</code></p>
<h3 id="Formatting-the-Log-Output"><a href="#Formatting-the-Log-Output" class="headerlink" title="Formatting the Log Output"></a>Formatting the Log Output</h3><p>我们可以对 log 日志进行一些格式化输出：比如 %Cgreen 就是把字体颜色换成绿色，%an 就代表 author，%Creset 就是恢复默认颜 色。%h 就是精简ID，%H是完整ID，  %cd代表日期。</p>
<p><code>git log --pretty=format:&quot;%Cgreen%an %Creset committed %h on %cd  &quot;</code></p>
<p>我们可以从 <a href="git-scm.com/docs/git-log">git官网 </a> 中查看格式化日志的其他占位符</p>
<h3 id="Aliases"><a href="#Aliases" class="headerlink" title="Aliases"></a>Aliases</h3><p>现在我们对一个log格式化字符串取一个别名.我们可以使用命令</p>
<p><code>git config --global alias.lg &quot;log --pretty=format:&#39;%an committed %h&#39;&quot;</code></p>
<p>用 <code>git config --global -e</code> 查看 gitconfig 我们会发现</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/6.png" style="zoom: 150%;"></p>
<p>现在我们就可以用 <code>git lg</code> 来显示我们自定义的日志了。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/7.png" style="zoom: 150%;"></p>
<p>同理，我们可以设置一个unstage命令，将staging area中的数据还原。</p>
<p><code>git config --global alias.unstage &quot;restore --staged .&quot;</code></p>
<h3 id="Viewing-a-Commit"><a href="#Viewing-a-Commit" class="headerlink" title="Viewing a Commit"></a>Viewing a Commit</h3><p>在 <a href="https://jasonxqh.github.io/2020/09/23/git基础/">git基础</a> 中我们讲过 <code>git show HEAD~n-1</code> ,其实 它完整的用法是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">usage: git log [&lt;options&gt;] [&lt;revision-range&gt;] [[--] &lt;path&gt;...]</span><br><span class="line">   or: git show [&lt;options&gt;] &lt;object&gt;...</span><br></pre></td></tr></table></figure>
<p>如果我不想看有哪些改变，我想改这个文件在这个commit中的内容。我们可以<code>git show HEAD</code>+文件相对路径</p>
<p><code>git show HEAD~2:sections/creating-snapshots/staging-changes.txt</code></p>
<p>如果我们只想看看这个commit中有哪些文件做了修改，我们可以</p>
<p><code>git show HEAD~2 --name-only</code> 我们发现在sections中的creating-snapshots文件夹中的staging-changes.txt</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/8.png" style="zoom: 150%;"></p>
<p><code>`git show HEAD~2 --name-status</code> 则会显示在这个commit当中文件的增改 ,比如下面 <code>sections/creating-snapshots/staging-changes.txt</code> 是被修改的.</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/9.png" style="zoom: 140%;"></p>
<h3 id="Viewing-the-Changes-Across-Commits"><a href="#Viewing-the-Changes-Across-Commits" class="headerlink" title="Viewing the Changes Across Commits"></a>Viewing the Changes Across Commits</h3><p>现在我们来思考一个问题,怎么才能看多次 commits中文件做出的改变呢?</p>
<p>我们使用 diff 命令 </p>
<p><code>git diff HEAD~2 HEAD audience.txt</code> </p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/10.png" style="zoom: 140%;"></p>
<p>当然也可以 <code>git diff HEAD~2 HEAD --name-status</code>  来查看现在到过去两个版本之间变动过的文件</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/11.png" style="zoom: 140%;"></p>
<h3 id="Checking-Out-a-Commit"><a href="#Checking-Out-a-Commit" class="headerlink" title="Checking Out a Commit"></a>Checking Out a Commit</h3><p>有时候我们想要看看某一个commit下所有的project文件,那么我们就需要将commit 复制出来然后粘贴到working directory.</p>
<p>我们现在选一个ID来checkout <code>git checkout dad47ed</code> ,再次<code>git log --oneline</code> 后发现</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/12.png" style="zoom: 140%;"></p>
<p>这里我们要理解HEAD和Master这两个概念</p>
<p>我们的commits就像一条链一样,一环指着一环的,MASTER始终指着最后一个commit,HEAD指向Master,这有了之前最后一个commit是这样表示:</p>
<p><code>a642e12  (HEAD -&gt; master) Add header to all pages.</code></p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/15.png" style="zoom: 140%;"></p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/13.png" style="zoom: 140%;"></p>
<p>现在我们check out一个commit,其实就是移动了HEAD指针,现在HEAD指向我们的目标commit了.</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/14.png" style="zoom: 140%;"></p>
<p>但是这样需要注意, 现在不要再进行commit操作了,因为commit会加在head指向的地方,也就是说现在如果commit的话会发现变成了这样.</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/16.png" style="zoom: 140%;"></p>
<p>那么当我的HEAD再次指向MASTER之后,新来的commit将永远不会被访问到了.我们要避免这种情况发生</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/17.png" style="zoom: 140%;"></p>
<p>如果我们想要让HEAD再次指向MASTER,之间<code>git checkout master</code> 即可</p>
<h3 id="Finding-Bugs-Using-Bisect"><a href="#Finding-Bugs-Using-Bisect" class="headerlink" title="Finding Bugs Using Bisect"></a>Finding Bugs Using Bisect</h3><h3 id="Finding-Contributors-Using-Shortlog"><a href="#Finding-Contributors-Using-Shortlog" class="headerlink" title="Finding Contributors Using Shortlog"></a>Finding Contributors Using Shortlog</h3><p>有些时候我们需要找到所有commit过的人.我们可以使用命令</p>
<p> <code>git shortlog</code></p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/18.png" style="zoom: 100%;"></p>
<p>我们可以 </p>
<p><code>git shortlog -n -s</code></p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/19.png" style="zoom: 100%;"></p>
<p><code>git short log -n -e</code> 来显示这个人的邮箱</p>
<p>甚至可以 <code>git shortlog -n -s -e --before=&quot;&quot; --after=&quot;&quot;</code> 来框定某一个特定时间内提交者的信息</p>
<h3 id="Viewing-the-History-of-a-File"><a href="#Viewing-the-History-of-a-File" class="headerlink" title="Viewing the History of a File"></a>Viewing the History of a File</h3><p>现在我们来看看一个文件在历次commits之间的变化情况.</p>
<p><code>git log --oneline toc.txt</code></p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/20.png" style="zoom: 100%;"></p>
<p>如果我们想看看这个文件在每次commit之中改了什么内容,可以用<br><code>git log --oneline --patch toc.txt</code> </p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/21.png" style="zoom: 100%;"></p>
<h3 id="Restoring-a-Deleting-File"><a href="#Restoring-a-Deleting-File" class="headerlink" title="Restoring a Deleting File"></a>Restoring a Deleting File</h3><p>我们有时候会误删一些文件,我们可以通过git来恢复. </p>
<p>我们先删除 toc.txt 也就是 <code>git rm toc.txt</code></p>
<p>然后我们<code>git log --oneline toc.txt</code> 却发现报错了:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fatal: ambiguous argument &#39;toc.txt&#39;: unknown revision or path not in the working tree.</span><br><span class="line">Use &#39;--&#39; to separate paths from revisions, like this:</span><br><span class="line">&#39;git &lt;command&gt; [&lt;revision&gt;...] -- [&lt;file&gt;...]&#39;</span><br></pre></td></tr></table></figure>
<p>这是因为在删除了toc.txt之后,git就不能辨别 toc.txt 到底是命令还是一个文件了,我们需要 用 — 来分隔文件和命令</p>
<p><code>git log --oneline -- toc.txt</code></p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/22.png" style="zoom: 100%;"></p>
<p>我们要的是 a642e12 这个commit,然后我们用命令 <code>git checkout a642e12 toc.txt</code> 将 commit 中的 toc.txt 取出放到 working directory. </p>
<h3 id="Finding-the-Author-of-Line-Using-Blame"><a href="#Finding-the-Author-of-Line-Using-Blame" class="headerlink" title="Finding the Author of Line Using Blame"></a>Finding the Author of Line Using Blame</h3><p>如果我们觉得某一个人的某个文件代码写的很差,我们可以使用 Blame 功能 “责备他”</p>
<p><code>git blame audience.txt</code></p>
<p>-e 即查看他人的邮件</p>
<p><code>git blame -e audience.txt</code></p>
<p>-L 1,3 即显示前三行</p>
<p><code>git blame -e -L 1,3 audience.txt</code></p>
<p>(感觉这个功能也没啥用处…)</p>
<h3 id="Tagging"><a href="#Tagging" class="headerlink" title="Tagging"></a>Tagging</h3><p>我们可以给一些有里程碑意义的commit打标签 </p>
<p>比如 <code>git tag v1.0 a642e12</code></p>
<p> <img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/23.png" style="zoom: 100%;"></p>
<p>我们就发现倒数第二个commit被打上了 v1.0的标签</p>
<p>设置了 tag之后,checkout会变得非常方便了 ,直接 <code>git checkout v1.0</code> 就可以了。</p>
<p>这个tag可以看作是指针或者一个commit的别名。</p>
<p>还有一种 tag叫做 annotated tag. 这种tag是一个对象，里面有打tag的人的email之类的信息，比如</p>
<p><code>git tag -a v1.1 -m &quot;My version 1.1&quot;</code></p>
<p>如果我们要查看每个tag的 message，那么我们可以用 <code>git tag -n</code> </p>
<p>查看anotated tag的tageer的信息，可以使用 <code>git show tag名</code>，比如：</p>
<p>查看现在定了几个tag可以用<code>git tag</code> </p>
<p>删除某个tag可以用 <code>git tag -d v1.1</code>  这样的命令,那么在开头就会显示Author的信息和打标签的时间了</p>
<h3 id="Browsing-History-Using-VSCode"><a href="#Browsing-History-Using-VSCode" class="headerlink" title="Browsing History Using VSCode"></a>Browsing History Using VSCode</h3><p>用 Gitlens 会更加方便</p>
<h3 id="Browsing-the-History-Using-GitKraken"><a href="#Browsing-the-History-Using-GitKraken" class="headerlink" title="Browsing the History Using GitKraken"></a>Browsing the History Using GitKraken</h3><h2 id="Branching"><a href="#Branching" class="headerlink" title="Branching"></a>Branching</h2><ul>
<li>Use branches</li>
<li>Compare branches</li>
<li>Merge branches</li>
<li>Resolve conflicts</li>
<li>Undo a faulty merge</li>
<li>Essential tools(stashing ,cherry picking )</li>
</ul>
<h3 id="What-are-Branches"><a href="#What-are-Branches" class="headerlink" title="What are Branches"></a>What are Branches</h3><p>我们可以把 Branch 看成是 独立的分隔的 workspace</p>
<p>我们有一个working space MASTER，又有另外一个working space FEATURE 用来研究其他的特性。在FEATURE完成之前，我们不想让里面的代码对MASTER进行一个干扰。当FEATURE已经完善之后，我们再将其和MASTER进行合并。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/24.png" style="zoom: 100%;"></p>
<p>branch 这个功能让我们能够对不同的对象进行不同的工作，两者互不干扰，因为我们需要保证 main line 尽可能稳定，以便branch能够随时发布，同时也有助于团队的新成员能尽快上手项目。  </p>
<p>Git中的Branch只是一个对commit的指针。Master只是一个指向 main line 最后一次commit的指针。当我们commit之后，git会自动移动 Master 指针。当我们新建了一个branch之后，我们实际是新建了一个指针，这个指针占有的内存很小。那么怎么才能知道当前我们是在那个 working space当中呢？git中还有一个指针HEAD，这个指针指向一个branch的名字，我们可以用 checkout 将HEAD指向不同的branch。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/25.png" style="zoom: 100%;"></p>
<h3 id="Working-with-Branches"><a href="#Working-with-Branches" class="headerlink" title="Working with Branches"></a>Working with Branches</h3><p>比如我们现在发现了一个Bug，现在为了修复这个bug，我们新建一个branch叫做 bugfix</p>
<ul>
<li>使用命令 <code>git branch bugfix</code> 就可以创建branch</li>
<li><p>使用命令 <code>git branch</code> 可以查看当前的branches</p>
</li>
<li><p>如果要切换branches，可以使用 <code>git switch bugfix</code> 或者 <code>git checkout bugfix</code></p>
</li>
<li>如果要重命名branch ,可以使用 <code>git branch -m bugfix(原名) bugfix/signup-form(新名)</code></li>
</ul>
<p>我们对audience.txt 进行了改变并且提交了。然后查看日志，会发现 master是bugfix之前一个版本。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/26.png" style="zoom: 100%;"></p>
<p>我们对audience做出的改变只能在bugfix这个commit 下才能查看。如果我们切换成master一支，我们是不会发现audience.txt做出了什么改变的。</p>
<ul>
<li>在切换回 master之后，我们是看不出bugfix的，如果要查看我们就要用<code>git log --oneline --all</code></li>
<li>如果我们已经成功修复了bug，需要和master合并然后删去这个bugfix branch，我们可以用命令<code>git branch -d bugfix/signup-form</code> 但是要注意，如果没有merge之前就删除这个branch会报错。如果我们真的要强制删除，我们可以使用 <code>git branch -D bugfix/signup-form</code> 也就是变成大写的D</li>
</ul>
<h3 id="Comparing-Branches"><a href="#Comparing-Branches" class="headerlink" title="Comparing Branches"></a>Comparing Branches</h3><p>当我们创建branches并对其commit时，我们需要看看它们是怎么与master主线岔开的。我们现在就来比比不同的branches。</p>
<p>我们可以用 <code>git log master..bugfix/sigup-form</code> 来查看哪些commit是在这条branch上递交的</p>
<p>如果我们不想看commits，而是看在branch上改变了哪些内容，我们可以这么写：</p>
<ul>
<li><code>git diff master..bugfix/signup-form</code> 或者 <code>git diff bugfix/signup-form</code> </li>
</ul>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/28.png" style="zoom: 100%;"></p>
<p>如果我们只想看看那些文件名改变了我们可以用这个命令</p>
<ul>
<li><code>git diff --name-status bugfix/signup-form</code></li>
</ul>
<h3 id="Stashing"><a href="#Stashing" class="headerlink" title="Stashing"></a>Stashing</h3><p>stach有存放之意。当我们在master中做了一些改变，现在却想切换到branch去，那么branch中的内容就会覆盖掉我们现在working directory中的内容。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/29.png" style="zoom: 100%;"></p>
<p>这就是stash出现的场景了，我们需要用stash方法将当前的working directory保存起来，然后当我们处理完 branch的事情、切换回branch之后在取出来。</p>
<ul>
<li><code>git stash push -m &quot;New tax rules.&quot;</code>将当前的内容stash，-m 后填写说明</li>
</ul>
<p>但是我们要注意， git stash是不会将git 没有追踪的(untracked) 文件保存下来的。也就是说不会stash刚刚创建的文件</p>
<ul>
<li><p>那么为了解决上面的问题，我们可以使用 <code>git stash push -a -m&quot;My new stash&quot;</code>  -a 就代表了<br>-all</p>
</li>
<li><p>想看看当前的stash信息，可以使用 <code>git stash list</code></p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/30.png" style="zoom: 120%;"></p>
</li>
<li><p>现在假设我们再bugfix这支branch上的工作已经完成，我们切回master，想看看之前保留在stash中的文件做出了哪些改变 ，可以使用 <code>git stash show 1</code>来看 <code>stash@{1}</code> 中的内容</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/31.png" style="zoom: 120%;"></p>
</li>
<li><p>如果我想将stash中的文件放回到working directory，那么可以用<code>git stash apply 1</code> 来提取<code>stash@{1}</code> 中的内容。</p>
</li>
<li><p>如果我们已经不需要stash了，可以用<code>git stash drop 1</code> 来删除<code>stash@{1}</code></p>
</li>
<li><p>可以用 <code>git stash clear</code> 删除所有的stash</p>
</li>
</ul>
<h3 id="Merging"><a href="#Merging" class="headerlink" title="Merging"></a>Merging</h3><p>git提供了三种 commit 操作。</p>
<h4 id="Fast-forward-if-branches-have-not-diverged"><a href="#Fast-forward-if-branches-have-not-diverged" class="headerlink" title="Fast-forward (if branches have not diverged)"></a>Fast-forward (if branches have not diverged)</h4><p>就是master和branch是一条链上的。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/32.png" style="zoom: 100%;"></p>
<p>如图所示，Master和BUGFIX 这支branch是线性关系，那么我们只需要将 MASTER 指针指向BUGFIX指向的commit，再将BUGFIX删除就能完成 合并操作。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/33.png" style="zoom: 100%;"></p>
<p>Fast-forward merge 属于“快进方式”，不过这种情况如果删除分支，则会丢失分支信息。因为在这个过程中没有创建commit</p>
<h4 id="no-ff-merge"><a href="#no-ff-merge" class="headerlink" title="no-ff merge"></a>no-ff merge</h4><p>和Fast-forward merge的初始情况相同，但是no-ff merge在合并的时候并不是只将MASTER指向branch末尾，而是新建了一个commit</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/39.png" style="zoom: 100%;"></p>
<h4 id="3-way-if-branch-have-diverged"><a href="#3-way-if-branch-have-diverged" class="headerlink" title="3-way(if branch have diverged)"></a>3-way(if branch have diverged)</h4><p>master 和 branch 分叉了，各自有commit</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/34.png" style="zoom: 100%;"></p>
<p>现在我们执行合并操作的话，就是新建一个commit，将master和BUGFIX文件各自做出的改变合并起来。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/35.png" style="zoom: 100%;"></p>
<h3 id="Fast-forward-Merges"><a href="#Fast-forward-Merges" class="headerlink" title="Fast-forward Merges"></a>Fast-forward Merges</h3><p>学了branch以后我们在查看log的时候记得加上 —graph, 这样git会以点线图的形式将master和branch所做的变更和合并呈现出来。这里展示的是Fast-forward , branch和master是一条链上的，所以graph是线性排列的。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/36.png" style="zoom: 100%;"></p>
<ul>
<li>我们使用 <code>git merge bugfix/signup-form</code> <strong>在HEAD指向MASTER的时候</strong>来实现Fast-forward Merge</li>
</ul>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/37.png" style="zoom: 100%;"></p>
<p>再次查看log，发现 master和branch(bugfix) 都指向了一个commit了</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/38.png" style="zoom: 100%;"></p>
<h3 id="No-ff-merge"><a href="#No-ff-merge" class="headerlink" title="No-ff merge"></a>No-ff merge</h3><p><strong>同样是</strong>线性的branch和master，我们也可以选择<strong>不是 fast-forward merge的形式</strong>(no-ff)来进行合并。上文说过，Fast-forward merge 并没有创建新的commit，容易丢失 branch版本。若选择 no-ff 形式，在合并时会新建一个commit，这样就会保存branch的版本了。</p>
<p>接下来我们模拟 no-ff 合并操作。</p>
<ul>
<li>可以用 <code>git switch -C branch名字</code> 将创建和切换branch 缩在一条命令当中</li>
</ul>
<p>现在有一个master，一个bugfix/login-form 的branch</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/40.png" style="zoom: 100%;"></p>
<ul>
<li>我们使用 <code>git merge --no-ff bugfix/login-form</code> 这一命令来执行 no-ff 类的merge操作。</li>
</ul>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/41.png" style="zoom: 100%;"></p>
<p>查看merge做的点线图，我们可以很清楚的看到merge和master进行了一个合并且生成了一个新的commit</p>
<p>我们既要习惯fast-forward，也要习惯no-ff ,因为no-ff commit merge可以反映出一个项目创建后的一步步历史，而且no-ff merge能让在不想要branch的时候更方便地退回之前的master版本。</p>
<p>如果我们不喜欢(或者上司不喜欢) fast-forward 的话，我们可以把 no-ff 设置为全局变量，即对所有的repository通用。</p>
<ul>
<li><code>git config ff no</code>(对当前repository) / <code>git config --global ff no</code> 对所有repositories</li>
</ul>
<h3 id="Three-way-Merges"><a href="#Three-way-Merges" class="headerlink" title="Three-way Merges"></a>Three-way Merges</h3><p>现在我们来模拟 Three-way Merge 的操作。</p>
<p>流程：创建并切换至新branch,commit一次；切换回master，commit一次 ,我们就会发现branch和master发生了分叉。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/43.png" style="zoom: 100%;"></p>
<p>现在我们要合并这两支，这两支有着共同的祖先。</p>
<ul>
<li>我们可以直接用 <code>git merge feature/change-password</code> 来进行 three-way merge</li>
</ul>
<p>我们看到下面git给出的路径，已经对两支进行了合并操作。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/44.png" style="zoom: 100%;"></p>
<h3 id="Viewing-Merged-and-Unmerged-Branches"><a href="#Viewing-Merged-and-Unmerged-Branches" class="headerlink" title="Viewing Merged and Unmerged Branches"></a>Viewing Merged and Unmerged Branches</h3><p>有时候我们新建了一个branch，但是项目做着做着可能就忘记将这个branch合并了，于是我们可以通过命令</p>
<ul>
<li><code>git branch --merged</code> 来查看哪些branch已经合并了</li>
<li><code>git branch --no-merged</code> 来查看那些branch还没有进行合并</li>
</ul>
<p>对于已经合并的branch我们要养成好习惯及时删除。</p>
<p><code>git branch -d bugfix/login-form</code></p>
<h3 id="Merge-Conflicts"><a href="#Merge-Conflicts" class="headerlink" title="Merge Conflicts"></a>Merge Conflicts</h3><p>在Merge的时候我们常常会遇到冲突</p>
<ul>
<li>当一个文件同时被两支branch修改时</li>
<li>一个文件在一支里面被修改，却被另一支删除时</li>
<li>同一文件在两个分支中都加了点东西，但是加的内容不同</li>
</ul>
<p>遇到这些冲突的时候，git就会暂停合并，我们需要告诉Git我们想怎么选择。</p>
<p>我们现在通过git命令来模拟这一操作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git switch -C bugfix&#x2F;change-password</span><br><span class="line">code change-password.txt</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;Update change-password.txt&quot;</span><br><span class="line"></span><br><span class="line">git switch master</span><br><span class="line">code change-password.txt</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;Update change-password.txt&quot;</span><br></pre></td></tr></table></figure>
<p>现在我 <code>git merge bugfix/change-password</code> 之后，会出现conflicts</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/46.png" style="zoom: 120%;"></p>
<p>这时候git就会自动跳到一个 master|MERGING 状态。在这个状态下我们输入 <code>git status</code> 就会发现change-password.txt 这个文件并没有被merge，因为它被 both modified 了。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/47.png" style="zoom: 120%;"></p>
<p>这时候，我们可以用vscode打开 change-password.txt </p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/45.png" style="zoom: 150%;"></p>
<p>vscode可以使用 “采用当前更改(master)”、”采用传入的更改(branch)”、”保留双方更改”、”比较变更”这几种选项。</p>
<p>或者我们也可以直接手动更改再保存(但是尽量别再自己加东西了！)</p>
<p>修改好以后，我们再使用 <code>git add .</code> 和 <code>git commit</code> 将定稿commit</p>
<h3 id="Graphical-Merge-Tools"><a href="#Graphical-Merge-Tools" class="headerlink" title="Graphical Merge Tools"></a>Graphical Merge Tools</h3><p>VScode用来进行合并操作有点麻烦。这里介绍一些其他的工具</p>
<ul>
<li>Kdiff</li>
<li>P4Merge</li>
<li>WinMerge(Windows Only) </li>
</ul>
<p>p4Merge 的下载地址<a href="https://www.perforce.com/downloads/visual-merge-tool" target="_blank" rel="noopener">https://www.perforce.com/downloads/visual-merge-tool</a></p>
<p>下载完成后不需要点击软件，需要在git中进行配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global merge.tool p4merge</span><br><span class="line"></span><br><span class="line">git config --global mergetool.p4merge.path   &quot;C:\Program Files\Perforce\p4merge.exe&quot;&#x2F;&#x2F;exe所在的目录</span><br></pre></td></tr></table></figure>
<p>然后当文件发生冲突的时候，我们可以用命令</p>
<p><code>git mergetool</code>  来打开 p4merge界面</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/48.png" style="zoom: 100%;"></p>
<p>我们看到这就是 P4Merge的UI，操作很友好，支持不同conficts文件之间的切换。</p>
<h3 id="Aborting-a-Merge"><a href="#Aborting-a-Merge" class="headerlink" title="Aborting a Merge"></a>Aborting a Merge</h3><p>我们进行Merge操作的时候会遇到一些conflicts，但是当我们犹豫不决、没下定决心取舍哪个版本的时候。我们可以终止merging状态,回到合并之前的样子</p>
<ul>
<li>只要使用 <code>git merge --abort</code> 即可</li>
</ul>
<h3 id="Undoing-a-Faulty-Merge"><a href="#Undoing-a-Faulty-Merge" class="headerlink" title="Undoing a Faulty Merge"></a>Undoing a Faulty Merge</h3><p>有时候我们在Merge之后发现code没办法得到兼容或者编译，那么我们现在需要回退到之前的状态、取消当前的merge状态。待修改完成后，我们再重新merge</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/49.png" style="zoom: 100%;"></p>
<p>现在是这样子的。我们要撤回当前的merge状态，有两种选择：</p>
<ul>
<li><p>git reset 是将 merge 后的commit删除(remove),</p>
</li>
<li><p>git revert是用于“反做”某一个版本，以达到撤销该版本的修改的目的。现在我们的merge操作出现了点问题，但是我想保留这个commit，又想回退到上一个版本，这时候我们可以新建一个版本，这个版本和merge前的哪个版本一模一样，达到了退回的目的。</p>
</li>
</ul>
<p>首先我们来看 remove操作： 示意图如下</p>
<p>一开始的状态时这样子的</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/50.png" style="zoom: 100%;"></p>
<p>将Master 回退到之前状态后，没有任何指针指向最后一个commit，git会自行删除这个commit</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/51.png" style="zoom: 100%;"></p>
<ul>
<li><code>git reset --hard HEAD~1</code> 这行命令就可以完成 remove操作</li>
</ul>
<p>HEAD~1就代表当前HEAD之前一个版本的commit，但是hard怎么理解呢？</p>
<p>当我们执行 reset操作的时候，我们有三种选择：</p>
<ul>
<li>soft</li>
<li>mixed</li>
<li>hard</li>
</ul>
<p>当我们执行soft的时候,Last Snapshot 会回退到上一个版本，但是 Working directory 和 staging area中的内容是不会受影响的，也就是还和原来保持一样</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/52.png" style="zoom: 100%;"></p>
<p>当我们使用 mixed 操作的时候，git会取出上一次的commit的snapshot然后放到 Staging area 当中去。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/53.png" style="zoom: 100%;"></p>
<p>hard 操作则是将快照应用在三个地方：</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/54.png" style="zoom: 100%;"></p>
<p>执行完命令后，发现log已经变成这样了:</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/55.png" style="zoom: 100%;"></p>
<p>我们可以再通过 <code>git reset --hard merge编号</code> 来重新变成merge之后的状态</p>
<p>下面来介绍 revert 操作,再revert的时候我们需要告诉git回退到哪一个版本，是master支上的还是 branch上的</p>
<ul>
<li><code>git revert -m 1 HEAD</code> -m 1 就代表着 first parent，也就是master上的版本。</li>
</ul>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/56.png" style="zoom: 100%;"></p>
<p>重新查看 log，可以发现新建了一个commit，这个commit和之前的9455172 是一模一样的</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/57.png" style="zoom: 100%;"></p>
<h3 id="Squash-Merging"><a href="#Squash-Merging" class="headerlink" title="Squash Merging"></a>Squash Merging</h3><p>Squash 是挤压之意，相比 merge 来说会减少分支合并的记录，会被压缩为一条 commit 记录。squash merge 本质是把 dev 分支的改动保存到 master 本地，接下来还需要手动提交一下。</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/58.png" style="zoom: 100%;"></p>
<p>我们先模拟当前的状况</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git switch -C bugfix&#x2F;photo-upload </span><br><span class="line">echo bugfix &gt;&gt; audience.txt</span><br><span class="line">git commit -am &quot;Update audience.txt&quot;</span><br><span class="line"></span><br><span class="line">echo bugfix&gt;&gt;toc.txt</span><br><span class="line">git commit -am &quot;Update toc.txt&quot;</span><br></pre></td></tr></table></figure>
<p>然后我们进行 squash merge</p>
<ul>
<li>首先 <code>git switch master</code></li>
<li><code>git merge --squash bugfix/photho-upload</code> </li>
</ul>
<p>这还没完，这只是将branch 中修改的内容存放在staging area当中，还没有commit</p>
<p><code>git commit -m &quot;Fix the bug one the photo upload page&quot;</code> 以后</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/59.png" style="zoom: 100%;"></p>
<p>但是要注意，squash merge的应用情况是修改一些小bug，或者增加一些小feature，不宜修改太多。当我们commit之后也要及时删除。因为如果project很大的话，我们会忘记这支branch，<code>git branch --no-merged</code> 就会看到branch还未合并，可能会出现误解。</p>
<p><code>git branch -D bugfix/photo-upload</code> 可以删除这支branch。注意，这里不能写 -d,因为git会认为这支branch还没有合并，从而拒绝删除。 -D则是强制删除。                                          </p>
<h3 id="Rebasing"><a href="#Rebasing" class="headerlink" title="Rebasing"></a>Rebasing</h3><p>Rebasing 顾名思义就是将branch的Base重定向。</p>
<p>下面是初始状态：</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/60.png" style="zoom: 100%;"></p>
<p>Rebase之后，我们将FEATURE这支转移到Master上</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/61.png" style="zoom: 100%;"></p>
<p>最后将Master和Feature合并</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/62.png" style="zoom: 100%;"></p>
<p>Rebase 是一种修改Commit 历史的写法。我们不应该在多人团队协作的情况下擅自使用 Rebase</p>
<p>事实上，在Git 内部的实现原理如下：</p>
<p>首先在Master后面创建两个F1，F2 commit的拷贝F1*和F2*。然后再让Feature指向 F2*, 这时没有指针再指向F1、F2 了，git会自行删除它们。</p>
<p>我们先用命令创造出这样一个情况 ： </p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/63.png" style="zoom: 100%;"></p>
<p>然后我们将Head指向 feature/shopping-cart 并 <code>git rebase master</code></p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/64.png" style="zoom: 100%;"></p>
<p>最后我们只需要做一下 fast-forward merge 就可以将两个合并起来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git switch master</span><br><span class="line">git merge feature&#x2F;shopping-cart</span><br></pre></td></tr></table></figure>
<p>那么如果rebase发生冲突了该怎么办呢？</p>
<p>我们同样可以通过 <code>git mergetool</code> 来进行调整。</p>
<ul>
<li><p>一个文件调整完了，可以用 <code>git rebase --continue</code> 来进行下一个文件的处理</p>
</li>
<li><p>可以用<code>git rebase --skip</code> 来跳过当前文件的处理。</p>
</li>
<li>可以用 <code>git rebase --abort</code> 来回暂停rebase操作。</li>
</ul>
<h3 id="Cherry-Picking"><a href="#Cherry-Picking" class="headerlink" title="Cherry Picking"></a>Cherry Picking</h3><p>Cherry Picking 就是像在两个樱桃中选择一个去摘。在git中如图：</p>
<p><img src="/2020/09/27/git%E5%AD%A6%E4%B9%A02/65.png" style="zoom: 100%;"></p>
<p>我们只要记下 F1 的ID，然后 <code>git cherry-pickl ID</code></p>
<p>如果发生了问题，那么我们也可以用 <code>git mergetool</code> 来解决。</p>
<h3 id="Picking-a-File-from-Another-Branch"><a href="#Picking-a-File-from-Another-Branch" class="headerlink" title="Picking a File from Another Branch"></a>Picking a File from Another Branch</h3><p>现在我们来看看怎么从一支branch中取出单独的一个文件放到当前的working directory</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git switch -C feature&#x2F;send-email</span><br><span class="line">echo river &gt; toc.txt</span><br><span class="line">git commit -am &quot;Update toc.txt&quot;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>我们先 git switch master</p>
</li>
<li><p>然后 <code>git restore --source=feature/send-email -- toc.txt</code>  也就是从 feature/send-email这一支的最新commit中选出toc.txt 文件放到working directory当中</p>
</li>
<li>最后 add ，commit 即可</li>
</ul>

      
    </div>
    
    
    
    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束，感谢您的阅读-------------</div>
    
</div>

      
    </div>
    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:</strong>
    Jason
  </li>
  <li class="post-copyright-link">
    <strong>Post link:</strong>
    <a href="https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/" title="git学习2">https://jasonxqh.github.io/2020/09/27/git%E5%AD%A6%E4%B9%A02/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice: </strong>
    All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/git/" rel="tag"><i class="fa fa-tag"></i> git</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/09/24/CSAPP%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA1/" rel="next" title="CSAPP程序的机器级表示1">
                <i class="fa fa-chevron-left"></i> CSAPP程序的机器级表示1
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/09/30/git%E5%9F%BA%E7%A1%803/" rel="prev" title="git基础3">
                git基础3 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80OTgyMC8yNjMxMQ=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Jason</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives%7C%7C%20archive">
              
                  <span class="site-state-item-count">421</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">57</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/JasonXQH" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:10195501423@stu.ecnu.edu.cn" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://yanghong.tech/" title="友链:杨弘的博客" target="_blank">友链:杨弘的博客</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://ankate.github.io/" title="友链:赵奕轲的博客" target="_blank">友链:赵奕轲的博客</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://github.com/JasonXQH/JasonXQH.github.io" title="Like it, STAR ME" target="_blank">Like it, STAR ME</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#git-学习笔记2"><span class="nav-number">1.</span> <span class="nav-text">git 学习笔记2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Browsing-History"><span class="nav-number">1.1.</span> <span class="nav-text">Browsing History</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Getting-a-Repository"><span class="nav-number">1.1.1.</span> <span class="nav-text">Getting a Repository</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Viewing-the-History"><span class="nav-number">1.1.2.</span> <span class="nav-text">Viewing the History</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Filtering-the-History"><span class="nav-number">1.1.3.</span> <span class="nav-text">Filtering the History</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Formatting-the-Log-Output"><span class="nav-number">1.1.4.</span> <span class="nav-text">Formatting the Log Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Aliases"><span class="nav-number">1.1.5.</span> <span class="nav-text">Aliases</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Viewing-a-Commit"><span class="nav-number">1.1.6.</span> <span class="nav-text">Viewing a Commit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Viewing-the-Changes-Across-Commits"><span class="nav-number">1.1.7.</span> <span class="nav-text">Viewing the Changes Across Commits</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Checking-Out-a-Commit"><span class="nav-number">1.1.8.</span> <span class="nav-text">Checking Out a Commit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Finding-Bugs-Using-Bisect"><span class="nav-number">1.1.9.</span> <span class="nav-text">Finding Bugs Using Bisect</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Finding-Contributors-Using-Shortlog"><span class="nav-number">1.1.10.</span> <span class="nav-text">Finding Contributors Using Shortlog</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Viewing-the-History-of-a-File"><span class="nav-number">1.1.11.</span> <span class="nav-text">Viewing the History of a File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Restoring-a-Deleting-File"><span class="nav-number">1.1.12.</span> <span class="nav-text">Restoring a Deleting File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Finding-the-Author-of-Line-Using-Blame"><span class="nav-number">1.1.13.</span> <span class="nav-text">Finding the Author of Line Using Blame</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tagging"><span class="nav-number">1.1.14.</span> <span class="nav-text">Tagging</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Browsing-History-Using-VSCode"><span class="nav-number">1.1.15.</span> <span class="nav-text">Browsing History Using VSCode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Browsing-the-History-Using-GitKraken"><span class="nav-number">1.1.16.</span> <span class="nav-text">Browsing the History Using GitKraken</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Branching"><span class="nav-number">1.2.</span> <span class="nav-text">Branching</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#What-are-Branches"><span class="nav-number">1.2.1.</span> <span class="nav-text">What are Branches</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Working-with-Branches"><span class="nav-number">1.2.2.</span> <span class="nav-text">Working with Branches</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comparing-Branches"><span class="nav-number">1.2.3.</span> <span class="nav-text">Comparing Branches</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stashing"><span class="nav-number">1.2.4.</span> <span class="nav-text">Stashing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Merging"><span class="nav-number">1.2.5.</span> <span class="nav-text">Merging</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Fast-forward-if-branches-have-not-diverged"><span class="nav-number">1.2.5.1.</span> <span class="nav-text">Fast-forward (if branches have not diverged)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#no-ff-merge"><span class="nav-number">1.2.5.2.</span> <span class="nav-text">no-ff merge</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-way-if-branch-have-diverged"><span class="nav-number">1.2.5.3.</span> <span class="nav-text">3-way(if branch have diverged)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fast-forward-Merges"><span class="nav-number">1.2.6.</span> <span class="nav-text">Fast-forward Merges</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#No-ff-merge"><span class="nav-number">1.2.7.</span> <span class="nav-text">No-ff merge</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Three-way-Merges"><span class="nav-number">1.2.8.</span> <span class="nav-text">Three-way Merges</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Viewing-Merged-and-Unmerged-Branches"><span class="nav-number">1.2.9.</span> <span class="nav-text">Viewing Merged and Unmerged Branches</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Merge-Conflicts"><span class="nav-number">1.2.10.</span> <span class="nav-text">Merge Conflicts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Graphical-Merge-Tools"><span class="nav-number">1.2.11.</span> <span class="nav-text">Graphical Merge Tools</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Aborting-a-Merge"><span class="nav-number">1.2.12.</span> <span class="nav-text">Aborting a Merge</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Undoing-a-Faulty-Merge"><span class="nav-number">1.2.13.</span> <span class="nav-text">Undoing a Faulty Merge</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Squash-Merging"><span class="nav-number">1.2.14.</span> <span class="nav-text">Squash Merging</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rebasing"><span class="nav-number">1.2.15.</span> <span class="nav-text">Rebasing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cherry-Picking"><span class="nav-number">1.2.16.</span> <span class="nav-text">Cherry Picking</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Picking-a-File-from-Another-Branch"><span class="nav-number">1.2.17.</span> <span class="nav-text">Picking a File from Another Branch</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart" aria-hidden="true"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jason</span>
 <!--
  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">1232.5k</span>
  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>



-->
        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('-1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  


  

  

</body>
</html>
