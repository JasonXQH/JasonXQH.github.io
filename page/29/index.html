<!DOCTYPE html>
<html lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jasonxqh.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Jason‘s Blog">
<meta property="og:url" content="https://jasonxqh.github.io/page/29/index.html">
<meta property="og:site_name" content="Jason‘s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Jason">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://jasonxqh.github.io/page/29/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Jason‘s Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Jason‘s Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/" class="post-title-link" itemprop="url">斯托克斯公式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-15 18:20:40" itemprop="dateCreated datePublished" datetime="2020-05-15T18:20:40+08:00">2020-05-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-24 20:52:44" itemprop="dateModified" datetime="2020-05-24T20:52:44+08:00">2020-05-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="斯托克斯公式"><a href="#斯托克斯公式" class="headerlink" title="斯托克斯公式"></a>斯托克斯公式</h1><h2 id="斯托克斯公式-1"><a href="#斯托克斯公式-1" class="headerlink" title="斯托克斯公式"></a>斯托克斯公式</h2><p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/1.png" style="zoom:67%;"></p>
<p>作用 ：把第二类空间曲面积分和第二类空间曲线积分相联系</p>
<p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/2.png" style="zoom:67%;"></p>
<h3 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h3><p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/3.png" style="zoom:67%;"></p>
<p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/4.png" style="zoom:67%;"></p>
<h2 id="空间曲线积分与路径无关的条件"><a href="#空间曲线积分与路径无关的条件" class="headerlink" title="空间曲线积分与路径无关的条件"></a>空间曲线积分与路径无关的条件</h2><p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/5.png" style="zoom:67%;"></p>
<h2 id="环流量与旋度"><a href="#环流量与旋度" class="headerlink" title="环流量与旋度"></a>环流量与旋度</h2><p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/6.png" style="zoom:67%;"></p>
<p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/7.png" style="zoom:67%;"></p>
<p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/8.png" style="zoom:67%;"></p>
<p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/9.png" style="zoom:67%;"></p>
<h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><p>1.遵守右手定则，四只手指弯曲，沿着曲线方向，大拇指的指向就是曲面的方向了</p>
<p>2.斯托克斯公式展开的时候 $\vec j$ 对应的符号是负的，这千万别搞错了</p>
<h2 id="书本练习"><a href="#书本练习" class="headerlink" title="书本练习"></a>书本练习</h2><p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/1.jpg" style="zoom:80%;"></p>
<p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/2.jpg" style="zoom:80%;"></p>
<p><img src="/2020/05/15/%E6%96%AF%E6%89%98%E5%85%8B%E6%96%AF%E5%85%AC%E5%BC%8F/3.jpg" style="zoom:80%;"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/" class="post-title-link" itemprop="url">离散概率part2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-15 13:41:08" itemprop="dateCreated datePublished" datetime="2020-05-15T13:41:08+08:00">2020-05-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-06 10:55:14" itemprop="dateModified" datetime="2020-09-06T10:55:14+08:00">2020-09-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="离散概率part2"><a href="#离散概率part2" class="headerlink" title="离散概率part2"></a>离散概率part2</h1><p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/0.png" alt></p>
<h2 id="随机变量"><a href="#随机变量" class="headerlink" title="随机变量"></a>随机变量</h2><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><p>A random variable (r.v.) X is a function from sample space of an experiment to the set of real numbers in R, i.e.,<br>$\forall \omega \in \Omega,X(\omega) = x\in R$</p>
<p>$X$ 是一个随机变量函数，是样本空间到实数集的一个函数，对于任何在$\Omega$中的$\omega$ 通过$X$ 函数映射到一个 $x$上，$x$唯一。</p>
<ul>
<li>Note that a random variable is a function. It is not a variable,and it is not random!<ul>
<li>我们要注意随机变量并不是随机的也不是一个变量，他是一个函数，是把我们样本空间的一个$\omega$ 映射成一个实数。</li>
<li>那么为什么叫随机变量呢？因为在这件事没有发生之前，也就是$\omega$ 是否发生是不确定的。</li>
<li>也就是说，随机变量的值是确定的，但是发生不发生是不确定的</li>
</ul>
</li>
<li>We usually use notation X,Y , etc. to represent a r.v., and x,y to represent the numerical values. For example, X = x means that r.v. X has value x.<ul>
<li>注意<strong>大写的叫做随机变量**</strong>，小写的叫做随机变量的值**。</li>
</ul>
</li>
<li>The domain of the function can be countable and uncountable. If it is countable, the random variable is a discrete r.v., otherwise continuous r.v..<ul>
<li>如果这个x是连续空间中的，我们叫做连续的随机变量<ul>
<li>比如说我们在等车的时候，时间就是连续的随机变量</li>
</ul>
</li>
<li>否则x是离散空间中的取值，我们叫做离散的随机变量<ul>
<li>比如说我去食堂排队，考虑队前有几个人，那么就是离散的，如果考虑要排多长时间的队，那么就是连续的</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><ul>
<li>A coin is tossed. If X is the r.v. whose value is the number of heads obtained, then<ul>
<li>$X(H) = 1,X(T) = 0$</li>
</ul>
</li>
<li>And then tossed again. We dene sample  $space  = {HH,HT,TH,TT}$   If $X $  is the r.v. whose value is the number of heads obtained, then<ul>
<li>$X(HH) = 2,X(HT) = X,X(TH) = 1,X(TT) = 0$</li>
</ul>
</li>
<li>When a player rolls a die, he will win $1 if the outcome is 1,2 or 3, otherwise lose $1​. Let  $\Omega $ = { 1, 2 , 3 ,  4 , 5 , 6} and dene X as follows<ul>
<li>$X(1) = X(2) = X(3) = 1;X(4) = X(5) = X(6) = -1$</li>
</ul>
</li>
</ul>
<h3 id="为什么要定义一个随机变量呢？"><a href="#为什么要定义一个随机变量呢？" class="headerlink" title="为什么要定义一个随机变量呢？"></a>为什么要定义一个随机变量呢？</h3><p>比如我要抛100次硬币，那么样本空间是$2^{100}$ 但现在我们定义随机变量为 硬币朝上的次数，那么一共只有101个值，所以这个问题就会被我们简化</p>
<p>除了简化之外，我们有两种情况 {HTTT….T} 和{THTT…T} 如果不考虑随机变量，是没有办法运算的，如果考虑的话就可以对他们进行四则运算。这是定义随机变量的初衷</p>
<h3 id="Random-variables-VS-events"><a href="#Random-variables-VS-events" class="headerlink" title="Random variables VS. events"></a>Random variables VS. events</h3><p>Suppose now that a sample space   $\Omega = \omega_1,\omega_2,…\omega_n$   is given, and r.v. X on $ \Omega $<br> is defined the number of heads obtained when we toss a coin twice.</p>
<ul>
<li>Event E1 represents only one head obtained. Hence,<br>$E_1 = ${$\omega:X(\omega)=1$}</li>
<li>Event E2 represents even heads obtained. Hence,<br>$E_2 = ${$\omega:X(\omega) ~~ mod ~~2 =0$}</li>
<li>Event E2 represents at least one heads obtained. Hence,<br>$E_3 = ${$\omega:X(\omega)&gt;1$}</li>
</ul>
<p>These indicate that we can also dene probability about r.v.s.<br>就是说，我定义随机变量和一个事件是等价的，我既可以计算事件的概率，也可以计算随机变量取值的概率，所以从计算上是等价的。</p>
<h3 id="Distribution-分布"><a href="#Distribution-分布" class="headerlink" title="Distribution(分布)"></a>Distribution(分布)</h3><p>Denition: The distribution of a r.v. X on a sample space is the set of pairs $(r , p(X = r )) $for all $r\in X(\Omega),$ where $P(X = r )$ is the probability that $ r.v. X $ takes value r . That is, the set of pairs in this distribution is determined by probabilities $P(X = r ) $for $r\in X(\Omega).$</p>
<p>r 是 随机变量的值域当中取一个值，那么$p(X=r)$就是当X=r 是的概率，相当于是一张表</p>
<p>就比如说 抛硬币100次，我们就可以列出 0次正面朝上的概率，1次正面朝上的概率……</p>
<h4 id="注意点："><a href="#注意点：" class="headerlink" title="注意点："></a>注意点：</h4><ul>
<li>其实分布 就相当于一个函数，</li>
<li>If we dene event E which X has vaule x in , then,<ul>
<li><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/1.png" alt></li>
</ul>
</li>
<li>那么就可以说 f(x) is a probability distribution (function) if<ul>
<li>$f(x)\geq0$</li>
<li>$\sum_xf(x)=1$</li>
</ul>
</li>
<li><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/2.png" alt></li>
</ul>
<p>例子</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/3.png" style="zoom:67%;"></p>
<h3 id="Joint-and-marginal-probability-distributions-联合概率分布和边际概率分布"><a href="#Joint-and-marginal-probability-distributions-联合概率分布和边际概率分布" class="headerlink" title="* Joint and marginal probability distributions(联合概率分布和边际概率分布)"></a>* Joint and marginal probability distributions(联合概率分布和边际概率分布)</h3><h4 id="definition"><a href="#definition" class="headerlink" title="definition"></a>definition</h4><p>Let X and Y be two r.v.s,</p>
<ul>
<li>$f (x， y) = P(X = x\land Y = y) $is the joint probability distribution; 联合概率分布</li>
<li>$f_X (x)$ is the marginal probability distribution for $r.v. X. $ 边际概率分布</li>
<li><p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/4.png" style="zoom:67%;"></p>
</li>
<li><p>所以说，边际概率就是对联合概率求和</p>
</li>
<li>要求$f_X (x)$的概率，就是对所有$y_i$求和 </li>
</ul>
<h3 id="Independence-of-r-V-随机变量的独立"><a href="#Independence-of-r-V-随机变量的独立" class="headerlink" title="Independence of r.V. 随机变量的独立"></a>Independence of r.V. 随机变量的独立</h3><ul>
<li>我们看到如果随机变量是两两独立的或者相互独立的，那么他们的联合概率就等于边际概率的乘积</li>
</ul>
<h4 id="Independence-of-r-v-Cont’d"><a href="#Independence-of-r-v-Cont’d" class="headerlink" title="Independence of r.v. Cont’d"></a>Independence of r.v. Cont’d</h4><p>如果X和Y是相互独立的，那么条件概率就等于无条件概率</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/6.png" style="zoom:67%;"></p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/7.png" style="zoom:67%;"></p>
<h4 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h4><p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/8.png" style="zoom:67%;"></p>
<h2 id="Bernoulli-Trials-and-Binomial-distribution"><a href="#Bernoulli-Trials-and-Binomial-distribution" class="headerlink" title="Bernoulli Trials and Binomial distribution"></a>Bernoulli Trials and Binomial distribution</h2><h3 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h3><ul>
<li><p>Each performance of an experiment with two possible outcomes is called a <strong>Bernoulli trial.</strong></p>
<ul>
<li>凡是<strong>只有两个结果</strong>的，都叫做贝努力实验</li>
</ul>
</li>
<li><p>In general, a possible outcome of a Bernoulli trial is called a success or a failure.</p>
</li>
<li>If p is the probability of a success and q is the probability of a failure, it follows that p + q = 1:<ul>
<li>只要知道成功的概率，就知道失败的概率</li>
</ul>
</li>
<li>Many problems can be solved by determining the probability of k successes when an experiment consists of  n <strong>mutually independent Bernoulli trials.</strong></li>
</ul>
<h3 id="Mutually-independent-Bernoulli-trials"><a href="#Mutually-independent-Bernoulli-trials" class="headerlink" title="Mutually independent Bernoulli trials"></a>Mutually independent Bernoulli trials</h3><p><strong>Question:</strong> A coin is biased so that the probability of heads is 2/3.What is the probability that exactly four heads come up when the coin is  flipped seven times, assuming that the  flipps are independent?</p>
<p><strong>Solution:</strong></p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/9.png" style="zoom:67%;"></p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/10.png" style="zoom:67%;"></p>
<h3 id="Theorem"><a href="#Theorem" class="headerlink" title="Theorem"></a>Theorem</h3><p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/11.png" style="zoom:67%;"></p>
<p>那么我们就把他叫做二项分布</p>
<h3 id="二项分布"><a href="#二项分布" class="headerlink" title="二项分布"></a>二项分布</h3><p>$X$ ~ $Bin(n,p)$</p>
<p>$P(X=k) = C(n,k)p^k(1-p)^{n-k}$ </p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/12.png" style="zoom:67%;"></p>
<p>那么，对于不同的p，我们会得到什么样的分布图呢？</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/1.jpg" style="zoom:67%;"></p>
<p>我们看到当p=0.5的时候，分布式基本均匀的</p>
<p>当p比较小的时候，n又比较大的时候，峰会往y中靠拢，从表达式就可以看出</p>
<p>例子：掷出的筛子是3就成功，否则记为失败</p>
<h3 id="贝努力分布"><a href="#贝努力分布" class="headerlink" title="贝努力分布"></a>贝努力分布</h3><p>贝努力分布是二项分布的特殊情况，就是只进行一次。抛硬币，掷色子，只进行1次。所以二项分布是由很多个贝努力分布组合起来的。</p>
<h3 id="几何分布"><a href="#几何分布" class="headerlink" title="几何分布"></a>几何分布</h3><p>二项分布和几何分布的关注点不同</p>
<ul>
<li>二项分布的关注点在做了n次，成功或者失败了几次</li>
<li>几何分布式这个贝努力实验一直做下去，<strong>什么时候第一次成功</strong><br>几何分布有时候可以描述一个东西寿命的长短，比如点灯泡的次数，以知道灯泡炸了为止</li>
</ul>
<p>Let r.v. Y be the number of coin flips until the first head obtained.</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/13.png" style="zoom:100%;"></p>
<p>Let G(k; p) denote the probability of failures before the k-th independent Bernoulli trials with probability of <strong>success p</strong> and probability of <strong>failure q = 1- p.</strong></p>
<p>We call this function the <strong>Geometric distribution,</strong> i.e.,</p>
<h4 id="Collision-in-hashing"><a href="#Collision-in-hashing" class="headerlink" title="Collision in hashing"></a>Collision in hashing</h4><p><strong>Question:</strong> </p>
<p>Hashing functions map a large universe of keys (such as the approximately 300 million Social Security numbers in the United States) to a much smaller set of storage locations. A good hashing function yields few collisions, which are mappings of two different keys to the same memory location. What is the probability that no two keys are mapped to the same location by a hashing function, or, in other words, that there are no collisions?</p>
<p><strong>Solution:</strong><br>To calculate this probability, we assume that the probability that a randomly and uniformly selected key is mapped to a location is 1=m, where m is # available locations.Suppose that the keys are $k_1, k_2…  k_n$. When we add a new record$k_i$ , the probability that it is mapped to a location different from the locations of already hashed records, that $h(k_i) != h(k_j )$ for $1 \leq j &lt; i$ is $(m - i + 1) / m$</p>
<p> 我插入第i个的时候，那么就是说还剩下 $m-(i-1)$个空位置，如果不发生哈希碰撞，那么这个概率就是$(m - i + 1) / m$ </p>
<p>这也可以看作是一个几何分布。一直往里面插入，一直到发生哈希碰撞为止</p>
<p>Because the keys are independent, the probability that all n keys are mapped to different locations is</p>
<p>H(n,m)是没有发生碰撞的概率，那么1-H(n,m)就变成了发生碰撞的概率</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/14.png" style="zoom:80%;"></p>
<p>比如说我们给定一个0.5，那么当我们n,m 满足什么条件的时候，会让发生碰撞的概率大于0.5呢？</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/15.png" style="zoom:80%;"></p>
<h4 id="例子2"><a href="#例子2" class="headerlink" title="例子2"></a>例子2</h4><p><strong>question:</strong>Let X be a r.v. of the first sucess in independent Bernoulli trials with probability of success p ,please compute the value of </p>
<p>$\sum_{k=1}^{n} P(X=k)$</p>
<p><strong>solution：</strong> $1-(1-p)^n$  </p>
<h3 id="Monte-Carlo-algorithms"><a href="#Monte-Carlo-algorithms" class="headerlink" title="Monte Carlo algorithms"></a>Monte Carlo algorithms</h3><h4 id="蒙特卡洛方法在几何分布当中"><a href="#蒙特卡洛方法在几何分布当中" class="headerlink" title="蒙特卡洛方法在几何分布当中"></a>蒙特卡洛方法在几何分布当中</h4><p>蒙特卡洛方法是一个随机算法。</p>
<p>A Monte Carlo algorithm is a randomized or probabilistic algorithm whose output may be inaccuracy with a certain (typically small) probability. </p>
<p>Probabilistic algorithms make random choices at one or more steps, and result in different output even given the same input, which is different from all deterministic algorithms.</p>
<p>Monte Carlo algorithm for a decision problem: The probability that the algorithm answers the decision problem correctly increases as more tests are carried out.</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/16.png" style="zoom:80%;"></p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/17.png" style="zoom:80%;"></p>
<p>We will show that possibility of making mistake becomes extremely unlikely as # tests increases.</p>
<p>就是说只要有一次成功，这个算法就是正确的。</p>
<p>Suppose that p is the probability that the response of a test is “true” given that the answer is “true”.</p>
<p>当我们迭代的次数越来越多的时候，算法正确的概率</p>
<p>Because the algorithm answers “false” when all n iterations yield the answer “unknown” and the iterations perform independent tests, the probability of error is (1 - p)^n^.</p>
<p>当成功的概率不等于0 的时候，如果前n次都是unknow的话，概率就是  (1 - p)^n^，所以当n越来越大，这个概率就会越来越少，最终趋向于0. </p>
<p>When $p != 0$, this probability approaches 0 as the number of tests increases. Consequently, the probability that the algorithm answers “true” when the answer is “true” approaches 1.</p>
<p>也就是说，随着迭代，我们最后会把算法正确的概率提升到1</p>
<h4 id="第二个应用"><a href="#第二个应用" class="headerlink" title="第二个应用"></a>第二个应用</h4><p>计算$\pi$ </p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/18.png" style="zoom:80%;"></p>
<p>如果$P_i$ 属于 S的话，那么就取1，否则就取0。</p>
<p>所以 $l_s(P_i)$是一个0，1的随机变量，是一个贝努力实验，另外一个也是</p>
<p>那我们怎么来判断蒙特卡罗方法到底准不准呢？</p>
<h3 id="Sample-with-discrete-distribution"><a href="#Sample-with-discrete-distribution" class="headerlink" title="Sample with discrete distribution"></a>Sample with discrete distribution</h3><p>我们通过计算机采样的方法来模拟随机生成的点，让计算机去抛硬币，那么抽样的方法也有两种。</p>
<p>discreat distribution is $0.1,0.2,0.3,0.4$</p>
<h4 id="CDF-sample："><a href="#CDF-sample：" class="headerlink" title="CDF sample："></a>CDF sample：</h4><p>这种抽样方法就是说把所有的概率放在一个bar上，如下图所示。当我们生成一个0-1之间的随机数的时候，我们通过它所处的位置来判断它的随机变量是多少，那么这样我们需要在这个bar中间找到这个随机数的“归宿” </p>
<p>那么怎么才能找到”归宿呢“ ，我们可以把每个取值建成一棵二叉树，通过比较的方式来判断是否属于这棵树中的某一结点</p>
<p>但这样的时间消耗就很大了，下图只是4种取值，那么当我们有n种取值方式的时候，每次都要找到这随机数数据的范围，时间复杂的为$O(log_2n)$ </p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/19.png" style="zoom:70%;"></p>
<p>所以我们又提出了Aliasing sample这个取样方法</p>
<h4 id="Aliasing-sample："><a href="#Aliasing-sample：" class="headerlink" title="Aliasing sample："></a>Aliasing sample：</h4><p>别名采样方法就是</p>
<p>1.把离散分布分布排成一列，如右图第一张。但是这样，生成一个随机点落在这个区域中的话，很大一部分会落在空白处，而空白处是无效的。这样当最大值（这里是0.4)很大的时候，效率势必异常低下，所以我们要重新设计一块区域<br>2.如何设计？首先我们把第一块总面积(包括彩色和空白)。首先判断有几个样本区域，然后 计算<br><strong>总样本区域数*样本概率</strong> 如图二</p>
<p>3.这样一变化之后，虽然概率没有变，但是我现在可以通过分割的方式，把第二张图变成第三张图的形式。以1为分割点，进行分割，具体怎么分割，那么就随自己切了</p>
<p>4.这样通过别名采样的方法，可以让时间复杂度大大降低，因为这时候我们只需要判断他落在的区域该取什么值就行了，所以是$O(1)$的复杂度</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/2.jpg" style="zoom:70%;"></p>
<h3 id="综合试题"><a href="#综合试题" class="headerlink" title="综合试题"></a>综合试题</h3><p><strong>Question:</strong> We have two boxes. The first contains <strong>two green balls</strong> and <strong>seven red balls</strong>; the second contains <strong>four green balls</strong> and <strong>three red balls</strong>. Bob selects a ball by first choosing one of the two boxes <strong>at random.</strong> He then selects one of the balls in this box <strong>at random.</strong></p>
<p> If Bob has selected a red ball, what is the probability that he selected a red ball from the first box?</p>
<p><strong>Solution:</strong> Let <strong>E</strong> be the event that Bob has chosen a red ball. Let <strong>F</strong> and <strong>~F</strong> be the event that Bob has chosen a ball from the first box and the second box, respectively.</p>
<p>We want to find <strong>P(F|E)</strong>, the probability that the ball Bob selected came from the first box, given that it is red.</p>
<p>Bob 首先再两个箱子中随机选择了一个，又在选定的箱子中随机选择了一个球。问我们如果选红球的话，选择第一个箱子的概率是多大。</p>
<p>所以根据定义我们可以得到 $P(F|E) = \frac{P(F\cap E)}{P(E)}$ </p>
<p>F事件就是选择第一个箱子，E就是选择了红球。</p>
<p>我们的目标，就是计算$P(F\cap E)$和 $P(E)$ </p>
<p>因为F是选箱子，选择第一个还是第二个箱子的概率都是均等的。</p>
<p>要求出P(E),我们就要用到 $P(E) = \Sigma_{i=1}^nP(F_i)\cdot P(E|F_i)$ 这个全概率公式</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/25.png" style="zoom:100%;"></p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/3.jpg" style="zoom:40%;"></p>
<p>那么  </p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/21.png" style="zoom:100%;"></p>
<p>所以 $P(E) = \frac{7}{18}+\frac{3}{14}$</p>
<p>又</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/22.png" style="zoom:100%;"></p>
<p>所以</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/23.png" style="zoom:100%;"></p>
<p>这里要注意的是:</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/24.png" style="zoom:100%;"></p>
<p> 上面这个题目其实就是证明了贝叶斯定理的的过程。我们下面来介绍一下贝叶斯定理</p>
<h2 id="Bayes‘-Therem"><a href="#Bayes‘-Therem" class="headerlink" title="Bayes‘ Therem"></a>Bayes‘ Therem</h2><h3 id="证明"><a href="#证明" class="headerlink" title="证明"></a>证明</h3><p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/26.png" style="zoom:100%;"></p>
<p>推广的贝叶斯定理</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/27.png" style="zoom:100%;"></p>
<h3 id="应用："><a href="#应用：" class="headerlink" title="应用："></a>应用：</h3><h4 id="第一类应用："><a href="#第一类应用：" class="headerlink" title="第一类应用："></a>第一类应用：</h4><h5 id="例一："><a href="#例一：" class="headerlink" title="例一："></a>例一：</h5><p><strong>Question: </strong></p>
<p>Suppose that one of <strong>100,000 persons has a particular rare disease</strong> for which there is a fairly accurate diagnostic test. This test is <strong>correct 99.0% when given to a person selected at random who has the disease</strong>; it is correct  <strong>99.5% when given to a person selected at random who does not have the disease.</strong> Given this information can we find </p>
<ul>
<li><p>the probability that a person who <strong>tests positive</strong> for the disease <strong>has the disease</strong>?</p>
</li>
<li><p>the probability that a person who <strong>tests negative</strong> for the disease <strong>does not have the disease</strong>?</p>
<p>Should a person who tests positive be very concerned that he or she has the disease?</p>
</li>
</ul>
<p><strong>Solution</strong>:</p>
<p>Let</p>
<p> <strong>F be the event that a person selected at random has the disease</strong> </p>
<p> <strong>E be the event that a person selected at random tests positive</strong><br>for the disease. Hence, we have  $ p(F) = 1/100000 = 10^{-5}$</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/28.png" style="zoom:80%;"></p>
<p><strong>做贝叶斯应用题的方法：</strong></p>
<p>我们首先要确定 事件 $F,E,\overline F$分别代表什么。</p>
<p>然后分别求出 $P(F),P(E|F),P(E|\overline F)$</p>
<p>再带入即可</p>
<h5 id="例二："><a href="#例二：" class="headerlink" title="例二："></a>例二：</h5><p><strong>Question:</strong></p>
<p>When a test for steroids is given to soccer players, <strong>98% of the players taking steroids test positive</strong> and <strong>12% of the players not taking steroids test positive</strong>. Suppose that <strong>5% of soccer players take steroids</strong>. What is the probability that a soccer player who tests positive takes steroids?</p>
<p><strong>Solution:</strong></p>
<p>Let</p>
<p><strong>E:  a soccer player who tests positive</strong> </p>
<p><strong>F: a soccer player who takes steroids</strong></p>
<p>$\overline F$<strong>: a soccer player who doesn’t take steroids</strong></p>
<p>Thus,</p>
<p>$E|F$ : a soccer player who takes steroids tests positive</p>
<p>$E|\overline F$ : a soccer player who does’t take steroids tests positive.</p>
<p>$P(F) = 5\%$</p>
<p>$P(\overline F) = 95\%$</p>
<p>$P(E|F)=98\%$</p>
<p>$P(E|\overline F) = 12\%$</p>
<p>带入得到答案 ：$=\frac{49}{163}$</p>
<h4 id="第二类应用："><a href="#第二类应用：" class="headerlink" title="第二类应用："></a>第二类应用：</h4><p><strong>Question:</strong>  How to detect spam email?<br><strong>Solution:</strong>  Bayesian spam lters look for occurrences of particular words in messages. For a particular word w, the probability that w appears in a spam e-mail message is estimated by determining # times w appears in a message from a large set of messages known to be spam and # times it appears in a large set of messages known not to be spam.</p>
<p>我们可以找些特定的“敏感词” ，然后分析他在垃圾邮件中出现的概率为多少，在不是垃圾的邮件中出现概率为多少。</p>
<p><strong>Step 1:</strong> Collect <strong>ground-truth</strong> Suppose we have a set B of messages known to be spam and a set G of messages known not to be spam.</p>
<p>ground-truth ：就是我们把一些垃圾邮件贴上标签然后告诉计算机。然后让计算机取学习这个模型。</p>
<p>所以我们要去搜集什么是垃圾邮件，什么不是垃圾邮件。比如回复和转发的基本不是垃圾邮件，如果在垃圾箱里面的，基本都是垃圾邮件。 </p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/33.png" style="zoom:80%;"></p>
<p>在Step2中，看w这个单词出现在B 和G 种出现的概率。就是计算两个条件概率</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/29.png" style="zoom:80%;"></p>
<p>然后我们通过贝叶斯定律开始计算。因为$P(\overline F|E)+P(F|E) =1$ 所以计算一个即可</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/30.png" style="zoom:80%;"></p>
<p>我们没有办法计算所有垃圾邮件和非垃圾邮件的数量和概率，所以我们假设这两种邮件出现的概率都为0.5。然后我们可以得到$r(w)$,那么，我们如果发现r(w)远远大于1/2 的话，那么这封邮件的垃圾概率，就是非常大了</p>
<p>那么我如果有很多很多的词，该怎么办? 可以基于分词工具（jieba)等对邮件进行分词。然后得到下面的贝叶斯公式</p>
<ul>
<li><p>等式左边代表的意思就是如果 $w_1,w_2,..w_i$出现在这封邮件里的时候，这封邮件是垃圾邮件的概率。</p>
</li>
<li><p>等式右边</p>
<ul>
<li>分子代表的意思：就是 一个联合概率： 就是说这份邮件确实是垃圾邮件，然后判断这些垃圾词出现的概率。这些数据，都是从ground-truth中学习得来的。</li>
<li>分母是这个词是垃圾词出现在垃圾邮件的概率和这个垃圾词出现在不是垃圾邮件的概率</li>
</ul>
</li>
</ul>
<p>因为$E_i|S $是相互独立的，所以可以用相乘来计算，就是说我这些垃圾词同时出现的时候，这份邮件是垃圾邮件的概率。</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/31.png" style="zoom:80%;"></p>
<p>但是这个方法被称为 navie Bayesian 。为什么说是naive，是因为当一封邮件写得很长的时候，比如有1000个词，那么分子就是1000个小于1的数相乘，这很可能超出了计算机的表达范围。计算结果可能等于0，所以通常我们的做法是取个对数，然后再取指数。</p>
<p><img src="/2020/05/15/%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87part2/32.png" style="zoom:80%;"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/05/14/pymysql%E7%9A%84%E7%94%A8%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/14/pymysql%E7%9A%84%E7%94%A8%E6%B3%95/" class="post-title-link" itemprop="url">pymysql的用法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-05-14 16:17:50 / Modified: 17:07:58" itemprop="dateCreated datePublished" datetime="2020-05-14T16:17:50+08:00">2020-05-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="pymysql的用法"><a href="#pymysql的用法" class="headerlink" title="pymysql的用法"></a>pymysql的用法</h1><h2 id="pymysql-链接和创建数据表"><a href="#pymysql-链接和创建数据表" class="headerlink" title="pymysql 链接和创建数据表"></a>pymysql 链接和创建数据表</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment">#创建与数据库的连接</span></span><br><span class="line">    db=pymysql.connect(<span class="string">'localhost'</span>,<span class="string">'root'</span>,<span class="string">'root'</span>,<span class="string">'XXX'</span>)</span><br><span class="line">    <span class="comment">#创建游标对象cursor</span></span><br><span class="line">    cursor=db.cursor()</span><br><span class="line">    <span class="comment">#使用execute()方法执行sql，如果表存在则删除</span></span><br><span class="line">    cursor.execute(<span class="string">'drop table if EXISTS student'</span>)</span><br><span class="line">    <span class="comment">#创建表的sql</span></span><br><span class="line">    sql=<span class="string">'''</span></span><br><span class="line"><span class="string">        create table student(</span></span><br><span class="line"><span class="string">        sno int(8) primary key auto_increment,</span></span><br><span class="line"><span class="string">        sname varchar(30) not null,</span></span><br><span class="line"><span class="string">        sex varchar(5) ,</span></span><br><span class="line"><span class="string">        age int(2),</span></span><br><span class="line"><span class="string">        score float(3,1)</span></span><br><span class="line"><span class="string">        )</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    cursor.execute(sql)</span><br><span class="line">    print(<span class="string">'创建表成功！'</span>)</span><br><span class="line">    db.close()</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    print(<span class="string">'创建表失败'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="comment">#创建与数据库的连接</span></span><br><span class="line">db=pymysql.connect(<span class="string">'localhost'</span>,<span class="string">'root'</span>,<span class="string">'root'</span>,<span class="string">'XXX'</span>)</span><br><span class="line"><span class="comment">#创建游标对象cursor</span></span><br><span class="line">cursor=db.cursor()</span><br><span class="line"><span class="comment">#插入sql语句</span></span><br><span class="line">sql=<span class="string">'''</span></span><br><span class="line"><span class="string">insert into student(sname,sex,age,score) values(%s,%s,%s,%s)</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment">#执行sql语句</span></span><br><span class="line">    cursor.execute(sql,(<span class="string">'李四'</span>,<span class="string">'woman'</span>,<span class="number">25</span>,<span class="number">99.6</span>))</span><br><span class="line">    <span class="comment">#提交事务</span></span><br><span class="line">    db.commit()</span><br><span class="line">    print(<span class="string">'插入成功'</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line">    <span class="comment">#如果出现异常，回滚</span></span><br><span class="line">    db.rollback()</span><br><span class="line">    print(<span class="string">'插入失败'</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="comment">#关闭数据库连接</span></span><br><span class="line">    db.close()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/pymysql%E7%9A%84%E7%94%A8%E6%B3%95/1.png" alt></p>
<h3 id="插入多条数据"><a href="#插入多条数据" class="headerlink" title="插入多条数据"></a>插入多条数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="comment">#创建与数据库的连接</span></span><br><span class="line">db=pymysql.connect(<span class="string">'localhost'</span>,<span class="string">'root'</span>,<span class="string">'root'</span>,<span class="string">'XXX'</span>)</span><br><span class="line"><span class="comment">#创建游标对象cursor</span></span><br><span class="line">cursor=db.cursor()</span><br><span class="line"><span class="comment">#插入sql语句</span></span><br><span class="line">sql=<span class="string">'''</span></span><br><span class="line"><span class="string">    insert into student(sname,sex,age,score) values(%s,%s,%s,%s)</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">args=[(<span class="string">'王五'</span>,<span class="string">'woman'</span>,<span class="number">22</span>,<span class="number">98.6</span>),(<span class="string">'赵六'</span>,<span class="string">'man'</span>,<span class="number">21</span>,<span class="number">99.1</span>)]</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment">#执行sql语句</span></span><br><span class="line">    cursor.executemany(sql,args)</span><br><span class="line">    <span class="comment">#提交事务</span></span><br><span class="line">    db.commit()</span><br><span class="line">    print(<span class="string">'插入成功'</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line">    <span class="comment">#如果出现异常，回滚</span></span><br><span class="line">    db.rollback()</span><br><span class="line">    print(<span class="string">'插入失败'</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="comment">#关闭数据库连接</span></span><br><span class="line">    db.close()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/pymysql%E7%9A%84%E7%94%A8%E6%B3%95/2.png" style="zoom:75%;"></p>
<h2 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h2><p>Python查询Mysql使用 fetchone() 方法获取单条数据, 使用fetchall() 方法获取多条数据。</p>
<p>fetchone(): 该方法获取下一个查询结果集。结果集是一个对象</p>
<p>fetchall(): 接收全部的返回结果行.</p>
<p>rowcount: 这是一个只读属性，并返回执行execute()方法后影响的行数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="comment">#创建与数据库的连接</span></span><br><span class="line">db=pymysql.connect(<span class="string">'localhost'</span>,<span class="string">'root'</span>,<span class="string">'root'</span>,<span class="string">'XXX'</span>)</span><br><span class="line"><span class="comment">#创建游标对象cursor</span></span><br><span class="line">cursor=db.cursor()</span><br><span class="line"><span class="comment">#查询年龄大于等于23的所有学生信息</span></span><br><span class="line">sql=<span class="string">'select * from student where age&gt;=22'</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment">#执行sql</span></span><br><span class="line">    cursor.execute(sql)</span><br><span class="line">    <span class="comment">#获取查询结果</span></span><br><span class="line">    results=cursor.fetchall()</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> results:</span><br><span class="line">        sno=row[<span class="number">0</span>]</span><br><span class="line">        sname=row[<span class="number">1</span>]</span><br><span class="line">        sex=row[<span class="number">2</span>]</span><br><span class="line">        age=row[<span class="number">3</span>]</span><br><span class="line">        score=row[<span class="number">4</span>]</span><br><span class="line">        <span class="comment">#输出</span></span><br><span class="line">        print(<span class="string">'sno:'</span>,sno,<span class="string">'sname:'</span>,sname,<span class="string">'sex:'</span>,sex,<span class="string">'age:'</span>,age,<span class="string">'score:'</span>,score)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line">    print(<span class="string">'查询失败'</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    db.close()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/pymysql%E7%9A%84%E7%94%A8%E6%B3%95/3.png" alt></p>
<h3 id="模糊查询——like"><a href="#模糊查询——like" class="headerlink" title="模糊查询——like"></a>模糊查询——like</h3><p>这里我查询的是之前通过爬虫爬取下来的数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="comment">#创建与数据库的连接</span></span><br><span class="line">db=pymysql.connect(<span class="string">'localhost'</span>,<span class="string">'root'</span>,<span class="string">'root'</span>,<span class="string">'crawl'</span>)</span><br><span class="line"><span class="comment">#创建游标对象cursor</span></span><br><span class="line">cursor=db.cursor()</span><br><span class="line"><span class="comment">#模糊查询，所有题目中带有股票二次的信息都会显示出来，所以最后的str可以替换</span></span><br><span class="line">sql = <span class="string">"SELECT * FROM 经济新闻 WHERE title_format LIKE '%%%%%s%%%%'"</span> % <span class="string">"股票"</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment">#执行sql</span></span><br><span class="line">    cursor.execute(sql)</span><br><span class="line">    <span class="comment">#获取查询结果</span></span><br><span class="line">    results=cursor.fetchall()</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> results:</span><br><span class="line">        id_fetches=row[<span class="number">0</span>]</span><br><span class="line">        url=row[<span class="number">1</span>]</span><br><span class="line">        source_name=row[<span class="number">2</span>]</span><br><span class="line">        article_source=row[<span class="number">3</span>]</span><br><span class="line">        title_format=row[<span class="number">4</span>]</span><br><span class="line">        pubtime=row[<span class="number">5</span>]</span><br><span class="line">        <span class="comment">#输出</span></span><br><span class="line">        print(<span class="string">'id_fetches:'</span>,id_fetches,<span class="string">'url:'</span>,url,<span class="string">'source_name:'</span>,source_name,<span class="string">'article_source:'</span>,article_source,<span class="string">'title_format:'</span>,title_format,<span class="string">'pubtime:'</span>,pubtime)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line">    print(<span class="string">'查询失败'</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    db.close()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/pymysql%E7%9A%84%E7%94%A8%E6%B3%95/6.png" style="zoom: 40%;"></p>
<h2 id="数据库更新操作"><a href="#数据库更新操作" class="headerlink" title="数据库更新操作"></a>数据库更新操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="comment">#创建与数据库的连接</span></span><br><span class="line">db=pymysql.connect(<span class="string">'localhost'</span>,<span class="string">'root'</span>,<span class="string">'root'</span>,<span class="string">'XXX'</span>)</span><br><span class="line"><span class="comment">#创建游标对象cursor</span></span><br><span class="line">cursor=db.cursor()</span><br><span class="line"><span class="comment">#将sno=5的学生成绩修改为99.5</span></span><br><span class="line">sql=<span class="string">'update student set score=%s where sno=%s'</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment">#执行sql</span></span><br><span class="line">    cursor.execute(sql,(<span class="number">99.5</span>,<span class="number">5</span>))</span><br><span class="line">    <span class="comment">#提交数据</span></span><br><span class="line">    db.commit()</span><br><span class="line">    print(<span class="string">'修改成功'</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    print(<span class="string">'修改失败'</span>)</span><br><span class="line">    db.rollback()</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    db.close()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/pymysql%E7%9A%84%E7%94%A8%E6%B3%95/4.png" style="zoom: 50%;"></p>
<h2 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="comment">#创建与数据库的连接</span></span><br><span class="line">db=pymysql.connect(<span class="string">'localhost'</span>,<span class="string">'root'</span>,<span class="string">'root'</span>,<span class="string">'XXX'</span>)</span><br><span class="line"><span class="comment">#创建游标对象cursor</span></span><br><span class="line">cursor=db.cursor()</span><br><span class="line"><span class="comment">#删除sql</span></span><br><span class="line">sql=<span class="string">'delete from student where age &lt; 22'</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment">#执行sql语句</span></span><br><span class="line">    cursor.execute(sql)</span><br><span class="line">    <span class="comment">#提交事务</span></span><br><span class="line">    db.commit()</span><br><span class="line">    print(<span class="string">'删除数据成功'</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    db.rollback()</span><br><span class="line">    print(<span class="string">'删除数据失败'</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="comment">#关闭连接</span></span><br><span class="line">    db.close()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/pymysql%E7%9A%84%E7%94%A8%E6%B3%95/5.png" style="zoom: 75%;"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/" class="post-title-link" itemprop="url">python数据可视化之matplotlib</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-14 11:18:27" itemprop="dateCreated datePublished" datetime="2020-05-14T11:18:27+08:00">2020-05-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-06 09:29:48" itemprop="dateModified" datetime="2020-08-06T09:29:48+08:00">2020-08-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="python数据可视化之matplotlib"><a href="#python数据可视化之matplotlib" class="headerlink" title="python数据可视化之matplotlib"></a>python数据可视化之matplotlib</h1><h2 id="基本绘制图形"><a href="#基本绘制图形" class="headerlink" title="基本绘制图形"></a>基本绘制图形</h2><p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/1.png" alt></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">matplotlib.use(<span class="string">'TkAgg'</span>)</span><br></pre></td></tr></table></figure>
<p>注意，使用这行代码可以在鼠标移动的时候显示坐标信息</p>
<p>或者File -&gt; Settings -&gt; Tools -&gt; Python Scientific -&gt; 去掉Show plots in tool window勾选</p>
<h3 id="绘制直线图"><a href="#绘制直线图" class="headerlink" title="绘制直线图"></a>绘制直线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># 将(0,1) 点和(2,4)连起来</span></span><br><span class="line">plt.plot([<span class="number">0</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">4</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>效果如下<br><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/1-1.png" style="zoom:50%;"></p>
<h3 id="绘制折线图"><a href="#绘制折线图" class="headerlink" title="绘制折线图"></a>绘制折线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">y = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">25</span>]</span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.savefig(<span class="string">"1-2.png"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/1-2.png" style="zoom:50%;"></p>
<h2 id="设置样式"><a href="#设置样式" class="headerlink" title="设置样式"></a>设置样式</h2><h3 id="设置标签文字和线条粗细"><a href="#设置标签文字和线条粗细" class="headerlink" title="设置标签文字和线条粗细"></a>设置标签文字和线条粗细</h3><p>在上面的实例直线结果不够完美，我们可以对线条样式进行灵活设置。例如：可以设置线条的粗细，设置文字等等</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">y = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">25</span>]</span><br><span class="line">plt.plot(x,y,linewidth =<span class="number">5</span>)</span><br><span class="line">plt.title(<span class="string">"Numbers"</span>,fontsize = <span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">"x"</span>,fontsize = <span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">"y"</span>,fontsize = <span class="number">14</span>)</span><br><span class="line">plt.savefig(<span class="string">"2-1.png"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/2-1.png" style="zoom:50%;"></p>
<p>当标题为中文，那么会出现乱码，可以在上面加上一行代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.rcParams[<span class="string">"font.sans-serif"</span>]=[<span class="string">"SimHei"</span>]</span><br><span class="line">plt.title(<span class="string">"折线图"</span>,fontsize = <span class="number">24</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/2-2.png" style="zoom:50%;"></p>
<h2 id="绘制曲线"><a href="#绘制曲线" class="headerlink" title="绘制曲线"></a>绘制曲线</h2><h3 id="一元二次方程"><a href="#一元二次方程" class="headerlink" title="一元二次方程"></a>一元二次方程</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># 默认每个1个点取一个数</span></span><br><span class="line">x = range(<span class="number">-100</span>,<span class="number">100</span>)</span><br><span class="line"><span class="comment"># i**2 说明是 i 的平方</span></span><br><span class="line">y = [i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br><span class="line"><span class="comment"># 绘制一元二次方程</span></span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.savefig(<span class="string">"3-1.png"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/3-1.png" style="zoom:50%;"></p>
<h3 id="绘制正弦余弦曲线"><a href="#绘制正弦余弦曲线" class="headerlink" title="绘制正弦余弦曲线"></a>绘制正弦余弦曲线</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># numpy库封装了很多计算的api，就不需要我们自己算了</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 生成0-10之间100个等差数</span></span><br><span class="line">x = np.linspace(<span class="number">0</span>,<span class="number">10</span>,<span class="number">100</span>)</span><br><span class="line">sin_x = np.sin(x)</span><br><span class="line"><span class="comment"># 绘制正弦曲线</span></span><br><span class="line">plt.plot(x,sin_x)</span><br><span class="line">cos_x = np.cos(x)</span><br><span class="line">plt.plot(x,cos_x)</span><br><span class="line"><span class="comment"># 默认第一个为蓝色第二个为橙黄色,和matlab不一样</span></span><br><span class="line"><span class="comment">#这里不需要hold on就可以在同一张图上显示多条曲线</span></span><br><span class="line">plt.savefig(<span class="string">"3-2.png"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/3-2.png" style="zoom:50%;"></p>
<h2 id="subplot的使用"><a href="#subplot的使用" class="headerlink" title="subplot的使用"></a>subplot的使用</h2><p>subplot()函数将画布分区</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 把画布分为区域，把图画分配到画布的指定区域</span></span><br><span class="line"><span class="comment"># linspace 是从1-10 均匀取100个点</span></span><br><span class="line">x = np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>)</span><br><span class="line">sin_x = np.sin(x)</span><br><span class="line">cos_x = np.cos(x)</span><br><span class="line"><span class="comment"># 讲画布分为2行2列，将图画分配到画布的1区域</span></span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">plt.plot(x,sin_x)</span><br><span class="line"><span class="comment"># 将图画分配到画布的4区域</span></span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line">plt.plot(x,cos_x)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/4-1.png" style="zoom:50%;"></p>
<h3 id="通过-plt-xlim-和plt-ylim-修改坐标"><a href="#通过-plt-xlim-和plt-ylim-修改坐标" class="headerlink" title="通过 plt.xlim()和plt.ylim()修改坐标"></a>通过 plt.xlim()和plt.ylim()修改坐标</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> <span class="comment"># 把画布分为区域，把图画分配到画布的指定区域</span></span><br><span class="line">x = np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>)</span><br><span class="line">sin_x = np.sin(x)</span><br><span class="line">cos_x = np.cos(x)</span><br><span class="line"><span class="comment"># 讲画布分为2行2列，将图画分配到画布的1区域</span></span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 通过 plt.xlim()和plt.ylim()修改坐标</span></span><br><span class="line">plt.xlim(<span class="number">-5</span>,<span class="number">20</span>)</span><br><span class="line">plt.ylim(<span class="number">-5</span>,<span class="number">5</span>)</span><br><span class="line">plt.plot(x,sin_x)</span><br><span class="line">plt.subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line">plt.plot(x,cos_x)</span><br><span class="line">plt.savefig(<span class="string">"4-2.png"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/4-2.png" style="zoom:50%;"></p>
<h2 id="绘制散点图"><a href="#绘制散点图" class="headerlink" title="绘制散点图"></a>绘制散点图</h2><p>利用散点图函数scatter 可以绘制随机点，该函数需要接收x坐标和y坐标的序列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x= np.linspace(<span class="number">0</span>,<span class="number">10</span>,<span class="number">100</span>)</span><br><span class="line">sin_x = np.sin(x)</span><br><span class="line">plt.scatter(x,sin_x)</span><br><span class="line">plt.savefig(<span class="string">"5-1"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/5-1.png" style="zoom:50%;"></p>
<p>也可以通过</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.plot(x,sin_x,<span class="string">'o'</span>)</span><br></pre></td></tr></table></figure>
<p>这行代码来画出散点图。</p>
<p>从上面的示例可以看出，使用plot 绘制和使用scatter绘制出来的图形是没有区别的，但是使用plot绘制图形的速度优于scatter,所以如果画一堆点，而且点的形式没有差别，那么用plot即可，如果点的形式（大小，颜色）有差别，则必须使用scattter()函数</p>
<h3 id="绘制大小颜色不同的散点图"><a href="#绘制大小颜色不同的散点图" class="headerlink" title="绘制大小颜色不同的散点图"></a>绘制大小颜色不同的散点图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 创建x</span></span><br><span class="line">np.random.seed(<span class="number">0</span>)<span class="comment">#可以让每次取的随机点都相同</span></span><br><span class="line">x = np.random.rand(<span class="number">100</span>)<span class="comment">#rand()中的数字就是随机点的个数</span></span><br><span class="line">y = np.random.rand(<span class="number">100</span>)</span><br><span class="line"><span class="comment"># 生成点的10种不同的大小</span></span><br><span class="line">size = np.random.rand(<span class="number">10</span>)*<span class="number">500</span></span><br><span class="line"><span class="comment"># 如果这里color有1000种，或10种</span></span><br><span class="line"><span class="comment"># 那么会报错。所以点的个数要和个数相同，但size个数可以不相同,</span></span><br><span class="line">color = np.random.rand(<span class="number">100</span>)</span><br><span class="line"><span class="comment"># s表示点的大小，c代表点的颜色，alpha表示透明度</span></span><br><span class="line">plt.scatter(x,y,s=size,c=color,alpha=<span class="number">0.7</span>)</span><br><span class="line">plt.savefig(<span class="string">"5-2"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<ul>
<li>注意：<ul>
<li>点的个数和颜色的个数一定要相同，多一点少一点都不行</li>
<li>点的个数和点的大小的个数可以不相同，如果点的个数大于大小的个数，则会循环获取大小</li>
</ul>
</li>
</ul>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/5-2.png" style="zoom:50%;"></p>
<h2 id="绘制不同样式和颜色的线条"><a href="#绘制不同样式和颜色的线条" class="headerlink" title="绘制不同样式和颜色的线条"></a>绘制不同样式和颜色的线条</h2><h3 id="格式化字符"><a href="#格式化字符" class="headerlink" title="格式化字符"></a>格式化字符</h3><div class="table-container">
<table>
<thead>
<tr>
<th>字符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>‘-‘</td>
<td>实线样式</td>
</tr>
<tr>
<td>‘—‘</td>
<td>短横线样式</td>
</tr>
<tr>
<td>‘-.’</td>
<td>点划线样式</td>
</tr>
<tr>
<td>‘:’</td>
<td>虚线样式</td>
</tr>
<tr>
<td>‘.’</td>
<td>点标记</td>
</tr>
<tr>
<td>‘,’</td>
<td>像素标记</td>
</tr>
<tr>
<td>‘o’</td>
<td>圆标记</td>
</tr>
<tr>
<td>‘v’</td>
<td>倒三角标记</td>
</tr>
<tr>
<td>‘^’</td>
<td>正三角标记</td>
</tr>
<tr>
<td>‘1’</td>
<td>下箭头标记</td>
</tr>
<tr>
<td>‘2’</td>
<td>上箭头标记</td>
</tr>
<tr>
<td>‘3’</td>
<td>左箭头标记</td>
</tr>
<tr>
<td>‘4’</td>
<td>右箭头标记</td>
</tr>
<tr>
<td>‘s’</td>
<td>正方形标记</td>
</tr>
<tr>
<td>‘p’</td>
<td>五边形标记</td>
</tr>
<tr>
<td>‘*’</td>
<td>星形标记</td>
</tr>
<tr>
<td>‘h’</td>
<td>六边形标记 1</td>
</tr>
<tr>
<td>‘H’</td>
<td>六边形标记 2</td>
</tr>
<tr>
<td>‘+’</td>
<td>加号标记</td>
</tr>
<tr>
<td>‘x’</td>
<td>X 标记</td>
</tr>
<tr>
<td>‘D’</td>
<td>菱形标记</td>
</tr>
<tr>
<td>‘d’</td>
<td>窄菱形标记</td>
</tr>
<tr>
<td>‘_’</td>
<td>水平线标记</td>
</tr>
</tbody>
</table>
</div>
<h3 id="以下是颜色的缩写："><a href="#以下是颜色的缩写：" class="headerlink" title="以下是颜色的缩写："></a>以下是颜色的缩写：</h3><div class="table-container">
<table>
<thead>
<tr>
<th>字符</th>
<th>颜色</th>
</tr>
</thead>
<tbody>
<tr>
<td>‘b’</td>
<td>蓝色</td>
</tr>
<tr>
<td>‘g’</td>
<td>绿色</td>
</tr>
<tr>
<td>‘r’</td>
<td>红色</td>
</tr>
<tr>
<td>‘c’</td>
<td>青色</td>
</tr>
<tr>
<td>‘m’</td>
<td>品红色</td>
</tr>
<tr>
<td>‘y’</td>
<td>黄色</td>
</tr>
<tr>
<td>‘k’</td>
<td>黑色</td>
</tr>
<tr>
<td>‘w’</td>
<td>白色</td>
</tr>
</tbody>
</table>
</div>
<h3 id="不同种类的不同颜色的线"><a href="#不同种类的不同颜色的线" class="headerlink" title="不同种类的不同颜色的线"></a>不同种类的不同颜色的线</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot as plt</span><br><span class="line"><span class="keyword">import</span> numpy as np</span><br><span class="line">x=np.linspace(<span class="number">0</span>,<span class="number">10</span>,<span class="number">50</span>)</span><br><span class="line">plt.plot(x,x+0,'-g')    #实线  绿色</span><br><span class="line">plt.plot(x,x+2,'--c')   #虚线 浅蓝色</span><br><span class="line">plt.plot(x,x+4,'-.k')   #点划线 黑色</span><br><span class="line">plt.plot(x,x+6,'-r')    #实线  红色</span><br><span class="line">plt.plot(x,x+<span class="number">8</span>,<span class="string">'o'</span>)     #点   默认是蓝色</span><br><span class="line">plt.plot(x,x+<span class="number">10</span>,<span class="string">'x'</span>)     #叉叉  默认是蓝色</span><br><span class="line">plt.plot(x,x+<span class="number">12</span>,<span class="string">'d'</span>)    #砖石</span><br><span class="line">plt.plot(x,x+<span class="number">14</span>,<span class="string">':'</span>)    #虚线</span><br><span class="line">plt.plot(x,x+<span class="number">16</span>,<span class="string">','</span>)     #像素</span><br><span class="line">plt.plot(x,x+<span class="number">18</span>,<span class="string">'o'</span>)     # 点标记</span><br><span class="line">plt.plot(x,x+<span class="number">20</span>,<span class="string">'v'</span>)    # 倒三角</span><br><span class="line">plt.plot(x,x+<span class="number">22</span>,<span class="string">'^'</span>)    #正三角</span><br><span class="line">plt.plot(x,x+<span class="number">24</span>,<span class="string">'1'</span>)    #下箭头</span><br><span class="line">plt.plot(x,x+<span class="number">26</span>,<span class="string">'2'</span>)    # 上箭头</span><br><span class="line">plt.plot(x,x+<span class="number">28</span>,<span class="string">'3'</span>)    # 左箭头</span><br><span class="line">plt.plot(x,x+<span class="number">30</span>,<span class="string">'4'</span>)    #右箭头</span><br><span class="line">plt.plot(x,x+<span class="number">32</span>,<span class="string">'s'</span>)    #正方形</span><br><span class="line">plt.plot(x,x+<span class="number">34</span>,<span class="string">'p'</span>)    #五边形</span><br><span class="line">plt.plot(x,x+<span class="number">36</span>,<span class="string">'*'</span>)    #星形</span><br><span class="line">plt.plot(x,x+<span class="number">38</span>,<span class="string">'h'</span>)    #六边形标记<span class="number">1</span></span><br><span class="line">plt.plot(x,x+<span class="number">40</span>,<span class="string">'H'</span>)   #六边形标记<span class="number">2</span></span><br><span class="line">plt.plot(x,x+<span class="number">42</span>,<span class="string">'+'</span>)   #加号标记</span><br><span class="line">plt.plot(x,x+<span class="number">44</span>,<span class="string">'x'</span>)   <span class="meta">#x标记</span></span><br><span class="line">plt.plot(x,x+<span class="number">46</span>,<span class="string">'D'</span>)   #菱形标记</span><br><span class="line">plt.plot(x,x+<span class="number">48</span>,<span class="string">'d'</span>)   #窄菱形标记</span><br><span class="line">plt.plot(x,x+<span class="number">50</span>,<span class="string">'_'</span>)   #水平线标记</span><br><span class="line">plt.savefig(<span class="string">"6-1"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/6-1.png" style="zoom:120%;"></p>
<h3 id="不同种类不同颜色的线并添加图例"><a href="#不同种类不同颜色的线并添加图例" class="headerlink" title="不同种类不同颜色的线并添加图例"></a>不同种类不同颜色的线并添加图例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment">#不同种类不同颜色的线并添加图例</span></span><br><span class="line">x=np.linspace(<span class="number">0</span>,<span class="number">10</span>,<span class="number">100</span>)</span><br><span class="line">plt.plot(x,x+<span class="number">0</span>,<span class="string">'-g'</span>,label=<span class="string">'-g'</span>)    <span class="comment">#实线  绿色</span></span><br><span class="line">plt.plot(x,x+<span class="number">1</span>,<span class="string">'--c'</span>,label=<span class="string">'--c'</span>)   <span class="comment">#虚线 浅蓝色</span></span><br><span class="line">plt.plot(x,x+<span class="number">2</span>,<span class="string">'-.k'</span>,label=<span class="string">'-.k'</span>)   <span class="comment">#点划线 黑色</span></span><br><span class="line">plt.plot(x,x+<span class="number">3</span>,<span class="string">'-r'</span>,label=<span class="string">'-r'</span>)    <span class="comment">#实线  红色</span></span><br><span class="line">plt.plot(x,x+<span class="number">4</span>,<span class="string">'o'</span>,label=<span class="string">'o'</span>)     <span class="comment">#点   默认是蓝色</span></span><br><span class="line">plt.plot(x,x+<span class="number">5</span>,<span class="string">'x'</span>,label=<span class="string">'x'</span>)     <span class="comment">#叉叉  默认是蓝色</span></span><br><span class="line">plt.plot(x,x+<span class="number">6</span>,<span class="string">'dr'</span>,label=<span class="string">'dr'</span>)    <span class="comment">#砖石  红色</span></span><br><span class="line"><span class="comment">#添加图例右下角lower right  左上角upper left,默认是右上角 </span></span><br><span class="line"><span class="comment">#fancybox:边框  framealpha:透明度  shadow: 阴影  borderpad:边框宽度</span></span><br><span class="line">plt.legend(loc=<span class="string">'lower right'</span>,fancybox=<span class="literal">True</span>,framealpha=<span class="number">1</span>,shadow=<span class="literal">True</span>,borderpad=<span class="number">1</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/6-2.png" style="zoom:50%;"></p>
<h2 id="绘制柱状图"><a href="#绘制柱状图" class="headerlink" title="绘制柱状图"></a>绘制柱状图</h2><p>使用bar函数可以绘制柱状图。柱状图需要水平的x坐标值，以及每一个坐标值对应的y的坐标值，从而形成柱状的图。柱状图主要用来纵向对比和横向对比的，例如，根据年份对销售额进行纵向对比，x坐标值就表示年份，y坐标值表示销售数据</p>
<p>需要注意的是bar函数的宽度并不是像素宽度。bar函数会根据二维坐标系的尺寸，以及x坐标值的多少，自动确定每一个柱的宽度，而width指定的宽度就是这个标准柱宽度的倍数。该参数值可以是浮点数，如0.5，表示柱的宽度是标准宽度的0.5倍。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x = [<span class="number">1980</span>,<span class="number">1985</span>,<span class="number">1990</span>,<span class="number">1995</span>]</span><br><span class="line">x_label = [<span class="string">'1980年'</span>,<span class="string">'1985年'</span>,<span class="string">'1990年'</span>,<span class="string">'1995年'</span>]</span><br><span class="line">y = [<span class="number">1000</span>,<span class="number">2000</span>,<span class="number">3000</span>,<span class="number">4000</span>]</span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>]=[<span class="string">'SimHei'</span>] <span class="comment">#用来正常显示中文标签</span></span><br><span class="line">plt.bar(x,y,<span class="number">3</span>)<span class="comment">#width 修改柱的宽度</span></span><br><span class="line">plt.xticks(x,x_label)<span class="comment"># 修改x轴的索引值</span></span><br><span class="line">plt.savefig(<span class="string">"7-1"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/7-1.png" style="zoom:50%;"></p>
<h3 id="barh函数的使用-水平柱状图"><a href="#barh函数的使用-水平柱状图" class="headerlink" title="barh函数的使用(水平柱状图)"></a>barh函数的使用(水平柱状图)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line">x = np.arange(<span class="number">5</span>)</span><br><span class="line">y = np.random.randint(<span class="number">-5</span>,<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment"># 把画布分割成一行两列</span></span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">v_bar = plt.bar(x,y)</span><br><span class="line"><span class="comment"># 在第一列的画布中 0 位置画一条蓝线</span></span><br><span class="line">plt.axhline(<span class="number">0</span>,color = <span class="string">'blue'</span>,linewidth = <span class="number">2</span>)</span><br><span class="line">plt.subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment"># barh 函数，把y和x轴对换，竖着方向为x轴</span></span><br><span class="line">h_bar =plt.barh(x,y,color = <span class="string">'red'</span>)</span><br><span class="line"><span class="comment"># 在第一列的画布中 0 位置画一条蓝线</span></span><br><span class="line">plt.ayhline(<span class="number">0</span>,color = <span class="string">'blue'</span>,linewidth = <span class="number">2</span>)</span><br><span class="line">plt.savefig(<span class="string">"7-2"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/7-2.png" style="zoom:50%;"></p>
<h3 id="对柱体设置不同颜色"><a href="#对柱体设置不同颜色" class="headerlink" title="对柱体设置不同颜色"></a>对柱体设置不同颜色</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line">x = np.arange(<span class="number">5</span>)</span><br><span class="line">y = np.random.randint(<span class="number">-5</span>,<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment"># 在第一列的画布中 0 位置画一条蓝线</span></span><br><span class="line">plt.axhline(<span class="number">0</span>,color = <span class="string">'blue'</span>,linewidth = <span class="number">2</span>)</span><br><span class="line">v_bar = plt.bar(x,y,color = <span class="string">'blue'</span>)</span><br><span class="line"><span class="comment"># 对y值大于0的设置为蓝色，小于0的柱体设置为绿色</span></span><br><span class="line"><span class="comment"># zip把v_bar 和y 组合到一起，通过 y的值修改bar的颜色</span></span><br><span class="line"><span class="keyword">for</span> bar,height <span class="keyword">in</span> zip(v_bar, y):</span><br><span class="line">    <span class="keyword">if</span> height&lt; <span class="number">0</span> :</span><br><span class="line">        bar.set(color = <span class="string">'green'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/7-3.png" style="zoom:50%;"></p>
<h3 id="柱状图示例"><a href="#柱状图示例" class="headerlink" title="柱状图示例"></a>柱状图示例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">plt.rcParams[<span class="string">"font.sans-serif"</span>]=[<span class="string">"SimHei"</span>]</span><br><span class="line">movie_name = [<span class="string">'千与千寻'</span>,<span class="string">'玩具总动员4'</span>,<span class="string">'黑衣人:全球通缉'</span>]</span><br><span class="line">movie_number1 = [<span class="number">7458</span>,<span class="number">4013</span>,<span class="number">1673</span>]</span><br><span class="line">movie_number2 = [<span class="number">5453</span>,<span class="number">1840</span>,<span class="number">1080</span>]</span><br><span class="line">movie_number3 = [<span class="number">4843</span>,<span class="number">2345</span>,<span class="number">1890</span>]</span><br><span class="line">x = np.arange(len(movie_name))</span><br><span class="line">width=<span class="number">0.3</span></span><br><span class="line">plt.bar(x,movie_number1,alpha=<span class="number">0.5</span>,width = <span class="number">0.3</span>,label=movie_name[<span class="number">0</span>])</span><br><span class="line">plt.bar([i+width <span class="keyword">for</span> i <span class="keyword">in</span> x],movie_number2,alpha=<span class="number">0.5</span>,width = <span class="number">0.3</span>,label=movie_name[<span class="number">1</span>])</span><br><span class="line">plt.bar([i+width*<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> x],movie_number3,alpha=<span class="number">0.5</span>,width = <span class="number">0.3</span>,label=movie_name[<span class="number">2</span>])</span><br><span class="line">x_label = [<span class="string">'第&#123;&#125;天'</span>.format(i+<span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br><span class="line">plt.xticks([i+width <span class="keyword">for</span> i <span class="keyword">in</span> x],x_label)</span><br><span class="line">plt.ylabel(<span class="string">"票房"</span>)</span><br><span class="line"><span class="comment"># 添加图例</span></span><br><span class="line">plt.legend()</span><br><span class="line"><span class="comment"># 添加标题</span></span><br><span class="line">plt.title(<span class="string">'电影票房'</span>)</span><br><span class="line">plt.savefig(<span class="string">"7-4"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/7-4.png" style="zoom:50%;"></p>
<h2 id="绘制饼状图"><a href="#绘制饼状图" class="headerlink" title="绘制饼状图"></a>绘制饼状图</h2><p>pie函数可以绘制饼状图，饼图主要是用来呈现比例的。只要传入比例数据即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#导入模块</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment">#准备男、女的人数及比例</span></span><br><span class="line">man=<span class="number">71351</span></span><br><span class="line">woman=<span class="number">68187</span></span><br><span class="line">man_perc=man/(woman+man)</span><br><span class="line">woman_perc=woman/(woman+man)</span><br><span class="line"><span class="comment">#添加名称</span></span><br><span class="line">labels=[<span class="string">'男'</span>,<span class="string">'女'</span>]</span><br><span class="line"><span class="comment">#添加颜色</span></span><br><span class="line">colors=[<span class="string">'blue'</span>,<span class="string">'red'</span>]</span><br><span class="line"><span class="comment">#绘制饼状图  pie</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>]=[<span class="string">'SimHei'</span>] <span class="comment">#用来正常显示中文标签</span></span><br><span class="line"><span class="comment"># labels 名称 colors：颜色，explode=分裂,即中间有缝隙  autopct显示百分比</span></span><br><span class="line"><span class="comment"># 让三个变量返接受饼状图的三个参数</span></span><br><span class="line">paches,texts,autotexts=plt.pie([man_perc,woman_perc],labels=labels,colors=colors,explode=(<span class="number">0</span>,<span class="number">0.05</span>),autopct=<span class="string">'%0.1f%%'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置饼状图中的字体颜色</span></span><br><span class="line"><span class="keyword">for</span> text <span class="keyword">in</span> autotexts:</span><br><span class="line">    text.set_color(<span class="string">'white'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置字体大小</span></span><br><span class="line"><span class="keyword">for</span> text <span class="keyword">in</span> texts+autotexts:</span><br><span class="line">    text.set_fontsize(<span class="number">20</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/8-1.png" style="zoom:50%;"></p>
<h2 id="绘制直方图"><a href="#绘制直方图" class="headerlink" title="绘制直方图"></a>绘制直方图</h2><p>直方图与柱状图的分格类似，都是由若干个柱组成，但直方图和柱状图的含义却有很大的差异。直方图是<strong>用来观察分布状态</strong>的，而柱状图是<strong>用来看每一个X坐标对应的Y的值的</strong>。也就是说，直方图关注的是分布，并不关心具体的某个值，而柱状图关心的是具体的某个值。使用hist函数绘制直方图。</p>
<p><strong>使用random函数生成1000个正态分布的随机数，使用hist函数绘制这1000个随机数的分布状态</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#导入模块</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment">#频次直方图，均匀分布</span></span><br><span class="line"><span class="comment">#正态分布</span></span><br><span class="line">x=np.random.randn(<span class="number">1000</span>)</span><br><span class="line"><span class="comment">#画正态分布图</span></span><br><span class="line">plt.hist(x,bins=<span class="number">100</span>) <span class="comment">#装箱的操作，将10个柱装到一起及修改柱的宽度</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><strong>使用normal 函数生成1000 个正态分布的随机数，使用hist 函数绘制这100 个随机数的分布状态</strong></p>
<p><strong>使用np.random.normal()指定期望和均值的正态分布</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment">#几个直方图画到一个画布中,第一个参数期望  第二个均值</span></span><br><span class="line">x1=np.random.normal(<span class="number">0</span>,<span class="number">0.8</span>,<span class="number">1000</span>)</span><br><span class="line">x2=np.random.normal(<span class="number">-2</span>,<span class="number">1</span>,<span class="number">1000</span>)</span><br><span class="line">x3=np.random.normal(<span class="number">3</span>,<span class="number">2</span>,<span class="number">1000</span>)</span><br><span class="line"><span class="comment">#参数分别是bins：装箱，alpha：透明度</span></span><br><span class="line">kwargs=dict(bins=<span class="number">100</span>,alpha=<span class="number">0.4</span>)</span><br><span class="line"><span class="comment"># 传入字典的时候，用**</span></span><br><span class="line">plt.hist(x1,**kwargs)</span><br><span class="line">plt.hist(x2,**kwargs)</span><br><span class="line">plt.hist(x3,**kwargs)</span><br><span class="line">plt.savefig(<span class="string">"9-1"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/9-1.png" style="zoom:50%;"></p>
<h2 id="绘制等高线图和三维图"><a href="#绘制等高线图和三维图" class="headerlink" title="绘制等高线图和三维图"></a>绘制等高线图和三维图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#导入模块</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x=np.linspace(<span class="number">-10</span>,<span class="number">10</span>,<span class="number">100</span>)</span><br><span class="line">y=np.linspace(<span class="number">-10</span>,<span class="number">10</span>,<span class="number">100</span>)</span><br><span class="line"><span class="comment">#计算x和y的相交点a</span></span><br><span class="line">X,Y=np.meshgrid(x,y)</span><br><span class="line"><span class="comment"># 计算Z的坐标</span></span><br><span class="line">Z=np.sqrt(X**<span class="number">2</span>+Y**<span class="number">2</span>)</span><br><span class="line">plt.contourf(X,Y,Z) <span class="comment">#加了f之后，画出来的图象就是有颜色的</span></span><br><span class="line"><span class="comment">#plt.contour(X,Y,Z)不加f画出来的只有线</span></span><br><span class="line"><span class="comment"># 颜色越深表示值越小，中间的黑色表示z=0.</span></span><br><span class="line">plt.savefig(<span class="string">"10-1"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><strong>使用pyplot绘制等高线图</strong></p>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/10-1.png" style="zoom:50%;"></p>
<p><strong>使用pyplot包和Matplotlib绘制三维图。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment">#导入3D包</span></span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"><span class="comment">#创建X、Y、Z坐标</span></span><br><span class="line">X=[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line">Y=[<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">3</span>]</span><br><span class="line">Z=[<span class="number">1</span>,<span class="number">100</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">fig = plt.figure()</span><br><span class="line"><span class="comment"># 创建了一个Axes3D的子图放到figure画布里面</span></span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line">ax.plot_trisurf(X, Y, Z)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/10-2.png" style="zoom:50%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line"><span class="comment"># matplotlib.use('TkAgg')</span></span><br><span class="line"><span class="comment"># X,Y value</span></span><br><span class="line">X = np.arange(<span class="number">-4</span>,<span class="number">4</span>,<span class="number">0.25</span>)</span><br><span class="line">Y = np.arange(<span class="number">-4</span>,<span class="number">4</span>,<span class="number">0.25</span>)</span><br><span class="line">X,Y = np.meshgrid(X,Y)</span><br><span class="line">R = np.sqrt(X**<span class="number">2</span>+Y**<span class="number">2</span>)</span><br><span class="line">Z = np.sin(R)</span><br><span class="line">ax.plot_surface(X,Y,Z,rstride=<span class="number">1</span>,cstride=<span class="number">1</span>,cmap = plt.get_cmap(<span class="string">'rainbow'</span>))</span><br><span class="line"><span class="comment"># zdir就是从那个维度开始投影，这里是z向下看,-2就是投影到z=-2平面</span></span><br><span class="line">ax.contourf(X,Y,Z,zdir=<span class="string">'z'</span>,offset=<span class="number">-2</span>,cmap = plt.get_cmap(<span class="string">'rainbow'</span>))</span><br><span class="line"><span class="comment"># 规定z的坐标范围是(-2,2)</span></span><br><span class="line">ax.set_zlim(<span class="number">-2</span>,<span class="number">2</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/10-3.png" style="zoom:50%;"></p>
<p>rstride = 5,cstride = 5的效果</p>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/10-4.png" style="zoom:50%;"></p>
<h4 id="旋转抛物面"><a href="#旋转抛物面" class="headerlink" title="旋转抛物面"></a>旋转抛物面</h4><p>z = x^2^ +y^2^</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line"><span class="comment"># 简单方法画出漂亮的圆锥体（底面在上，顶点在原点）</span></span><br><span class="line"><span class="comment"># 生成圆锥数据，底面半径为1，高度为1，其余的情形留待发挥</span></span><br><span class="line"><span class="comment"># 先根据极坐标方式生成数据</span></span><br><span class="line">u = np.linspace(<span class="number">0</span>, <span class="number">2</span> * np.pi, <span class="number">50</span>)  <span class="comment"># linspace的功能用来创建等差数列</span></span><br><span class="line">v = np.linspace(<span class="number">0</span>, np.pi, <span class="number">50</span>)</span><br><span class="line"><span class="comment"># 数据转化为平面坐标数据</span></span><br><span class="line">x = np.outer(np.cos(u), np.sin(v))  <span class="comment"># outer（a，b） 外积：a的每个元素乘以b的每个元素，二维数组</span></span><br><span class="line">y = np.outer(np.sin(u), np.sin(v))</span><br><span class="line">z = x ** <span class="number">2</span> + y ** <span class="number">2</span>  <span class="comment"># 圆锥体的高</span></span><br><span class="line"><span class="comment"># Plot the surface</span></span><br><span class="line">ax.plot_surface(x, y, z, cmap=plt.get_cmap(<span class="string">'rainbow'</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/10-6.png" style="zoom:50%;"></p>
<p>修改x,y,z可以得到y = x^2^ +z^2^</p>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/10-7.png" style="zoom:50%;"></p>
<p>x =y^2^ +z^2^</p>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/10-8.png" style="zoom:50%;"></p>
<h4 id="抛物面"><a href="#抛物面" class="headerlink" title="抛物面"></a>抛物面</h4><h4 id="圆柱面图"><a href="#圆柱面图" class="headerlink" title="圆柱面图"></a>圆柱面图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line"><span class="comment"># 生成圆柱数据，底面半径为r，高度为h。</span></span><br><span class="line"><span class="comment"># 先根据极坐标方式生成数据</span></span><br><span class="line">u = np.linspace(<span class="number">0</span>, <span class="number">2</span> * np.pi, <span class="number">50</span>)  <span class="comment"># 把圆分按角度为50等分</span></span><br><span class="line">h = np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">20</span>)  <span class="comment"># 把高度1均分为20份</span></span><br><span class="line">x = np.outer(np.sin(u), np.ones(len(h)))  <span class="comment"># x值重复20次</span></span><br><span class="line">y = np.outer(np.cos(u), np.ones(len(h)))  <span class="comment"># y值重复20次</span></span><br><span class="line">z = np.outer(np.ones(len(u)), h)  <span class="comment"># x，y 对应的高度</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot the surface</span></span><br><span class="line">ax.plot_surface(x, y, z, cmap=plt.get_cmap(<span class="string">'rainbow'</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/10-5.png" style="zoom:50%;"></p>
<h4 id="圆锥面"><a href="#圆锥面" class="headerlink" title="圆锥面"></a>圆锥面</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line"><span class="comment"># 简单方法画出漂亮的圆锥体（底面在上，顶点在原点）</span></span><br><span class="line"><span class="comment"># 生成圆锥数据，底面半径为1，高度为1，其余的情形留待发挥</span></span><br><span class="line"><span class="comment"># 先根据极坐标方式生成数据</span></span><br><span class="line">u = np.linspace(<span class="number">0</span>, <span class="number">2</span> * np.pi, <span class="number">50</span>)  <span class="comment"># linspace的功能用来创建等差数列</span></span><br><span class="line">v = np.linspace(<span class="number">0</span>, np.pi, <span class="number">50</span>)</span><br><span class="line"><span class="comment"># 数据转化为平面坐标数据</span></span><br><span class="line">x = np.outer(np.cos(u), np.sin(v))  <span class="comment"># outer（a，b） 外积：a的每个元素乘以b的每个元素，二维数组</span></span><br><span class="line">y = np.outer(np.sin(u), np.sin(v))</span><br><span class="line">z = np.sqrt(x ** <span class="number">2</span> + y ** <span class="number">2</span>)  <span class="comment"># 圆锥体的高</span></span><br><span class="line"><span class="comment"># Plot the surface</span></span><br><span class="line">ax.plot_surface(x, y, z, cmap=plt.get_cmap(<span class="string">'rainbow'</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/10-9.png" style="zoom:50%;"></p>
<h4 id="球面"><a href="#球面" class="headerlink" title="球面"></a>球面</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(<span class="number">111</span>, projection=<span class="string">'3d'</span>)</span><br><span class="line">u = np.linspace(<span class="number">0</span>, <span class="number">2</span> * np.pi, <span class="number">50</span>)</span><br><span class="line">v = np.linspace(<span class="number">0</span>, np.pi, <span class="number">50</span>)</span><br><span class="line">x = <span class="number">10</span> * np.outer(np.cos(u), np.sin(v))</span><br><span class="line">y = <span class="number">10</span> * np.outer(np.sin(u), np.sin(v))</span><br><span class="line">z = <span class="number">10</span> * np.outer(np.ones(np.size(u)), np.cos(v))</span><br><span class="line">ax.plot_surface(x, y, z, rstride=<span class="number">1</span>, cstride=<span class="number">1</span>,cmap=plt.get_cmap(<span class="string">'rainbow'</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/10-11.png" style="zoom:79%;"></p>
<h4 id="椭球面"><a href="#椭球面" class="headerlink" title="椭球面"></a>椭球面</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(<span class="number">111</span>, projection=<span class="string">'3d'</span>)</span><br><span class="line">u = np.linspace(<span class="number">0</span>, <span class="number">2</span> * np.pi, <span class="number">50</span>)</span><br><span class="line">v = np.linspace(<span class="number">0</span>, np.pi, <span class="number">50</span>)</span><br><span class="line">x = <span class="number">5</span> * np.outer(np.cos(u), np.sin(v))</span><br><span class="line">y = <span class="number">4</span>* np.outer(np.sin(u), np.sin(v))</span><br><span class="line">z = <span class="number">3</span> * np.outer(np.ones(np.size(u)), np.cos(v) )</span><br><span class="line">ax.plot_surface(x, y, z, rstride=<span class="number">1</span>, cstride=<span class="number">1</span>,cmap=plt.get_cmap(<span class="string">'rainbow'</span>))</span><br><span class="line">plt.xlim(<span class="number">-5</span>,<span class="number">5</span>)</span><br><span class="line">plt.ylim(<span class="number">-5</span>,<span class="number">5</span>)</span><br><span class="line">plt.xlabel(<span class="string">"x"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"y"</span>)</span><br><span class="line">plt.savefig(<span class="string">"10-12"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/14/python%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8Bmatplotlib/10-12.png" style="zoom:79%;"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/" class="post-title-link" itemprop="url">二叉树</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-13 23:29:45" itemprop="dateCreated datePublished" datetime="2020-05-13T23:29:45+08:00">2020-05-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-27 09:41:34" itemprop="dateModified" datetime="2020-08-27T09:41:34+08:00">2020-08-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A0%91/" itemprop="url" rel="index"><span itemprop="name">树</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h1><h2 id="树的概念"><a href="#树的概念" class="headerlink" title="树的概念"></a>树的概念</h2><p>树（Tree）是n（n≥0）个结点的有限集合，当n=0时，为空树；n&gt;0时，为非空树。任意一棵非空树，满足：</p>
<p>   1)有且仅有一个称之为根的结点；</p>
<p>   2)除根结点以外的其余结点可分为m（m＞0）个互不相交的有限集$T_1,T_2,…T_m$, 其中每一个集合本身又是一棵树，并且称为根的子树（SubTree）。</p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/1.png" style="zoom:67%;"></p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/2.png" style="zoom:67%;"></p>
<p><strong>扇出：</strong>一个节点有多少个孩子</p>
<p><strong>树的扇出：</strong>一棵树中扇出最大的节点</p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/3.png" style="zoom:67%;"></p>
<h2 id="二叉树-1"><a href="#二叉树-1" class="headerlink" title="二叉树"></a>二叉树</h2><p>二叉树（Binary Tree）是n（n≥0）个结点所构成的集合，它或为空树（n=0）；或为非空树。对于非空树T满足：</p>
<p>​    1)有且仅有一个称为根的结点；</p>
<p>​    2) 除根结点以外，其余结点分为两个互不相交的子集T1和T2，分别称为T的左子树和右子树，且T1和T2本身都是二叉树。</p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/4.png" style="zoom:67%;"></p>
<p>性质6：如果二叉树空格节点全部画出，那么对于二叉树来说，空格节点的个数始终比数值节点多1</p>
<p><strong>满二叉树：</strong> 如果一棵二叉树的 深度为 k, 结点数 $2^{ k+1 }-1$, 每层结点数都最大 ，则此二叉树称作满二叉树。 </p>
<p><strong>完全二叉树：</strong>如果一棵二叉树至多只有最下面的两层结点度数可以小于2，其余各层结点度数都必须为2，并且最下面一层的结点都集中在该层最左边的若干位置上，则此二叉树称为完全二叉树。即为，满二叉树去掉最下层最右边若干结点</p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/12.png" style="zoom:67%;"></p>
<p><strong>完全二叉树孩子与父亲的关系</strong>:</p>
<p> 结点i的</p>
<p><strong>左子结点</strong>是$2i+1$ </p>
<p><strong>右子结点</strong>是$2i+2$ </p>
<p><strong>父结点</strong>是 $( i-1)/2 $</p>
<h3 id="二叉树的存储"><a href="#二叉树的存储" class="headerlink" title="二叉树的存储"></a>二叉树的存储</h3><p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/5.png" style="zoom:67%;"></p>
<h3 id="二叉树创建"><a href="#二叉树创建" class="headerlink" title="二叉树创建"></a>二叉树创建</h3><p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/6.png" style="zoom:75%;"></p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/7.png" style="zoom:75%;"></p>
<h3 id="二叉树的遍历"><a href="#二叉树的遍历" class="headerlink" title="二叉树的遍历"></a>二叉树的遍历</h3><p>按照根的访问顺序不同，根在前面的称为先序遍历（DLR），根在中间称之为中序遍历（LDR），根在最后面称为后序遍历（LRD）</p>
<h4 id="先序遍历"><a href="#先序遍历" class="headerlink" title="先序遍历"></a>先序遍历</h4><p>先序遍历是指先访问根，然后先序遍历左子树，再先序遍历右子树</p>
<p>算法步骤:</p>
<p>如果二叉树为空，则空操作，否则</p>
<ol>
<li>访问根节点</li>
<li>先序遍历左子树</li>
<li>先序遍历右子树</li>
</ol>
<p>先序遍历秘籍：访问根，先序遍历左子树，左子树为空或已全部遍历才可先序遍历右子树</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preorder</span><span class="params">(Btree T)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(T)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;T-&gt;data&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">		preorder(T-&gt;lchild);</span><br><span class="line">		preorder(T-&gt;rchild);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/8.png" style="zoom:50%;"></p>
<p>比如说这棵树，先序遍历就是A-B-D-E-C-F-G</p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/9.png" style="zoom:50%;"></p>
<p>这棵树的先序遍历就是 A-B-C-D-E-F-G-H-J-I</p>
<h4 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a>中序遍历</h4><p>中序遍历是指中序遍历左子树，然后访问根，再中序遍历右子树，即LDR</p>
<p>算法步骤:</p>
<p>如果二叉树为空，则空操作，否则</p>
<ol>
<li>中序遍历左子树</li>
<li>访问根节点</li>
<li>中序遍历右子树</li>
</ol>
<p>中序遍历秘籍：中序遍历左子树，左子树为空或已全部遍历才可以访问根和中序遍历右子树</p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/8.png" style="zoom:50%;"></p>
<p>比如这棵树的中序遍历就是 DEBAFGC</p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/9.png" style="zoom:50%;"></p>
<p>比如这棵树的中序遍历就是 BCDAFEJHIG</p>
<h4 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h4><p>后序遍历是指后序遍历左子树，再后序遍历右子树，最后访问根，即LRD</p>
<p>算法步骤:</p>
<p>如果二叉树为空，则空操作，否则</p>
<ol>
<li>后序遍历左子树</li>
<li>后序遍历右子树</li>
<li>访问根节点</li>
</ol>
<p>后序遍历秘籍：后序遍历左子树，后序遍历右子树，左子树，右子树为空或已经便利了才可以访问根</p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/8.png" style="zoom:50%;"></p>
<p>比如这棵树的后序遍历就是 DEBGFCA</p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/9.png" style="zoom:50%;"></p>
<p>比如这棵树的后序遍历就是DCBFJIHGEA</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pro_order</span><span class="params">(BiTree T)</span><span class="comment">//后序递归遍历二叉树</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(T)</span><br><span class="line">    &#123;</span><br><span class="line">        pro_order(T-&gt;lchild);</span><br><span class="line">        pro_order(T-&gt;rchild);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;T-&gt;data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二叉树的还原"><a href="#二叉树的还原" class="headerlink" title="二叉树的还原"></a>二叉树的还原</h3><p> 我们要知道先序和后序是不可能创建或者还原一个二叉树的，所以我们要用先序序列、中序序列或者后序序列、中序序列画一棵二叉树</p>
<h4 id="先序中序建立还原二叉树"><a href="#先序中序建立还原二叉树" class="headerlink" title="先序中序建立还原二叉树"></a>先序中序建立还原二叉树</h4><p>算法步骤：</p>
<ol>
<li>先序序列的第一个字符为根</li>
<li>再中顺序序列中以根为中心划分左右子树</li>
<li>还原左右子树</li>
</ol>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/10.png" style="zoom:75%;"></p>
<p><img src="/2020/05/13/%E4%BA%8C%E5%8F%89%E6%A0%91/11.png" style="zoom:75%;"></p>
<h4 id="后序中序建立还原二叉树"><a href="#后序中序建立还原二叉树" class="headerlink" title="后序中序建立还原二叉树"></a>后序中序建立还原二叉树</h4><p>算法步骤：</p>
<ol>
<li>后序序列的最后一个字符为根</li>
<li>再中顺序序列中以根为中心划分左右子树</li>
<li>还原左右子树</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">lchild</span>,*<span class="title">rchild</span>;</span></span><br><span class="line">&#125;BiTNode,*BiTree;</span><br><span class="line"></span><br><span class="line"><span class="function">BiTree <span class="title">pre_mid_createBiTree</span><span class="params">(<span class="keyword">char</span> *pre,<span class="keyword">char</span> *mid,<span class="keyword">int</span> len)</span> <span class="comment">//前序中序还原建立二叉树</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(len==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> ch=pre[<span class="number">0</span>];  <span class="comment">//找到先序中的第一个结点</span></span><br><span class="line">    <span class="keyword">int</span> index=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(mid[index]!=ch)<span class="comment">//在中序中找到的根结点的左边为该结点的左子树，右边为右子树</span></span><br><span class="line">    &#123;</span><br><span class="line">        index++;</span><br><span class="line">    &#125;</span><br><span class="line">    BiTree T=<span class="keyword">new</span> BiTNode;<span class="comment">//创建根结点</span></span><br><span class="line">    T-&gt;data=ch;</span><br><span class="line">    T-&gt;lchild=pre_mid_createBiTree(pre+<span class="number">1</span>,mid,index);<span class="comment">//建立左子树</span></span><br><span class="line">    T-&gt;rchild=pre_mid_createBiTree(pre+index+<span class="number">1</span>,mid+index+<span class="number">1</span>,len-index<span class="number">-1</span>);<span class="comment">//建立右子树</span></span><br><span class="line">    <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">BiTree <span class="title">pro_mid_createBiTree</span><span class="params">(<span class="keyword">char</span> *last,<span class="keyword">char</span> *mid,<span class="keyword">int</span> len)</span><span class="comment">//后序中序还原建立二叉树</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(len==<span class="number">0</span>)</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> ch=last[len<span class="number">-1</span>]; <span class="comment">//取得后序遍历顺序中最后一个结点</span></span><br><span class="line">    <span class="keyword">int</span> index=<span class="number">0</span>;<span class="comment">//在中序序列中找根结点，并用index记录长度</span></span><br><span class="line">    <span class="keyword">while</span>(mid[index]!=ch)<span class="comment">//在中序中找到根结点，左边为该结点的左子树，右边为右子树</span></span><br><span class="line">       index++;</span><br><span class="line">    BiTree T=<span class="keyword">new</span> BiTNode;<span class="comment">//创建根结点</span></span><br><span class="line">    T-&gt;data=ch;</span><br><span class="line">    T-&gt;lchild=pro_mid_createBiTree(last,mid,index);<span class="comment">//建立左子树</span></span><br><span class="line">    T-&gt;rchild=pro_mid_createBiTree(last+index,mid+index+<span class="number">1</span>,len-index<span class="number">-1</span>);<span class="comment">//建立右子树</span></span><br><span class="line">    <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pre_order</span><span class="params">(BiTree T)</span><span class="comment">//前序递归遍历二叉树</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(T)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;T-&gt;data;</span><br><span class="line">        pre_order(T-&gt;lchild);</span><br><span class="line">        pre_order(T-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pro_order</span><span class="params">(BiTree T)</span><span class="comment">//后序递归遍历二叉树</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(T)</span><br><span class="line">    &#123;</span><br><span class="line">        pro_order(T-&gt;lchild);</span><br><span class="line">        pro_order(T-&gt;rchild);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;T-&gt;data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    BiTree T;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">char</span> pre[<span class="number">100</span>],mid[<span class="number">100</span>],last[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"1. 前序中序还原二叉树\n"</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"2. 后序中序还原二叉树\n"</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"0. 退出\n"</span>;</span><br><span class="line">	<span class="keyword">int</span> choose=<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">while</span>(choose!=<span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">	    <span class="built_in">cout</span>&lt;&lt;<span class="string">"请选择:"</span>;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;choose;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">switch</span> (choose)</span><br><span class="line">		&#123;</span><br><span class="line">		    <span class="keyword">case</span> <span class="number">1</span>:<span class="comment">//前序中序还原二叉树</span></span><br><span class="line">		        <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入结点的个数:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">		        <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入前序序列:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">                    <span class="built_in">cin</span>&gt;&gt;pre[i];</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入中序序列:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">                    <span class="built_in">cin</span>&gt;&gt;mid[i];</span><br><span class="line">                T=pre_mid_createBiTree(pre,mid,n);</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">"二叉树还原成功，输出其后序序列:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                pro_order(T);</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:<span class="comment">//后序中序还原二叉树</span></span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入结点的个数:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入后序序列:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span> ;i&lt;n;i++)</span><br><span class="line">                    <span class="built_in">cin</span>&gt;&gt;last[i];</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入中序序列:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span> ;i&lt;n;i++)</span><br><span class="line">                    <span class="built_in">cin</span>&gt;&gt;mid[i];</span><br><span class="line">                T=pro_mid_createBiTree(last,mid,n);</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">"二叉树还原成功，输出其先序序列:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                pre_order(T);</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="层序遍历构建二叉树"><a href="#层序遍历构建二叉树" class="headerlink" title="层序遍历构建二叉树"></a>层序遍历构建二叉树</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">enum</span> Error_code &#123;success,fail&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; results;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">struct</span> <span class="title">Binary_node</span> &#123;</span></span><br><span class="line"><span class="comment">// data members:</span></span><br><span class="line">    Entry data;</span><br><span class="line">    Binary_node&lt;Entry&gt; *left; <span class="comment">//指向左孩子的指针</span></span><br><span class="line">    Binary_node&lt;Entry&gt; *right; <span class="comment">//指向右孩子的指针</span></span><br><span class="line"><span class="comment">// constructors:</span></span><br><span class="line">    Binary_node( ); <span class="comment">//默认的不带参数的构造函数</span></span><br><span class="line">    Binary_node(<span class="keyword">const</span> Entry &amp;x); <span class="comment">//带有一个参数的构造函数</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Binary_node</span>&lt;Entry&gt; :</span>: Binary_node()&#123;</span><br><span class="line">    left = <span class="literal">NULL</span>;</span><br><span class="line">    right = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Binary_node</span>&lt;Entry&gt; :</span>: Binary_node(<span class="keyword">const</span> Entry &amp;x)&#123;</span><br><span class="line">    data = x;</span><br><span class="line">    left = <span class="literal">NULL</span>;</span><br><span class="line">    right = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BinaryTree();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">BuildTree_levelorder</span><span class="params">(Binary_node&lt;<span class="keyword">char</span>&gt;*&amp;node,<span class="built_in">string</span> &amp;s)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">is_Balanced</span><span class="params">(Binary_node&lt;<span class="keyword">char</span>&gt;* node)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">height</span><span class="params">(Binary_node&lt;<span class="keyword">char</span>&gt;* node,<span class="keyword">bool</span> &amp;is_balance)</span></span>;</span><br><span class="line">    <span class="function">Binary_node&lt;<span class="keyword">char</span>&gt;* <span class="title">getParent</span><span class="params">(Binary_node&lt;<span class="keyword">char</span>&gt;* node,<span class="keyword">char</span> p,<span class="keyword">char</span> q)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Binary_node&lt;<span class="keyword">char</span>&gt;*<span class="title">get_root</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Binary_node&lt;<span class="keyword">char</span>&gt;*root;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">BinaryTree::BinaryTree() &#123;</span><br><span class="line">    root = <span class="keyword">new</span> Binary_node&lt;<span class="keyword">char</span>&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BinaryTree::BuildTree_levelorder</span><span class="params">(Binary_node&lt;<span class="keyword">char</span>&gt; *&amp;root, <span class="built_in">string</span> &amp;s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> index= <span class="number">0</span>;</span><br><span class="line">    Binary_node&lt;<span class="keyword">char</span>&gt;*tnode = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">queue</span>&lt;Binary_node&lt;<span class="keyword">char</span>&gt;*&gt;qTree;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(index==s.<span class="built_in">size</span>())<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(index==<span class="number">0</span>)&#123;</span><br><span class="line">            root = <span class="keyword">new</span> Binary_node&lt;<span class="keyword">char</span>&gt;(s[index]);</span><br><span class="line">            qTree.push(root);</span><br><span class="line">            index++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            tnode = qTree.front();</span><br><span class="line">            <span class="keyword">if</span>(index==s.<span class="built_in">size</span>())<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(s[index]==<span class="string">'#'</span>)tnode-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                tnode-&gt;left = <span class="keyword">new</span> Binary_node&lt;<span class="keyword">char</span>&gt;(s[index]);</span><br><span class="line">                qTree.push(tnode-&gt;left);</span><br><span class="line">            &#125;</span><br><span class="line">            index++;</span><br><span class="line">            <span class="keyword">if</span>(index==s.<span class="built_in">size</span>())<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(s[index]==<span class="string">'#'</span>)tnode-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                tnode-&gt;right = <span class="keyword">new</span> Binary_node&lt;<span class="keyword">char</span>&gt;(s[index]);</span><br><span class="line">                qTree.push(tnode-&gt;right);</span><br><span class="line">            &#125;</span><br><span class="line">            index++;</span><br><span class="line">            qTree.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/05/13/142%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8II/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/13/142%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8II/" class="post-title-link" itemprop="url">142环形链表II</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-05-13 22:43:49 / Modified: 22:48:58" itemprop="dateCreated datePublished" datetime="2020-05-13T22:43:49+08:00">2020-05-13</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="/2020/05/13/142%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8II/1.png" alt></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode *<span class="title">detectCycle</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">        ListNode *cur1 = head ;<span class="comment">//cur1 是快指针</span></span><br><span class="line">        ListNode *cur2 = head;<span class="comment">//cur2 是慢指针</span></span><br><span class="line">        <span class="keyword">if</span>(!head||!head-&gt;next)<span class="comment">//如果头节点就是空，那就直接输出false</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">while</span>(cur1&amp;&amp;cur1-&gt;next)</span><br><span class="line">        &#123;</span><br><span class="line">            </span><br><span class="line">            cur1 = cur1-&gt;next-&gt;next;</span><br><span class="line">            cur2 = cur2-&gt;next;</span><br><span class="line">			<span class="comment">//相等的时候，我们进行快节点指向头部，慢节点不动，然后一起走的操作</span></span><br><span class="line">            <span class="keyword">if</span>(cur1==cur2)</span><br><span class="line">            &#123;</span><br><span class="line">                cur1 = head;</span><br><span class="line">                <span class="keyword">while</span>(cur1!=cur2)</span><br><span class="line">                &#123;</span><br><span class="line">                   cur1= cur1-&gt;next;</span><br><span class="line">                   cur2=cur2-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">               <span class="keyword">return</span>  cur2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/" class="post-title-link" itemprop="url">高斯公式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-13 21:56:28" itemprop="dateCreated datePublished" datetime="2020-05-13T21:56:28+08:00">2020-05-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-12 21:32:10" itemprop="dateModified" datetime="2020-08-12T21:32:10+08:00">2020-08-12</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="高斯公式"><a href="#高斯公式" class="headerlink" title="高斯公式"></a>高斯公式</h1><h2 id="高斯公式-1"><a href="#高斯公式-1" class="headerlink" title="高斯公式"></a>高斯公式</h2><h3 id="定理1"><a href="#定理1" class="headerlink" title="定理1"></a>定理1</h3><p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/1.png" style="zoom:50%;"></p>
<h4 id="例题1"><a href="#例题1" class="headerlink" title="例题1"></a>例题1</h4><p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/2.png" style="zoom:50%;"></p>
<p>思考：1若$\Sigma$ 改为内测，结果有何变化？ -正负号</p>
<ol>
<li>若$\Sigma$为圆柱侧面（外侧），如何计算? 先补上，符合高斯公式，然后再减去两个面</li>
</ol>
<h4 id="例题2"><a href="#例题2" class="headerlink" title="例题2"></a>例题2</h4><p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/4.png" style="zoom:50%;"></p>
<p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/3.png" style="zoom:50%;"></p>
<h4 id="例题三"><a href="#例题三" class="headerlink" title="例题三"></a>例题三</h4><p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/4.png" style="zoom:50%;"></p>
<h2 id="沿任意闭曲面的曲面积分为0-的条件"><a href="#沿任意闭曲面的曲面积分为0-的条件" class="headerlink" title="沿任意闭曲面的曲面积分为0 的条件"></a>沿任意闭曲面的曲面积分为0 的条件</h2><p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/6.png" style="zoom:50%;"></p>
<h2 id="通量与散度"><a href="#通量与散度" class="headerlink" title="通量与散度"></a>通量与散度</h2><p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/7.png" style="zoom:50%;"></p>
<p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/8.png" style="zoom:50%;"></p>
<p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/9.png" style="zoom:50%;"></p>
<p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/10.png" style="zoom:50%;"></p>
<p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/11.png" style="zoom:50%;"></p>
<h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><ul>
<li>曲面积分化为三重积分，不能用曲面去带！比如说直接化成体积，这是万万不可的</li>
<li>高斯公式要连续偏导数</li>
</ul>
<p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/12.png" style="zoom:50%;"></p>
<p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/13.png" style="zoom:50%;"></p>
<h2 id="题型与注意点"><a href="#题型与注意点" class="headerlink" title="题型与注意点"></a>题型与注意点</h2><p>1.特别要注意原点。如果曲线(格林公式),曲面(高斯公式)包含原点，要关注曲线和曲面在原点是否有定义，比如说</p>
<p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/14.png" style="zoom:100%;"></p>
<p>这题，因为包含原点，而且分母r^3^在原点是等于0的，所以我们要设计一个区域(一个在椭圆内部的小球)，这里选择小球的原因是分母为r^3^ 如果是小球的话r就是一个常数了，所以直接可以提取出来再进行运算，这时候，对于小球，在原点就是导数了。 </p>
<p>在<a href="https://jasonxqh.github.io/2020/05/11/格林公式/">格林公式</a>的课本练习题中，也有这样一道题目</p>
<p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/15.png" style="zoom:50%;"></p>
<p>在这里，分母是$4x^2+y^2$ 这时候显然再取一个圆就不合适了，我们的目标就是把$4x^2+y^2$化成一个常数，所以我们就要取一个椭圆，$4x^2+y^2 = \varepsilon ^2$ </p>
<p>2.和格林公式一样，但是比格林公式更坑的就是符号问题。请注意，封闭曲面只有内外侧之分</p>
<p> <img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/16.png" style="zoom:50%;"></p>
<p>所以当运用高斯公式的时候，判断内外侧即可，不用判断夹角！！！！</p>
<h2 id="书本练习"><a href="#书本练习" class="headerlink" title="书本练习"></a>书本练习</h2><p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/1.jpg" style="zoom:100%;"></p>
<p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/2.jpg" style="zoom:100%;"></p>
<p><img src="/2020/05/13/%E9%AB%98%E6%96%AF%E5%85%AC%E5%BC%8F/3.jpg" style="zoom:100%;"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/" class="post-title-link" itemprop="url">对坐标的曲面积分</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-13 20:19:27" itemprop="dateCreated datePublished" datetime="2020-05-13T20:19:27+08:00">2020-05-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-23 19:11:26" itemprop="dateModified" datetime="2020-05-23T19:11:26+08:00">2020-05-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="对坐标的曲面积分"><a href="#对坐标的曲面积分" class="headerlink" title="对坐标的曲面积分"></a>对坐标的曲面积分</h1><h2 id="有向曲面及曲面元素的投影"><a href="#有向曲面及曲面元素的投影" class="headerlink" title="有向曲面及曲面元素的投影"></a>有向曲面及曲面元素的投影</h2><p>曲面分为双侧曲面（内外，左右，上下）和单侧曲面（莫比乌斯环）</p>
<ul>
<li>指定了侧的曲面叫做有向曲面，其方法用法向量指向表示：</li>
</ul>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/1.png" style="zoom: 50%;"></p>
<ul>
<li>设$\Sigma$为有向曲面，其面元$\Delta S$在xOy面上的投影记为$(\Delta S)<em>{xy}$,$(\Delta S)</em>{xy}$的面积为$(\Delta\sigma)_{xy}&gt;=0$则规定</li>
</ul>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/2.png" style="zoom: 50%;"></p>
<h2 id="对坐标的曲面积分的概念与性质"><a href="#对坐标的曲面积分的概念与性质" class="headerlink" title="对坐标的曲面积分的概念与性质"></a>对坐标的曲面积分的概念与性质</h2><p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/3.png" style="zoom: 50%;"></p>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/4.png" style="zoom: 50%;"></p>
<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/5.png" style="zoom: 50%;"></p>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/6.png" style="zoom: 50%;"></p>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/7.png" style="zoom: 50%;"></p>
<h3 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h3><p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/8.png" style="zoom: 50%;"></p>
<h2 id="对坐标曲面的曲面积分的计算法"><a href="#对坐标曲面的曲面积分的计算法" class="headerlink" title="对坐标曲面的曲面积分的计算法"></a>对坐标曲面的曲面积分的计算法</h2><p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/9.png" style="zoom: 50%;"></p>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/10.png" style="zoom: 50%;"></p>
<h3 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h3><p>解题方法：</p>
<ol>
<li>先看对称性，轮换性，把能变成0的都变成0</li>
<li>找到有效的面，判断取上侧还是取下侧</li>
<li>对dxdz,dydz,dxdy进行转换 利用$\frac{dz}{dx}=-\frac{F_x}{F_z}$等公式，最好划到xOy上</li>
<li>带入，求解二重积分。<h4 id="例一"><a href="#例一" class="headerlink" title="例一"></a>例一</h4></li>
</ol>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/11.png" style="zoom: 50%;"></p>
<h4 id="例二"><a href="#例二" class="headerlink" title="例二"></a>例二</h4><p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/12.png" style="zoom: 50%;"></p>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/13.png" style="zoom: 50%;"></p>
<p>第二类曲面积分刚好相反，如果曲面关于xOy对称，被积函数相对z来说，奇函数2倍，偶函数为0</p>
<h4 id="例三"><a href="#例三" class="headerlink" title="例三"></a>例三</h4><p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/14.png" style="zoom: 50%;"></p>
<h2 id="两类曲面积分的联系"><a href="#两类曲面积分的联系" class="headerlink" title="两类曲面积分的联系"></a>两类曲面积分的联系</h2><p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/15.png" style="zoom: 50%;"></p>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/16.png" style="zoom: 50%;"></p>
<h2 id="题形和注意点"><a href="#题形和注意点" class="headerlink" title="题形和注意点"></a>题形和注意点</h2><h3 id="题形："><a href="#题形：" class="headerlink" title="题形："></a>题形：</h3><p>求对坐标的曲面积分：</p>
<h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><ol>
<li>要注意有几个面，如果是一整个立体，千万不要忘记加顶面的积分，千万不要只计算侧面的积分</li>
</ol>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/17.png" style="zoom: 100%;"></p>
<p>2.和其他积分相反，奇函数两倍，偶函数为0</p>
<h3 id="书本练习"><a href="#书本练习" class="headerlink" title="书本练习"></a>书本练习</h3><p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/1.jpg" style="zoom: 100%;"></p>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/2.jpg" style="zoom: 100%;"></p>
<p><img src="/2020/05/13/%E5%AF%B9%E5%9D%90%E6%A0%87%E7%9A%84%E6%9B%B2%E9%9D%A2%E7%A7%AF%E5%88%86/3.jpg" style="zoom: 100%;"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">python数据分析</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-13 14:18:08" itemprop="dateCreated datePublished" datetime="2020-05-13T14:18:08+08:00">2020-05-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-06-12 00:59:46" itemprop="dateModified" datetime="2020-06-12T00:59:46+08:00">2020-06-12</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="python数据分析"><a href="#python数据分析" class="headerlink" title="python数据分析"></a>python数据分析</h1><p>这篇博文是对anaconda中的jupyter notebook进行的学习</p>
<p><a href="https://milliams.com/courses/data_analysis_python/index.html" target="_blank" rel="noopener">学习网站点这里 </a></p>
<h2 id="Series-in-Pandas"><a href="#Series-in-Pandas" class="headerlink" title="Series in Pandas"></a>Series in Pandas</h2><p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html" target="_blank" rel="noopener">documentation</a> ，里面介绍了很多 api</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/1.png" style="zoom:67%;"></p>
<h2 id="How-does-a-Pandas-Series-differ-from-a-Python-list-or-dict"><a href="#How-does-a-Pandas-Series-differ-from-a-Python-list-or-dict" class="headerlink" title="How does a Pandas Series differ from a Python list or dict?"></a>How does a Pandas <code>Series</code> differ from a Python <code>list</code> or <code>dict</code>?</h2><h4 id="Series-against-dict"><a href="#Series-against-dict" class="headerlink" title="Series against dict:"></a><code>Series</code> against <code>dict</code>:</h4><p>Similarities:</p>
<ul>
<li>Access by any kind of key</li>
</ul>
<p>Differences:</p>
<ul>
<li><code>Series</code> is ordered where <code>dict</code>s are not</li>
<li><code>Series</code> can have repeated indices</li>
<li>The data inside is stored with a <code>dtype</code> which makes things faster</li>
</ul>
<h4 id="Series-against-list"><a href="#Series-against-list" class="headerlink" title="Series against list"></a><code>Series</code> against <code>list</code></h4><p>Simila rities:</p>
<ul>
<li>The data inside has an order</li>
<li>Can index by integer</li>
</ul>
<p>Differences:</p>
<ul>
<li>Even is indexed by integer, the index does not denote position necessarily</li>
<li>Can index by any kind of key in principle</li>
<li>The data inside is stored with a <code>dtype</code> which makes things faster</li>
</ul>
<h3 id="Series-operations"><a href="#Series-operations" class="headerlink" title="Series operations"></a>Series operations</h3><p> Series 和 list 、dict都不一样，单都吸收了他们的优点。</p>
<p>比如我们要把列表中的数字都乘2，那么</p>
<p>当我们直接用list*2 发现只是列表复制了一遍，大小扩充了一倍。如果要实现我们的目标必须运用for语句</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[i * <span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> my_list]</span><br></pre></td></tr></table></figure>
<p>但是对Series，我们直接可以进行上述操作，*2就是所有元素乘2，-2就是把所有元素-2，&lt;8就是把判断所有元素是否小于8</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/2.png" style="zoom:67%;"></p>
<h3 id="Querying"><a href="#Querying" class="headerlink" title="Querying"></a>Querying</h3><p> 可以直接在Series中括号中筛选数据，而不是通过判断来人工筛选</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/3.png" style="zoom:75%;"></p>
<h3 id="Multi-Series-operations"><a href="#Multi-Series-operations" class="headerlink" title="Multi-Series operations"></a>Multi-Series operations</h3><p>It is also possible to perform operations between two <code>Series</code> objects:</p>
<p>注意到这里的数据类型变成了float，一是因为我有个数据是5.5，二是因为int里面没有NaN这个数，只有float里面有</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/5.png" style="zoom:75%;"></p>
<h1 id="DataFrame"><a href="#DataFrame" class="headerlink" title="DataFrame"></a>DataFrame</h1><p>While you can think of the <code>Series</code> as a one-dimensional list of data, pandas’ <code>DataFrame</code> is a two (or possibly more) dimensional <em>table</em> of data. You can think of each column in the table as being a <code>Series</code>.</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/4.png" style="zoom:75%;"></p>
<p>我们有三列数据，因为再data字典中有三个列表</p>
<ul>
<li>我们也可以对dataframe进行筛选，可以从头部也可以从尾部开始筛选</li>
</ul>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/6.png" style="zoom:75%;"></p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/8.png" style="zoom:75%;"></p>
<ul>
<li>也可以筛选一列中的数据</li>
</ul>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/7.png" style="zoom:75%;"></p>
<h3 id="Querying-1"><a href="#Querying-1" class="headerlink" title="Querying"></a>Querying</h3><p>We can start to ask questions of our data in the same way as we did with <code>Series</code>. If we grab a column from the <code>DataFrame</code> and do a comparison operation on it:</p>
<p>也可以判断、筛选 一个Series中的数据</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/9.png" style="zoom:75%;"></p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/10.png" style="zoom:75%;"></p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/11.png" style="zoom:75%;"></p>
<h3 id="Getting-rows"><a href="#Getting-rows" class="headerlink" title="Getting rows"></a>Getting rows</h3><p>If you want to select a <strong>row</strong> from a <code>DataFrame</code> then you can use the <code>.loc</code> attribute which allows you to pass index values like:</p>
<p>检索一个行中各类信息、特定信息</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/12.png" style="zoom:75%;"></p>
<h3 id="Add-and-Delete-columns"><a href="#Add-and-Delete-columns" class="headerlink" title="Add and Delete columns"></a>Add and Delete columns</h3><p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/13.png" style="zoom:75%;"></p>
<h3 id="Exercise"><a href="#Exercise" class="headerlink" title="Exercise"></a>Exercise</h3><ul>
<li>Select the data for the year 2001. Which city had the smallest population that year?</li>
</ul>
<ol>
<li>首先选出year=2001年的pop列</li>
<li>在pop列中使用idxmin()，获取最小值的idx值，如果使用min()，那么显示2.148</li>
<li>在df中city列中查询idx，得到Paris</li>
<li>把他们合在一起，就是这样的检索方式</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">"city"</span>][df[df[<span class="string">"year"</span>]==<span class="number">2001</span>][<span class="string">"pop"</span>].idxmin()]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/14.png" style="zoom:75%;"></p>
<ul>
<li>Find all the cities which had a population smaller than 2.6 million.</li>
</ul>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/15.png" style="zoom:75%;"></p>
<h1 id="Reading-from-file"><a href="#Reading-from-file" class="headerlink" title="Reading from file"></a>Reading from file</h1><p>One of the msot common situations is that you have some data file containing the data you want to read. Perhaps this is data you’ve produced yourself or maybe it’s from a collegue. In an ideal world the file will be perfectly formatted and will be trivial to import into pandas but since this is so often not the case, it provides a number of features to make your ife easier.</p>
<p>Full information on reading and writing is available in the pandas manual on <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html" target="_blank" rel="noopener">IO tools</a> but first it’s worth noting the common formats that pandas can work with:</p>
<ul>
<li>Comma separated tables (or tab-separated or space-separated etc.)</li>
<li>Excel spreadsheets</li>
<li>HDF5 files</li>
<li>SQL databases</li>
</ul>
<h3 id="Openfiles"><a href="#Openfiles" class="headerlink" title="Openfiles"></a>Openfiles</h3><p>首先我们利用pandas打开文件的操作，对于不同的文件有着不同的打开函数，可以看上面的IO tools查询</p>
<p>先来打开这个csv文件</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/16.png" style="zoom:75%;"></p>
<p>可以看到一开始的数据非常的混乱和糟糕，先让我们用skiprows函数跳过几行，直接到表格内容</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/17.png" style="zoom:75%;"></p>
<p>然后我们要找到能够把这个分割成一列一列的函数，这个函数时sep</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/18.png" style="zoom:75%;"></p>
<p>随后我们发现有些数据是-1，这是因为这里的数据没有被读取，我们要用na_values 把它标记为NaN</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/19.png" style="zoom:75%;"></p>
<p>但是这里的索引是0，1….不是很美观，我们想要用year当作索引，可以利用index_col函数</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/20.png" style="zoom:75%;"></p>
<p>这样就可以对文件中的数据进行处理和筛选了</p>
<h3 id="Exercise-1"><a href="#Exercise-1" class="headerlink" title="Exercise"></a>Exercise</h3><ul>
<li>Open the file at <a href="https://milliams.com/courses/data_analysis_python/cetml1659on.dat" target="_blank" rel="noopener">https://milliams.com/courses/data_analysis_python/cetml1659on.dat</a> into Pandas (this data is originally from the <a href="https://www.metoffice.gov.uk/hadobs/hadcet/data/download.html" target="_blank" rel="noopener">Met Office</a>). This contains some historical weather data for a location in the UK. Import that file as a Pandas <code>DataFrame</code> using <code>read_csv()</code>, making sure that you cover all the possible NaN values.</li>
<li>How many years had a negative average temperature in January?</li>
<li>What was the average temperature in June over the years in the data set? Tip: look in the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html" target="_blank" rel="noopener">documentation</a> for which method to call.</li>
</ul>
<p>好，我们看到这张数据表长这样</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/21.png" style="zoom:75%;"></p>
<p>所以按章上面的处理方式，我们并不能通过sep函数来分割列，所以这里用了函数，来分割</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delim_whitespace=<span class="literal">True</span>,  <span class="comment"># whitespace separated</span></span><br></pre></td></tr></table></figure>
<p>我们看到最后几个月没有数据，所以我们通过na_values函数把他们设置成NaN</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">na_values=[<span class="string">'-99.9'</span>, <span class="string">'-99.99'</span>],  <span class="comment"># NaNs</span></span><br></pre></td></tr></table></figure>
<p>然后要我们处理How many years had a negative average temperature in January?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df3[df3[<span class="string">"JAN"</span>]&lt;<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<p>这样一句就出来了</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/22.png" style="zoom:75%;"></p>
<p>利用 len()求出数据条数</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/23.png" style="zoom:75%;"></p>
<p>利用mean()函数求出平均数</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/24.png" style="zoom:100%;"></p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/25.png" style="zoom:75%;"></p>
<h2 id="利用matplotlib进行画图"><a href="#利用matplotlib进行画图" class="headerlink" title="利用matplotlib进行画图"></a>利用matplotlib进行画图</h2><h3 id="线状图"><a href="#线状图" class="headerlink" title="线状图"></a>线状图</h3><p>首先导入matplotlib ，然后导入数据库</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">df = pd.read_csv(</span><br><span class="line">    <span class="string">"https://milliams.com/courses/data_analysis_python/cetml1659on.dat"</span>,  <span class="comment"># file name</span></span><br><span class="line">    skiprows=<span class="number">6</span>,  <span class="comment"># skip header</span></span><br><span class="line">    delim_whitespace=<span class="literal">True</span>,  <span class="comment"># whitespace separated</span></span><br><span class="line">    na_values=[<span class="string">'-99.9'</span>, <span class="string">'-99.99'</span>],  <span class="comment"># NaNs</span></span><br><span class="line">)</span><br><span class="line">df.plot()</span><br></pre></td></tr></table></figure>
<p>如果我们直接写df.plot()那么就会很难看的一张图。。</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/0.png" style="zoom:75%;"></p>
<p>接下来我们要画出特定的一根线</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/28.png" style="zoom:75%;"></p>
<p>光秃秃的不好看，所以我们要加点标题</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">year_plot = df[<span class="string">"YEAR"</span>].plot()</span><br><span class="line">year_plot.set_ylabel(<span class="string">r"Temperature($^\circ$C)"</span>)</span><br></pre></td></tr></table></figure>
<p>$$中的就是数学公式，显示为 $^\circ$C</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/29.png" style="zoom:75%;"></p>
<h3 id="Exercise-2"><a href="#Exercise-2" class="headerlink" title="Exercise"></a>Exercise</h3><ul>
<li>Make sure you can reproduce the plot above. Try tweaking the labels or which column is plotted.</li>
<li>Try putting in two <code>plot()</code> calls with different months (January and July for example) before calling <code>show()</code>.</li>
<li>Add in a x-axis label</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">year_plot = df[<span class="string">'JAN'</span>].plot()</span><br><span class="line">year_plot = df[<span class="string">'JUN'</span>].plot()</span><br><span class="line"></span><br><span class="line">year_plot.set_xlabel(<span class="string">r'Year'</span>)</span><br><span class="line">year_plot.set_ylabel(<span class="string">r'Temperature ($^\circ$C)'</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/30.png" style="zoom:75%;"></p>
<p>那最后的效果就像这样</p>
<p>字母前加r表示raw string，也叫原始字符串常量。一般用在一下两个方面:</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/31.png" style="zoom:75%;"></p>
<h3 id="柱状图"><a href="#柱状图" class="headerlink" title="柱状图"></a>柱状图</h3><p>如果我们直接用 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">"YEAR"</span>].plot.bar()</span><br></pre></td></tr></table></figure>
<p>那将会是很恐怖的一件事情，因为柱状图会很密很密</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/32.png" style="zoom:75%;"></p>
<p>所以我们要对单位做一个分割，用10年做一个分割。这是个重点</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series</span><br><span class="line"><span class="comment"># 这个就是让索引=index，创造一个存储index的列，并把它转换成str</span></span><br><span class="line">years = Series(df.index, index=df.index).apply(str)</span><br><span class="line"><span class="comment"># 运用lambda函数，对字符串进行分割后加上0，形成一个十年期</span></span><br><span class="line">decade=years.apply(<span class="keyword">lambda</span> x:x[:<span class="number">3</span>]+<span class="string">"0"</span>)</span><br><span class="line"><span class="comment"># 新增一列decade</span></span><br><span class="line">df[<span class="string">"decade"</span>] = decade</span><br><span class="line"><span class="comment"># 求出每隔十年的平均数，df[](指输出数据的结果属性名称).groupby([df[属性],df[属性])(指分类的属性，数据的限定定语，可以有多个).mean()(对于数据的计算方式——函数名称)</span></span><br><span class="line"><span class="comment"># 这里，对整个df表进行该操作,根据decade划分，相等的化为一组</span></span><br><span class="line">by_decade = df.groupby(df[<span class="string">"decade"</span>]).mean()</span><br><span class="line"><span class="comment"># 画出图像</span></span><br><span class="line">by_decade[<span class="string">"YEAR"</span>].plot.bar()</span><br></pre></td></tr></table></figure>
<p>直接输出by_decade结果如下：</p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/34.png" style="zoom:75%;"></p>
<p><img src="/2020/05/13/python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/35.png" style="zoom:75%;"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/05/13/71%E7%AE%80%E5%8C%96%E8%B7%AF%E5%BE%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/13/71%E7%AE%80%E5%8C%96%E8%B7%AF%E5%BE%84/" class="post-title-link" itemprop="url">71简化路径</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-05-13 13:09:46 / Modified: 22:43:16" itemprop="dateCreated datePublished" datetime="2020-05-13T13:09:46+08:00">2020-05-13</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="71简化路径"><a href="#71简化路径" class="headerlink" title="71简化路径"></a>71简化路径</h1><p><img src="/2020/05/13/71%E7%AE%80%E5%8C%96%E8%B7%AF%E5%BE%84/1.png" alt></p>
<h3 id="勉强把题目看懂了。。"><a href="#勉强把题目看懂了。。" class="headerlink" title="勉强把题目看懂了。。"></a>勉强把题目看懂了。。</h3><p>但是还得看题解</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">simplifyPath</span><span class="params">(<span class="built_in">string</span> path)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//先让path加上一个/,方便判断而且最后不会计算在内</span></span><br><span class="line">        path+=<span class="string">'/'</span>;</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="built_in">string</span>&gt; temp_stack;</span><br><span class="line">        <span class="built_in">string</span> temp_string;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> c:path)&#123;</span><br><span class="line">            <span class="comment">//两个'/'之间为单级目录子串</span></span><br><span class="line">            <span class="keyword">if</span>(c==<span class="string">'/'</span>)&#123;</span><br><span class="line"><span class="comment">//地址从前向后跳转，如两个'/'之间的地址字符串是“..”，切换上一级目录，即将最后压入的一级目录弹出</span></span><br><span class="line">                <span class="keyword">if</span>(temp_string==<span class="string">".."</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(!temp_stack.empty()) temp_stack.pop();</span><br><span class="line"><span class="comment">//考虑特殊情况，如果前面没有进入子目录，一开始就是".."，此时既不能压入栈也无法弹出，需要排除，不做操作即可</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="comment">//其他情况，如两个'/'之间的地址字符串存在，且不为'.'（同级目录，无变化），必为字母组成的地址，因此压入栈</span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (temp_string!=<span class="string">"."</span> &amp;&amp; !temp_string.empty())&#123;</span><br><span class="line">                    temp_stack.push(temp_string);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//清空单级目录字符串，准备记录下两个'/'之间的目录字符串</span></span><br><span class="line">                temp_string.<span class="built_in">clear</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//记录单级目录字符串</span></span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                temp_string.push_back(c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//从栈中取出各级目录子串，加上'/'形成完整地址</span></span><br><span class="line">        <span class="built_in">string</span> result;</span><br><span class="line">        <span class="keyword">while</span>(!temp_stack.empty())&#123;</span><br><span class="line">            result=<span class="string">'/'</span>+temp_stack.top()+result;</span><br><span class="line">            temp_stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//特殊情况，栈中无元素，没有扫描到有效地址，则返回'/'</span></span><br><span class="line">        <span class="keyword">if</span>(result.empty()) result=<span class="string">"/"</span>;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>这样的话，如果是/./那么其实什么事情都不用干，如果有多个/，那么后面的/也没用</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/28/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><span class="page-number current">29</span><a class="page-number" href="/page/30/">30</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="extend next" rel="next" href="/page/30/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jason</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">439</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">68</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jason</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

    

  

</body>
</html>
