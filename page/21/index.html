<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=">


  <link rel="mask-icon" href="/images/logo.svg?v=" color="#222">














<meta property="og:type" content="website">
<meta property="og:title" content="Jason‘s Blog">
<meta property="og:url" content="https://jasonxqh.github.io/page/21/index.html">
<meta property="og:site_name" content="Jason‘s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Jason">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '',
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    fancybox: false,
    tabs: ,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: 'undefined',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>







  <title>Jason‘s Blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', '[object Object]', 'auto');
  ga('send', 'pageview');
</script>





<meta name="generator" content="Hexo 4.2.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
<a href="https://github.com/JasonXQH/JasonXQH.github.io" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jason‘s Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/%20" rel="section">
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/%20" rel="section">
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/%20" rel="section">
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/08/28/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%92%8C%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/%5Bobject%20Object%5D">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/28/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%92%8C%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/" itemprop="url">插入排序和冒泡排序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-28T15:13:19+08:00">
                2020-08-28
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2022-12-10T15:16:38+08:00">
                2022-12-10
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Rank/" itemprop="url" rel="index">
                    <span itemprop="name">Rank</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="插入排序和冒泡排序"><a href="#插入排序和冒泡排序" class="headerlink" title="插入排序和冒泡排序"></a>插入排序和冒泡排序</h1><h2 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h2><p>直接插入排序是最简单的排序方法，每次将一个待排序的记录，插入到已经排好序的数据序列当中，得到一个新的长度增1的有序表</p>
<p><img src="/2020/08/28/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%92%8C%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/1.png"></p>
<h3 id="算法步骤"><a href="#算法步骤" class="headerlink" title="算法步骤"></a>算法步骤</h3><p>1） 设待排序的记录存储在数组 r[1],r[2]…r[n] 中，可以把第一个记录$r[1]$ 看作一个有序序列</p>
<p>2） 依次将 r[i](i=2,….,n)  插入到已经排好序的序列 r[1,….,i-1] 当中，并保持有序性， 我们看到 r[0] 是空的，它的作用是保存将要插入到数组当中的数字的。</p>
<p>比如2比12小，那么 r[0] = 2 ,12 后移，再将2 从r[0]移到r[1].</p>
<p>16比12大，什么都不需要做。</p>
<p>30比16大，什么也不需要做。</p>
<p>28比30小，令r[0] = 28 ,30 往后移动一格，再让28和16比，因为28&gt;16 所以16 不动，28插入到16和30 之间。</p>
<p><img src="/2020/08/28/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%92%8C%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/2.png"></p>
<p>非递减即为允许相等的递增</p>
<h3 id="算法分析"><a href="#算法分析" class="headerlink" title="算法分析"></a>算法分析</h3><h4 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h4><p>最好情况下，待排序序列本身是正序的(如待排序序列是非递减的，题目要求也是非递减排序) ， 每个记录只需要和前一个记录比较一次， 不小于前一个记录， 则什么都不用做， 总的比较次数为</p>
<p>$\Sigma _{i=2}^n 1 = n-1$ </p>
<p>那么最好的情况下直接插入排序的时间复杂度为$O(n)$</p>
<p>最坏情况下，待排序序列本身是逆序的（如待排序序列是非递增的，题目要求是非递减排序），每个记录都需要比较 i 次，包括和前 i-1 记录比较，并和哨兵 r[O]比较，总的比较次数为：</p>
<p>$\Sigma_{i=2}^n i = \frac{(n+2)(n-1)}{2}$ </p>
<p>最坏情况下，直接插入排序的事件复杂度为 $O(n^2)$</p>
<p>平均情况下，若大排序序列出现各种情况的概率均等，则可取最好的情况和最坏的情况的平均值。平均情况下，直接插入排序的时间复杂度也为 $O(n^2)$ </p>
<h4 id="空间复杂度"><a href="#空间复杂度" class="headerlink" title="空间复杂度"></a>空间复杂度</h4><p>直接插入排序使用了一个辅助空间r[0]  ,空间复杂度为 $O(1)$ </p>
<h4 id="稳定性"><a href="#稳定性" class="headerlink" title="稳定性"></a>稳定性</h4><p>直接插入排序时，已经有序的序列中的记录比待排序记录大时才向后移动，和待排序记录相等时不向后移动， 因此两个相等的记录在排序前后的位置顺序是不变的。例如， 上例中排序前16在<code>16*</code>之前， 排序后16仍在<code>16*</code>之前。 因此直接插入排序是<strong>稳定的排序方法</strong>。<br>直接插入排序每次将待排序记录插入到一个有序序列中，在有序序列中查找待排序记录 的插入位置时，折半查找的方法比顺序查找效率更高，采用折半查找插入位置的插入排序称为折半插入排序， 有兴趣的读者可以自己动手试试。</p>
<h3 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h3><ul>
<li>什么排序算法可能会出现：在最后一趟开始之前，所有元素都不在最终位置上这一情况？ <strong>直接排序算法</strong>，最后一趟待排序元素是最小的，之前所有位置上的元素都要后移</li>
<li>待排序表为反序时，直接插入排序需要进行 $(n)(n-1)/2$ 次比较(从前往后依次需要1,2,$\cdots$ n-1次) ; 待排序表 为正序的时候，只需进行 n-1 次比较</li>
</ul>
<h3 id="代码一览"><a href="#代码一览" class="headerlink" title="代码一览"></a>代码一览</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Maxsize 100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">StraightInsertSort</span><span class="params">(<span class="keyword">int</span> r[],<span class="keyword">int</span> n)</span>  <span class="comment">//直接插入排序</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i,j;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;=n;i++)  <span class="comment">//r[i]插入有序子表</span></span><br><span class="line">        <span class="keyword">if</span>(r[i]&lt;r[i<span class="number">-1</span>]) <span class="comment">//r[i]和前一个元素r[i-1]比较</span></span><br><span class="line">        &#123;</span><br><span class="line">            r[<span class="number">0</span>]=r[i];			<span class="comment">//r[i]暂存到r[0]中，r[0]有监视哨的作用</span></span><br><span class="line">            r[i]=r[i<span class="number">-1</span>];	    <span class="comment">//r[i-1]后移一位</span></span><br><span class="line">            <span class="keyword">for</span>(j=i<span class="number">-2</span>;r[j]&gt;r[<span class="number">0</span>];j--) <span class="comment">//从后向前寻找插入位置,逐个后移，直到找到插入位置</span></span><br><span class="line">                r[j+<span class="number">1</span>]=r[j];		<span class="comment">//r[j]后移一位</span></span><br><span class="line">            r[j+<span class="number">1</span>]=r[<span class="number">0</span>];		<span class="comment">//将r[0]插入到r[j+1]位置</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,n,r[Maxsize+<span class="number">1</span>];</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入数列中的元素个数n为："</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"请依次输入数列中的元素："</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">       <span class="built_in">cin</span>&gt;&gt;r[i];</span><br><span class="line">    StraightInsertSort(r,n);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"直接插入排序结果："</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">       <span class="built_in">cout</span>&lt;&lt;r[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><p>冒泡排序是一种最简单的交换排序算法，通过两两比较关键字，如果逆序就交换，使关键字大的记录像泡泡一样冒出来放在尾部。重复执行若干次冒泡排序，最终得到有序序列。</p>
<h3 id="算法步骤-1"><a href="#算法步骤-1" class="headerlink" title="算法步骤"></a>算法步骤</h3><p>1） 设待排序的记录存储在数组 r[1,…,n ] 当中，首先第一个记录和第二个记录关键字比较，若逆序则交换；然后第二个记录和第三个记录关键字比较，…, 以此类推，直到第 n-1 个记录和第n个记录关键字比较完毕为止。第一趟排序结束，关键字最大的记录在最后一个位置。</p>
<p>2）第二趟排序，对前n-1 个元素进行冒泡排序，关键词次大的记录在n-1 位置</p>
<p>3）重复上述过程，知道某一趟排序中没有进行交换记录为止，说明序列已经有序。</p>
<p><img src="/2020/08/28/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%92%8C%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/2.png"></p>
<p><img src="/2020/08/28/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%92%8C%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/3.png"></p>
<p><img src="/2020/08/28/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%92%8C%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/4.png"></p>
<p>到了第七趟排序的时候，发现没有交换，所以立即停止。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Maxsize 100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BubbleSort</span><span class="params">(<span class="keyword">int</span> r[],<span class="keyword">int</span> n)</span> <span class="comment">//冒泡排序</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  	<span class="keyword">int</span> i,j,temp;</span><br><span class="line">  	<span class="keyword">bool</span> flag;</span><br><span class="line">  	i=n<span class="number">-1</span>;</span><br><span class="line">  	flag=<span class="literal">true</span>;</span><br><span class="line">  	<span class="keyword">while</span>(i&gt;<span class="number">0</span>&amp;&amp;flag)</span><br><span class="line">    &#123;</span><br><span class="line">        flag=<span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;i;j++) <span class="comment">//进行一趟排序</span></span><br><span class="line">            <span class="keyword">if</span>(r[j]&gt;r[j+<span class="number">1</span>])</span><br><span class="line">            &#123;</span><br><span class="line">                flag=<span class="literal">true</span>;</span><br><span class="line">                temp=r[j]; <span class="comment">//交换两个记录</span></span><br><span class="line">                r[j]=r[j+<span class="number">1</span>];</span><br><span class="line">                r[j+<span class="number">1</span>]=temp;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;=i;j++)<span class="comment">//测试每趟排序结果</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;r[j]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        i--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,n,r[Maxsize];</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入数列中的元素个数n为："</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"请依次输入数列中的元素："</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">       <span class="built_in">cin</span>&gt;&gt;r[i];</span><br><span class="line">    BubbleSort(r,n);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"冒泡排序结果："</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">       <span class="built_in">cout</span>&lt;&lt;r[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/08/27/%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E5%B8%B8%E7%B3%BB%E6%95%B0%E7%BA%BF%E6%80%A7%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E7%BB%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/%5Bobject%20Object%5D">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/27/%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E5%B8%B8%E7%B3%BB%E6%95%B0%E7%BA%BF%E6%80%A7%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E7%BB%84/" itemprop="url">一些简单的常系数线性微分方程组</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-27T11:02:58+08:00">
                2020-08-27
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-10-30T08:07:10+08:00">
                2020-10-30
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="一些简单的常系数线性微分方程组"><a href="#一些简单的常系数线性微分方程组" class="headerlink" title="一些简单的常系数线性微分方程组"></a>一些简单的常系数线性微分方程组</h1><p><img src="/2020/08/27/%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E5%B8%B8%E7%B3%BB%E6%95%B0%E7%BA%BF%E6%80%A7%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E7%BB%84/1.png" style="zoom:80%;"></p>
<p><img src="/2020/08/27/%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E5%B8%B8%E7%B3%BB%E6%95%B0%E7%BA%BF%E6%80%A7%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E7%BB%84/2.png" style="zoom:80%;"></p>
<p><img src="/2020/08/27/%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E5%B8%B8%E7%B3%BB%E6%95%B0%E7%BA%BF%E6%80%A7%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E7%BB%84/3.png" style="zoom:80%;"></p>
<p><img src="/2020/08/27/%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E5%B8%B8%E7%B3%BB%E6%95%B0%E7%BA%BF%E6%80%A7%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E7%BB%84/4.png" style="zoom:80%;"></p>
<p><img src="/2020/08/27/%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E5%B8%B8%E7%B3%BB%E6%95%B0%E7%BA%BF%E6%80%A7%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E7%BB%84/5.png" style="zoom:80%;"></p>
<p><img src="/2020/08/27/%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E5%B8%B8%E7%B3%BB%E6%95%B0%E7%BA%BF%E6%80%A7%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E7%BB%84/6.png" style="zoom:80%;"></p>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/08/27/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%96%B9%E7%A8%8B%E7%9A%84%E5%B9%82%E7%BA%A7%E6%95%B0%E8%A7%A3%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/%5Bobject%20Object%5D">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/27/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%96%B9%E7%A8%8B%E7%9A%84%E5%B9%82%E7%BA%A7%E6%95%B0%E8%A7%A3%E6%B3%95/" itemprop="url">微分方程方程的幂级数解法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-27T11:02:32+08:00">
                2020-08-27
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-30T21:52:38+08:00">
                2020-08-30
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="微分方程方程的幂级数解法"><a href="#微分方程方程的幂级数解法" class="headerlink" title="微分方程方程的幂级数解法"></a>微分方程方程的幂级数解法</h1><p><img src="/2020/08/27/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%96%B9%E7%A8%8B%E7%9A%84%E5%B9%82%E7%BA%A7%E6%95%B0%E8%A7%A3%E6%B3%95/1.png" style="zoom:80%;"></p>
<p><img src="/2020/08/27/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%96%B9%E7%A8%8B%E7%9A%84%E5%B9%82%E7%BA%A7%E6%95%B0%E8%A7%A3%E6%B3%95/2.png" style="zoom:80%;"></p>
<p><img src="/2020/08/27/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%96%B9%E7%A8%8B%E7%9A%84%E5%B9%82%E7%BA%A7%E6%95%B0%E8%A7%A3%E6%B3%95/3.png" style="zoom:80%;"></p>
<p><img src="/2020/08/27/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%96%B9%E7%A8%8B%E7%9A%84%E5%B9%82%E7%BA%A7%E6%95%B0%E8%A7%A3%E6%B3%95/4.png" style="zoom:80%;"></p>
<p><img src="/2020/08/27/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%96%B9%E7%A8%8B%E7%9A%84%E5%B9%82%E7%BA%A7%E6%95%B0%E8%A7%A3%E6%B3%95/5.png" style="zoom:80%;"></p>
<p><img src="/2020/08/27/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E6%96%B9%E7%A8%8B%E7%9A%84%E5%B9%82%E7%BA%A7%E6%95%B0%E8%A7%A3%E6%B3%95/6.png" style="zoom:80%;"></p>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/08/25/n%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/%5Bobject%20Object%5D">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/25/n%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98/" itemprop="url">n皇后问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-25T11:26:52+08:00">
                2020-08-25
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-25T12:58:46+08:00">
                2020-08-25
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="n皇后问题"><a href="#n皇后问题" class="headerlink" title="n皇后问题"></a>n皇后问题</h1><p>在<em>n</em>×<em>n</em>的棋盘上放置彼此不受攻击的<em>n</em>个皇后。按照国际象棋的规则，皇后可以攻击与之在同一行、同一列、同一斜线上的棋子。设计算法在<em>n</em>×<em>n</em>的棋盘上放置<em>n</em>个皇后，使其彼此不受攻击。在第<em>i</em>行第<em>j</em>列放置一个皇后，那么第<em>i</em>行的其他位置（同行），那么第<em>j</em>列的其他位置（同列），同一斜线上的其他位置，都不能放置皇后。</p>
<p><img src="/2020/08/25/n%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98/1.png" style="zoom:150%;"></p>
<p>我们要判断第t个皇后是否满足条件，就是在t-1 个皇后已经满足条件的情况下来进行判断。只要有一个冲突，这个位置就无法放置第t个皇后。</p>
<h3 id="1）定义问题的解空间"><a href="#1）定义问题的解空间" class="headerlink" title="(1）定义问题的解空间"></a>(1）定义问题的解空间</h3><p><em>n</em>皇后问题解的形式为n元组：${x_1，x_2，…，x_i，…，x_n}$，分量 $x_i$表示第<em>i</em>个皇后放置在第<em>i</em>行第  $x_i$ 列，$x_i$ 的取值为1，2，…，<em>n</em>。例如$x_2=5$，表示第2个皇后放置在第2行第5列。 </p>
<p><strong>显约束为不同行</strong>。</p>
<h3 id="2）解空间的组织结构"><a href="#2）解空间的组织结构" class="headerlink" title="(2）解空间的组织结构"></a>(2）解空间的组织结构</h3><p><em>n</em>皇后问题的解空间是一棵<em>m</em>（<em>m</em>=<em>n</em>）叉树，树的深度为<em>n</em>。因为我这里是一个方格棋盘，所以 m是等于n 的</p>
<p><img src="/2020/08/25/n%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98/2.png" style="zoom:100%;"></p>
<p>这是一个很庞大的树，我们要懂得如何剪枝。</p>
<h3 id="3-搜索解空间"><a href="#3-搜索解空间" class="headerlink" title="(3)搜索解空间"></a>(3)搜索解空间</h3><p><strong>·</strong> <strong>约束条件</strong></p>
<p>在第<em>t</em>行放置第<em>t</em>个皇后时，第<em>t</em>个皇后的位置不能和前<em>t</em>−1个皇后同列、同斜线。第<em>i</em>个皇后和第<em>j</em>个皇后不同列，即$x_i!=x_j$，并且不同斜线$|i-j|!=|x_i-x_j|$。 如果不满足条件，那就回溯，重新分配位置</p>
<p><strong>·</strong> <strong>限界条件</strong></p>
<p>该问题不存在放置方案好坏的情况，所以不需要设置限界条件</p>
<h2 id="算法分析"><a href="#算法分析" class="headerlink" title="算法分析"></a>算法分析</h2><h3 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h3><p><img src="/2020/08/25/n%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98/3.png" style="zoom:100%;"></p>
<p>除了最后一层外， 有$1+n+n^2+\cdots +n^{n-1}=(n^n-1)/(n-1)\approx n^{n-1}$个结点需要扩展 ， 而这些结点每个都要扩展 n 个分支， 总的分支个数为$n^n$， 每个分支都判断约束函数， 判断约束条件需要O(n)的时间， 因此耗时 $O(n^{n+1})$。在叶子结点处输出当前最优解需要耗时 O(n), 在最坏情况下回搜索到每一个叶子结点 ， 叶子个数为 $n^n$, 故耗时为 $O(n^{n+1})$。因此，时间复杂度为 $O(n^{n+1})$。</p>
<h3 id="空间复杂度："><a href="#空间复杂度：" class="headerlink" title="空间复杂度："></a>空间复杂度：</h3><p>在所搜过程中的任何时刻，仅保留从开始结点到当前扩展结点的路径，从开始结点起最长的路径为<em>n</em>。程序中使用<em>x</em>[]数组记录该最长路径作为可行解，所以该算法的空间复杂度为<em>O</em>(<em>n</em>)。</p>
<h3 id="代码一览"><a href="#代码一览" class="headerlink" title="代码一览"></a>代码一览</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//program 5-4</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;   //求绝对值函数需要引入该头文件</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 105</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;<span class="comment">//n表示n个皇后</span></span><br><span class="line"><span class="keyword">int</span> x[M];  <span class="comment">//x[i]表示第i个皇后放置在第i行第x[i]列</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> countn;    <span class="comment">//countn表示n皇后问题可行解的个数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Place</span><span class="params">(<span class="keyword">int</span> t)</span> <span class="comment">//判断第t个皇后能否放置在第i个位置</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> ok=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;t;j++)   </span><br><span class="line">    <span class="comment">//判断该位置的皇后是否与前面t-1个已经放置的皇后冲突</span></span><br><span class="line">    &#123;</span><br><span class="line">       <span class="keyword">if</span>(x[t]==x[j]||t-j==<span class="built_in">fabs</span>(x[t]-x[j]))<span class="comment">//判断列、对角线是否冲突</span></span><br><span class="line">       &#123;</span><br><span class="line">           ok=<span class="literal">false</span>;</span><br><span class="line">           <span class="keyword">break</span>;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ok;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Backtrack</span><span class="params">(<span class="keyword">int</span> t)</span> <span class="comment">//回溯</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t&gt;n)  </span><br><span class="line">    <span class="comment">//如果当前位置为n,则表示已经找到了问题的一个解</span></span><br><span class="line">    &#123;</span><br><span class="line">        countn++; <span class="comment">//用来统计与多少种求解方案</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n;i++) <span class="comment">//打印选择的路径</span></span><br><span class="line">          <span class="built_in">cout</span>&lt;&lt;x[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"----------"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="comment">//分别判断n个分支,特别注意i不要定义为全局变量,否则递归调用有问题</span></span><br><span class="line">        &#123;</span><br><span class="line">            x[t]=i;</span><br><span class="line">            <span class="keyword">if</span>(Place(t)) </span><br><span class="line">                <span class="comment">//判断x[t] 能不能等于i，如果不能那么回溯，更新位置</span></span><br><span class="line">                Backtrack(t+<span class="number">1</span>); <span class="comment">//如果不冲突的话进行下一行的搜索</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入皇后的个数 n:"</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    countn=<span class="number">0</span>;</span><br><span class="line">    Backtrack(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;<span class="string">"答案的个数是: "</span>&lt;&lt;countn&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 但是这样的算法会出现很多的无效判断。因为当 第一个节点已经选1的时候，接下来的节点还需要重复判断选1是否可行，所以我们还需要优化</p>
<h2 id="算法优化拓展："><a href="#算法优化拓展：" class="headerlink" title="算法优化拓展："></a><strong>算法优化拓展：</strong></h2><p>以上求解方法的解空间为<em>m</em>叉树，<em>m</em>=<em>n</em>，解空间过于庞大，所以时间复杂度很高，算法效率当然会降低。</p>
<p>解空间越小，算法效率越高。如果能够缩小解空间，则可以提高效率。</p>
<p><em>n</em>皇后问题采用不同行作为显约束，隐约束为不同列、不同斜线，解空间为<em>m</em>叉树。4皇后问题，显约束为不同行的解空间树如图。</p>
<p><img src="/2020/08/25/n%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98/4.png" style="zoom:100%;"></p>
<p>显约束可以控制解空间大小，隐约束用于判定可行解或最优解。如果把显约束定为<strong>不同行、不同列</strong>，隐约束为<strong>不同斜线</strong>。4皇后问题，显约束为<strong>不同行、不同列</strong>的解空间树如图。<strong>解空间变小了好多！</strong>从树根倒也则的每一个可能解其实是一个排列。我们找解就是从这些排列中取寻找。</p>
<p><img src="/2020/08/25/n%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98/5.png" style="zoom:100%;"></p>
<p>那么，怎么才能找到这些排列呢？我们需要用到排列树。</p>
<p>排列树的设计理念：有n个元素 1，2，3….n</p>
<p>1) 1与1 交换， 求(2,3,…,n) 的排列<br>2) 2与1 交换， 求(1,3,…n) 的排列<br>…<br>n) n与1 交换， 求(2,3,…,1) 的排列</p>
<p>这样每个数开头一次，递归求解剩下的序列的排列， 即可得到n个数的全排列</p>
<p>我们可以很容易得到3个数的排列：<br>(1) 1 与1 交换， 求 (2, 3) 的排列。<br>(2, 3) 的排列是 (2, 3) 和 (3, 2), 得到 l 开头的排列： 1 2 3, 1 3 2。 </p>
<p>(2) 2 与1 交换， 求 (1, 3) 的排列。<br>(I, 3) 的排列是(I, 3) 和 (3, I), 得到 2 开头的排列： 2 1 3, 2 3 1。</p>
<p>(3) 3 与 1 交换， 求 (2, 1) 的排列。<br>(2, l) 的排列是 (2, 1) 和(1, 2), 得到3 开头的排列：321, 312。</p>
<p>那么怎么用程序实现呢？</p>
<h3 id="代码一览-1"><a href="#代码一览-1" class="headerlink" title="代码一览"></a>代码一览</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//program 5-5-1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MX 50</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> x[MX];         <span class="comment">//解分量</span></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myarray</span><span class="params">(<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t&gt;n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="comment">// 输出排列</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;x[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=t;i&lt;=n;i++)  <span class="comment">// 枚举</span></span><br><span class="line">    &#123;</span><br><span class="line">       swap(x[t],x[i]);  <span class="comment">// 交换</span></span><br><span class="line">       myarray(t+<span class="number">1</span>);  <span class="comment">// 继续深搜</span></span><br><span class="line">       swap(x[t],x[i]); <span class="comment">// 恢复</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"输入排列的元素个数n(求1..n的排列):"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="comment">//初始化</span></span><br><span class="line">       x[i]=i;</span><br><span class="line">    myarray(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/08/25/%E7%BA%A6%E7%91%9F%E5%A4%AB%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/%5Bobject%20Object%5D">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/25/%E7%BA%A6%E7%91%9F%E5%A4%AB%E9%97%AE%E9%A2%98/" itemprop="url">约瑟夫问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-25T10:44:36+08:00">
                2020-08-25
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-25T10:59:06+08:00">
                2020-08-25
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="约瑟夫问题"><a href="#约瑟夫问题" class="headerlink" title="约瑟夫问题"></a>约瑟夫问题</h1><p>Description</p>
<p>实现一个循环链表,并解决约瑟夫问题: </p>
<p>n 个人围成一个圆圈，首先第1个人从1开始一个人一个人顺时针报数, 报到第m个人，令其出列。然后再从下一个人开始，从1顺时针报数，报到第m个人，再令其出列，…，如此下去, 直到圆圈中只剩一个人为止。此人即为优胜者</p>
<p>Input </p>
<p>输入约瑟夫问题中的n和m;</p>
<p>输入要插入循环队列的n个元素的值;</p>
<p>Output </p>
<p>按顺序输出所有被踢出队列的元素的值;</p>
<p>输出最终的优胜者;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">yuesefeng</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; out;</span><br><span class="line">    out=yuesefeng(n,m);</span><br><span class="line">    <span class="keyword">int</span> i,len=out.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len<span class="number">-1</span>;i++)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;out[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;out[i]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">yuesefeng</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span><span class="comment">//n代表初始人数，m代表初始号码</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; out;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; in;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;::iterator pos;</span><br><span class="line">    <span class="keyword">int</span> elem;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;elem;</span><br><span class="line">        in.push_back(elem);</span><br><span class="line">    &#125;</span><br><span class="line">    pos = in.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">int</span> cnt = m;</span><br><span class="line">    <span class="keyword">while</span> (!in.empty()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cnt != <span class="number">1</span>) &#123;</span><br><span class="line">            pos++;</span><br><span class="line">            cnt--;</span><br><span class="line">            <span class="keyword">if</span> (pos == in.<span class="built_in">end</span>())<span class="comment">//注意要判断是否到尾部了，到尾部就指向头部</span></span><br><span class="line">                pos = in.<span class="built_in">begin</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cnt=m;</span><br><span class="line">            out.push_back(*pos);<span class="comment">//到数了，点到的人保存到输出</span></span><br><span class="line">            pos = in.erase(pos);</span><br><span class="line">            <span class="comment">//将此人从列表中删除，注意erase返回的是下个人的指针</span></span><br><span class="line">            <span class="keyword">if</span> (pos == in.<span class="built_in">end</span>())</span><br><span class="line">                pos = in.<span class="built_in">begin</span>();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/08/25/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E6%A0%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/%5Bobject%20Object%5D">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/25/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E6%A0%88/" itemprop="url">用数组实现一个栈</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-25T10:31:26+08:00">
                2020-08-25
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-28T21:10:00+08:00">
                2020-08-28
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="用数组实现一个栈"><a href="#用数组实现一个栈" class="headerlink" title="用数组实现一个栈"></a>用数组实现一个栈</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">//栈的数组实现</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 10;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">Stack</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">//默认构造函数</span></span><br><span class="line">	Stack();</span><br><span class="line">	Stack(<span class="keyword">size_t</span> maxElements);</span><br><span class="line">	Stack(T data[], <span class="keyword">size_t</span> maxElements);</span><br><span class="line">	~Stack();</span><br><span class="line"></span><br><span class="line">	<span class="comment">//入栈</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Push</span><span class="params">(T data)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//出站并返回</span></span><br><span class="line">	<span class="function">T <span class="title">Pop</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//返回栈顶元素</span></span><br><span class="line">	<span class="function">T <span class="title">Top</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//判断是否为空栈</span></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//栈是否已满</span></span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">isFull</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//清空栈</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Clear</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//获得栈元素个数</span></span><br><span class="line">	<span class="function"><span class="keyword">size_t</span> <span class="title">GetSize</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="comment">//栈标指示器</span></span><br><span class="line">	<span class="keyword">size_t</span> top;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//数组</span></span><br><span class="line">	T *arrays;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//栈的容量</span></span><br><span class="line">	<span class="keyword">size_t</span> maxSize;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Stack</span>&lt;T&gt;:</span>:Stack() : maxSize(MAXSIZE), top(<span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line">	arrays = <span class="keyword">new</span> T[maxSize];</span><br><span class="line">	<span class="keyword">if</span> (arrays == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"动态分配内存失败"</span>;</span><br><span class="line">		<span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Stack</span>&lt;T&gt;:</span>:Stack(<span class="keyword">size_t</span> maxElements) : maxSize(maxElements), top(<span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line">	arrays = <span class="keyword">new</span> T[maxSize];</span><br><span class="line">	<span class="keyword">if</span> (arrays == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"动态分配内存失败"</span>;</span><br><span class="line">		<span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Stack</span>&lt;T&gt;:</span>:Stack(T data[], <span class="keyword">size_t</span> maxElements) : maxSize(maxElements), top(<span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line">	arrays = <span class="keyword">new</span> T[maxSize];<span class="comment">//创建存储栈的数组</span></span><br><span class="line">	<span class="keyword">if</span> (arrays == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"动态分配内存失败"</span>;</span><br><span class="line">		<span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; maxSize; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		arrays[i] = data[i];</span><br><span class="line">	&#125;</span><br><span class="line">	top += maxSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">Stack</span>&lt;T&gt;:</span>:~Stack()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">delete</span>[] arrays;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">Stack</span>&lt;T&gt;:</span>:Push(T data)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (isFull())</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">throw</span> runtime_error(<span class="string">"Full stack"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		top++;<span class="comment">//指向栈顶</span></span><br><span class="line">		arrays[top] = data;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">T</span> <span class="title">Stack</span>&lt;T&gt;:</span>:Pop()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (isEmpty())</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">throw</span> runtime_error(<span class="string">"No elements in the stack"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		T data = arrays[top];</span><br><span class="line">		top--;</span><br><span class="line">		<span class="keyword">return</span> data;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">T</span> <span class="title">Stack</span>&lt;T&gt;:</span>:Top()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (isEmpty())</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">throw</span> runtime_error(<span class="string">"No elements in the stack"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> arrays[top];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">bool</span> <span class="title">Stack</span>&lt;T&gt;:</span>:isEmpty()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> top == <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">bool</span> <span class="title">Stack</span>&lt;T&gt;:</span>:isFull()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> top == maxSize - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">void</span> <span class="title">Stack</span>&lt;T&gt;:</span>:Clear()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">while</span> (Top != <span class="number">-1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		Top--;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">size_t</span> <span class="title">Stack</span>&lt;T&gt;:</span>:GetSize()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> top + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">try</span><span class="comment">//异常捕获</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> a[<span class="number">6</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> &#125;;</span><br><span class="line">		<span class="function">Stack&lt;<span class="keyword">int</span>&gt; <span class="title">s</span><span class="params">(a, <span class="number">6</span>)</span></span>;</span><br><span class="line">		s.Pop();</span><br><span class="line">		s.Push(<span class="number">7</span>);</span><br><span class="line">		<span class="keyword">while</span> (!s.isEmpty())</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; s.Pop() &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">catch</span> (exception e)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; e.what() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	system(<span class="string">"pause"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/%5Bobject%20Object%5D">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/" itemprop="url">Pandas基础2</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-07T23:50:46+08:00">
                2020-08-07
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-13T12:19:46+08:00">
                2020-08-13
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Pandas-Series"><a href="#Pandas-Series" class="headerlink" title="Pandas Series"></a>Pandas Series</h1><h3 id="First-Steps-with-Pandas-Series"><a href="#First-Steps-with-Pandas-Series" class="headerlink" title="First Steps with Pandas Series"></a>First Steps with Pandas Series</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic = pd.read_csv(<span class="string">"titanic.csv"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.info()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/1.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic[<span class="string">"age"</span>]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/2.png"></p>
<p>从DataFrame当中选出一列，它的类型是 Series，所以说DataFrame是由Series组合形成的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type(titanic[<span class="string">"age"</span>])</span><br><span class="line">pandas.core.series.Series</span><br></pre></td></tr></table></figure>
<p>从下面的代码也可以看得出选择一列可以使用方括号或者点运算符</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">titanic[<span class="string">"age"</span>].equals(titanic.age)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>我们选则其中一列，看一下这个Series的参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age = titanic[<span class="string">"age"</span>]</span><br></pre></td></tr></table></figure>
<p>dtype 顾名思义就是 data type 代表了这一列中数据的数据类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age.dtype</span><br><span class="line">dtype(<span class="string">'float64'</span>)</span><br></pre></td></tr></table></figure>
<p>shape 代表这一列(Series) 的形状，从结果看这是一个长达 891的数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age.shape</span><br><span class="line">(<span class="number">891</span>,)</span><br></pre></td></tr></table></figure>
<p>len就代表Series长度</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">len(age)</span><br><span class="line"><span class="number">891</span></span><br></pre></td></tr></table></figure>
<p>index就代表这个series的索引是怎么排列的，从结果可以看出，索引是从0开始，891结束，步长为1</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age.index</span><br><span class="line">RangeIndex(start=<span class="number">0</span>, stop=<span class="number">891</span>, step=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>如果直接 age.info()是会报错的，因为age是Series，但是并不是DataFrame，只有DataFrame才具有info()这个属性。所以我们要先用to_frame()把age给转换为DataFrame才可以</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.info()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.to_frame().info()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/3.png" style="zoom:120%;"></p>
<h3 id="Analyzing-Numerical-Series"><a href="#Analyzing-Numerical-Series" class="headerlink" title="Analyzing Numerical Series"></a>Analyzing Numerical Series</h3><p>接下来我们以age为例分析数字类型的 Series</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.describe()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/4.png" style="zoom:120%;"></p>
<p>count()会计算出Series中非空数字的数量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age.count()</span><br><span class="line"><span class="number">714</span></span><br></pre></td></tr></table></figure>
<p>size则是包括非空和空值在内的总大小</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age.size</span><br><span class="line"><span class="number">891</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">len(age)</span><br><span class="line"><span class="number">891</span></span><br></pre></td></tr></table></figure>
<p>sum可以计算这列的总和，当skipna = False时，如果当列中有空值，那么结果会变成nan</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age.sum(skipna = <span class="literal">False</span>)</span><br><span class="line">nan</span><br></pre></td></tr></table></figure>
<p>想要跳过空值，计算可以累加的数值，那么就要设置skipna = True</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age.sum(skipna = <span class="literal">True</span>)</span><br><span class="line"><span class="number">21205.17</span></span><br></pre></td></tr></table></figure>
<p>unique是Series中去除重复的数值(包括nan)之后留下的数值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.unique()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/5.png" style="zoom:100%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">len(age.unique())</span><br><span class="line"><span class="number">89</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age.nunique(dropna = <span class="literal">False</span>)</span><br><span class="line"><span class="number">89</span></span><br></pre></td></tr></table></figure>
<p>value_counts(sort = True)是默认的，直接用value_counts()即为排好序后的结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.value_counts()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/6.png" style="zoom:100%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.value_counts(sort = <span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/7.png" style="zoom:100%;"></p>
<p>默认是dropna(跳过空值)为True的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.value_counts(dropna = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/6.png" style="zoom:100%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.value_counts(dropna = <span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/9.png" style="zoom:100%;"></p>
<p>默认是降序从多到少排列的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.value_counts(ascending = <span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/6.png" style="zoom:100%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.value_counts(ascending = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/10.png" style="zoom:100%;"></p>
<p>我们可以对比一下 normalize False与True的区别。当设置为True时，反应的各个分类所占的比例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.value_counts(sort = <span class="literal">True</span>, dropna = <span class="literal">True</span>, ascending = <span class="literal">False</span>, normalize = <span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/6.png" style="zoom:100%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.value_counts(sort = <span class="literal">True</span>, dropna = <span class="literal">True</span>, ascending = <span class="literal">False</span>, normalize = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/11.png" style="zoom:100%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.value_counts(sort = <span class="literal">True</span>, dropna = <span class="literal">False</span>, ascending = <span class="literal">False</span>, normalize = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/12.png" style="zoom:100%;"></p>
<p>我们可以通过设置 bins，来把Series按照分布分成长度相等的几个区间，然后再统计数量。下面是分成5组和10组后的不同结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.value_counts(sort = <span class="literal">True</span>, dropna = <span class="literal">True</span>, ascending= <span class="literal">False</span>, normalize = <span class="literal">False</span>, bins = <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/13.png" style="zoom:140%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.value_counts(sort = <span class="literal">True</span>, dropna = <span class="literal">True</span>, ascending= <span class="literal">False</span>, normalize = <span class="literal">True</span>, bins = <span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/14.png" style="zoom:120%;"></p>
<h3 id="Analyzing-non-numerical-Series"><a href="#Analyzing-non-numerical-Series" class="headerlink" title="Analyzing non-numerical Series"></a>Analyzing non-numerical Series</h3><p>那么如果Series中的Data是非数值的呢？我们来研究一下其性质</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer = pd.read_csv(<span class="string">"summer.csv"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.info()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/15.png" style="zoom:120%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">athlete = summer[<span class="string">"Athlete"</span>]</span><br></pre></td></tr></table></figure>
<p>我们看到 athlete这个Series是非数字的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">athlete.head()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/16.png" style="zoom:150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type(athlete)</span><br><span class="line">pandas.core.series.Series</span><br></pre></td></tr></table></figure>
<p>dtype(‘o’)代表object类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">athlete.dtype</span><br><span class="line">dtype(<span class="string">'O'</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">athlete.shape</span><br><span class="line">(<span class="number">31165</span>,)</span><br></pre></td></tr></table></figure>
<p>describe()中可以看出一些简单讯息</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">athlete.describe()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/17.png" style="zoom:150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">athlete.size</span><br><span class="line"><span class="number">31165</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">athlete.count()</span><br><span class="line"><span class="number">31165</span></span><br></pre></td></tr></table></figure>
<p>min()是按照字符串排序后的结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">athlete.min()</span><br><span class="line"><span class="string">'AABYE, Edgar'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">athlete.unique()</span><br><span class="line">array([<span class="string">'HAJOS, Alfred'</span>, <span class="string">'HERSCHMANN, Otto'</span>, <span class="string">'DRIVAS, Dimitrios'</span>, ...,</span><br><span class="line">       <span class="string">'TOTROV, Rustam'</span>, <span class="string">'ALEKSANYAN, Artur'</span>, <span class="string">'LIDBERG, Jimmy'</span>],</span><br><span class="line">      dtype=object)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">len(athlete.unique())</span><br><span class="line"><span class="number">22762</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">athlete.nunique(dropna= <span class="literal">False</span>)</span><br><span class="line"><span class="number">22762</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">athlete.value_counts()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/18.png" style="zoom:120%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">athlete.value_counts(sort = <span class="literal">True</span>, ascending=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/19.png" style="zoom:120%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">athlete.value_counts(sort = <span class="literal">True</span>, ascending=<span class="literal">False</span>, normalize = <span class="literal">True</span>).head()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/20.png" style="zoom:120%;"></p>
<h3 id="Creating-Pandas-Series-Part-1"><a href="#Creating-Pandas-Series-Part-1" class="headerlink" title="Creating Pandas Series (Part 1)"></a>Creating Pandas Series (Part 1)</h3><p>现在我们来看看怎么创建一个Pandas Series。我们可以从DataFrame中选出一列作为Series，可以从csv中选出一列作为Series,也可以从零开始创建一个Series</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<h4 id="from-DataFrame"><a href="#from-DataFrame" class="headerlink" title="from DataFrame"></a>from DataFrame</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">summer = pd.read_csv(<span class="string">"summer.csv"</span>)</span><br><span class="line">summer[<span class="string">"Athlete"</span>]</span><br><span class="line">summer.Athlete</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<h4 id="Importing-from-CSV"><a href="#Importing-from-CSV" class="headerlink" title="Importing from CSV"></a>Importing from CSV</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(<span class="string">"summer.csv"</span>, usecols = [<span class="string">"Athlete"</span>], squeeze = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<h4 id="Creating-from-scratch-with-pd-Series"><a href="#Creating-from-scratch-with-pd-Series" class="headerlink" title="Creating from scratch with pd.Series()"></a>Creating from scratch with pd.Series()</h4><p>直接创建一列的话，要注意，index要与值一一对应，多一个少一个都会报错！我们同时可以规定names = “” 也就是这个Series的名字</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.Series([<span class="number">10</span>,<span class="number">25</span>,<span class="number">6</span>,<span class="number">36</span>,<span class="number">2</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pd.Series([10,25,6,36,2], index=["Mon","Tue","Wed","Thu", "Fri", "Sat"])</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.Series([<span class="number">10</span>,<span class="number">25</span>,<span class="number">6</span>,<span class="number">36</span>,<span class="number">2</span>], index=[<span class="string">"Mon"</span>,<span class="string">"Tue"</span>,<span class="string">"Wed"</span>,<span class="string">"Thu"</span>, <span class="string">"Fri"</span>], name = <span class="string">"Sales"</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Creating-Pandas-Series-Part-2"><a href="#Creating-Pandas-Series-Part-2" class="headerlink" title="Creating Pandas Series (Part 2)"></a>Creating Pandas Series (Part 2)</h3><p>除了从上面的文件中导入、直接创建等方法。Series还可以从Array、List和Dictionary中导入。</p>
<h4 id="from-Numpy-Array"><a href="#from-Numpy-Array" class="headerlink" title="from Numpy Array"></a>from Numpy Array</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales = np.array([<span class="number">10</span>,<span class="number">25</span>,<span class="number">6</span>,<span class="number">36</span>,<span class="number">2</span>])</span><br><span class="line">sales</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.Series(sales)</span><br></pre></td></tr></table></figure>
<h4 id="from-List"><a href="#from-List" class="headerlink" title="from List"></a>from List</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sales = [<span class="number">10</span>,<span class="number">25</span>,<span class="number">6</span>,<span class="number">36</span>,<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.Series(sales)</span><br></pre></td></tr></table></figure>
<h4 id="from-Dictionary"><a href="#from-Dictionary" class="headerlink" title="from Dictionary"></a>from Dictionary</h4><p>注意，从Dictionary转换成Series的时候，key即为Index，我们人为规定index的话，必须和dic中的key一一对应，否则值就是NaN。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;<span class="string">"Mon"</span>:<span class="number">10</span>, <span class="string">"Tue"</span>:<span class="number">25</span>, <span class="string">"Wed"</span>:<span class="number">6</span>, <span class="string">"Thu"</span>: <span class="number">36</span>, <span class="string">"Fri"</span>: <span class="number">2</span>&#125;</span><br><span class="line">dic</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sales = pd.Series(dic)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sales</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/21.png" style="zoom:150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.Series(dic, index = [<span class="string">"Fri"</span>, <span class="string">"Sat"</span>, <span class="string">"Sun"</span>, <span class="string">"Mon"</span>, <span class="string">"Tue"</span>, <span class="string">"Wed"</span>])</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/22.png" style="zoom:150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.Series(dic, index = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/23.png" style="zoom:150%;"></p>
<h3 id="Indexing-and-Slicing"><a href="#Indexing-and-Slicing" class="headerlink" title="Indexing and Slicing"></a>Indexing and Slicing</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic = pd.read_csv(<span class="string">"titanic.csv"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age = titanic.age</span><br><span class="line">age</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/2.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age[<span class="number">0</span>]</span><br><span class="line"><span class="number">22.0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age[<span class="number">2</span>]</span><br><span class="line"><span class="number">26.0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age.iloc[<span class="number">-1</span>]</span><br><span class="line"><span class="number">32.0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age[<span class="number">890</span>]</span><br><span class="line"><span class="number">32.0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age[[<span class="number">3</span>,<span class="number">4</span>]]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/24.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.loc[:<span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/25.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer = pd.read_csv(<span class="string">"summer.csv"</span>, index_col = <span class="string">"Athlete"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event = summer.Event</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.head()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/26.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.index</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/27.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">event[<span class="number">0</span>]</span><br><span class="line"><span class="string">'100M Freestyle'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">event.iloc[<span class="number">-1</span>]</span><br><span class="line"><span class="string">'Wg 96 KG'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.iloc[:<span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/28.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">event[<span class="string">"DRIVAS, Dimitrios"</span>]</span><br><span class="line"><span class="string">'100M Freestyle For Sailors'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event[:<span class="string">"DRIVAS, Dimitrios"</span>]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/29.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.loc[<span class="string">"PHELPS, Michael"</span>]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/30.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">event.loc[<span class="string">"PHELPS, Michael"</span>].equals(event[<span class="string">"PHELPS, Michael"</span>])</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>不能这样写，因为PHELPS, Michael有好多行，python会不知道到底锁定在哪一行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#event[:"PHELPS, Michael"]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.loc[[<span class="string">"PHELPS, Michael"</span>, <span class="string">"LEWIS, Carl"</span>]]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/31.png"></p>
<p>前提是这个索引是存在的哦，唐老鸭不在，所以会报错噢</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#event[["PHELPS, Michael", "DUCK, Donald"]]</span></span><br></pre></td></tr></table></figure>
<h3 id="Sorting-and-introduction-to-the-inplace-parameter"><a href="#Sorting-and-introduction-to-the-inplace-parameter" class="headerlink" title="Sorting and introduction to the  inplace-parameter"></a>Sorting and introduction to the  inplace-parameter</h3><p>inplace = False 是缺省值，如果将其设置为True 的话，那么即为在原对象上进行修改，而不是另生成一个对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;<span class="number">1</span>:<span class="number">10</span>, <span class="number">3</span>:<span class="number">25</span>, <span class="number">2</span>:<span class="number">6</span>, <span class="number">4</span>:<span class="number">36</span>, <span class="number">5</span>:<span class="number">2</span>, <span class="number">6</span>:<span class="number">0</span>, <span class="number">7</span>:<span class="literal">None</span>&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales = pd.Series(dic)</span><br><span class="line">sales</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/32.png" style="zoom:120%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sales.sort_index()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/33.png" style="zoom:120%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales.sort_index(ascending = <span class="literal">True</span>, inplace= <span class="literal">True</span>)</span><br><span class="line">sales</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/33.png" style="zoom:120%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sales.sort_values(inplace=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/34.png" style="zoom:120%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales.sort_values(ascending=<span class="literal">False</span>, na_position=<span class="string">"last"</span>, inplace= <span class="literal">True</span>)</span><br><span class="line">sales</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/35.png" style="zoom:120%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;<span class="string">"Mon"</span>:<span class="number">10</span>, <span class="string">"Tue"</span>:<span class="number">25</span>, <span class="string">"Wed"</span>:<span class="number">6</span>, <span class="string">"Thu"</span>: <span class="number">36</span>, <span class="string">"Fri"</span>: <span class="number">2</span>&#125;</span><br><span class="line">dic</span><br><span class="line"><span class="comment">#&#123;'Mon': 10, 'Tue': 25, 'Wed': 6, 'Thu': 36, 'Fri': 2&#125;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales = pd.Series(dic)</span><br><span class="line">sales</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/36.png" style="zoom:120%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sales.sort_index(ascending=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/37.png" style="zoom:120%;"></p>
<h3 id="nlargest-and-nsmallest"><a href="#nlargest-and-nsmallest" class="headerlink" title="nlargest() and nsmallest()"></a>nlargest() and nsmallest()</h3><p>在pandas库里面，我们常常关心的是最大的前几个，比如销售最好的几个产品，几个店，等。之前讲到的head(), 能够看到看到DF里面的前几行，如果需要看到最大或者最小的几行就需要先进行排序。max()和min()可以看到最大或者最小值，但是只能看到一个值。</p>
<p>所以我们可以使用nlargest()函数，nlargest()的优点就是能一次看到最大的几行，而且不需要排序。 同理nsmallest()则是一次看到最小的几行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic = pd.read_csv(<span class="string">"titanic.csv"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.head()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/38.png" style="zoom:100%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age = titanic.age</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.sort_values(ascending=<span class="literal">False</span>).head(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/39.png" style="zoom: 150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.sort_values(ascending=<span class="literal">True</span>).iloc[:<span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/39.png" style="zoom: 150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.nlargest(n = <span class="number">3</span>).index[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age.nsmallest(n = <span class="number">3</span>).index[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<h3 id="idxmin-and-idxmax"><a href="#idxmin-and-idxmax" class="headerlink" title="idxmin() and idxmax()"></a>idxmin() and idxmax()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">titanic.age.idxmax()</span><br><span class="line"><span class="number">630</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">titanic.age.idxmin()</span><br><span class="line"><span class="number">803</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.loc[<span class="number">630</span>]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/40.png" style="zoom: 150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.loc[titanic.age.idxmin()]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/41.png" style="zoom: 150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;<span class="string">"Mon"</span>:<span class="number">10</span>,<span class="string">"Tue"</span>:<span class="number">25</span>, <span class="string">"Wed"</span>:<span class="number">6</span>, <span class="string">"Thu"</span>:<span class="number">36</span>, <span class="string">"Fri"</span>:<span class="number">2</span>, <span class="string">"Sat"</span>:<span class="number">0</span>, <span class="string">"Sun"</span>:<span class="literal">None</span>&#125;</span><br><span class="line">sales = pd.Series(dic)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales.sort_values(ascending=<span class="literal">True</span>).index[<span class="number">0</span>]</span><br><span class="line"><span class="string">'Sat'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales.idxmin()</span><br><span class="line"><span class="string">'Sat'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales.sort_values(ascending=<span class="literal">False</span>).index[<span class="number">0</span>]</span><br><span class="line"><span class="string">'Thu'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales.idxmax()</span><br><span class="line"><span class="string">'Thu'</span></span><br></pre></td></tr></table></figure>
<h3 id="Manipulating-Series"><a href="#Manipulating-Series" class="headerlink" title="Manipulating Series"></a>Manipulating Series</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales = pd.Series([<span class="number">10</span>,<span class="number">25</span>,<span class="number">6</span>,<span class="number">36</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="literal">None</span>,<span class="number">5</span>], index = [<span class="string">"Mon"</span>, <span class="string">"Tue"</span>, <span class="string">"Wed"</span>, <span class="string">"Thu"</span>, <span class="string">"Fri"</span>, <span class="string">"Sat"</span>, <span class="string">"Sun"</span>, <span class="string">"Mon"</span>])</span><br><span class="line">sales</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/42.png" style="zoom: 150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sales[<span class="string">"Sun"</span>] = <span class="number">0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sales</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/43.png" style="zoom: 150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales.iloc[<span class="number">3</span>] = <span class="number">30</span></span><br><span class="line">sales</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/44.png" style="zoom: 150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales_EUR = (sales/<span class="number">1.1</span>).round(<span class="number">2</span>)</span><br><span class="line">sales_EUR</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/45.png" style="zoom: 150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales = (sales/<span class="number">1.1</span>).round(<span class="number">2</span>)</span><br><span class="line">sales</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/45.png" style="zoom: 150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sales[<span class="string">"Mon"</span>] = <span class="number">0</span></span><br><span class="line">sales</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/07/Pandas%E5%9F%BA%E7%A1%802/46.png" style="zoom: 150%;"></p>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/08/05/Multiple-and-Polynomial-Regression/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/%5Bobject%20Object%5D">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/05/Multiple-and-Polynomial-Regression/" itemprop="url">Multiple_and_Polynomial_Regression</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-05T18:50:34+08:00">
                2020-08-05
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-10-07T15:57:10+08:00">
                2020-10-07
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Multiple-and-Polynomial-Regression"><a href="#Multiple-and-Polynomial-Regression" class="headerlink" title="Multiple and Polynomial Regression"></a>Multiple and Polynomial Regression</h1><p>学习自 Udemy课程以及博客 <a href="https://www.jianshu.com/p/82966686c68c" target="_blank" rel="noopener">https://www.jianshu.com/p/82966686c68c</a></p>
<h2 id="Multiple-Regression-多元回归"><a href="#Multiple-Regression-多元回归" class="headerlink" title="Multiple Regression 多元回归"></a>Multiple Regression 多元回归</h2><h3 id="Intuition"><a href="#Intuition" class="headerlink" title="Intuition"></a>Intuition</h3><p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/1.png" style="zoom:80%;"></p>
<p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/2.png" style="zoom:80%;"></p>
<p>我们来看着这次的数据集。Profit是我们要预测的量，剩下的R&amp;D Spend 、Marketing 、State 是自变量。我们要做的是根据数据集来构建一个线性回归模型。</p>
<p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/3.png" style="zoom:80%;"></p>
<p>每一个自变量就对应一个 $x_i$ 所以我们可以写出$y = b_0+b_1x_1+b_2x_2+b_3x_3…$ ,但是像State这样的量怎么用来计算呢？</p>
<p>我们需要引入虚拟变量(Dummy Variables) 的概念用以反映质的属性的一个人工变量，是量化了的自变量，通常取值为0或1。引入哑变量可使线形回归模型变得更复杂，但对问题描述更简明，一个方程能达到两个方程的作用，而且接近现实。例如，反映文化程度的虚拟变量可取为：1:本科学历；0：非本科学历</p>
<p>一般地，在虚拟变量的设置中：基础类型、肯定类型取值为1；比较类型，否定类型取值为0。</p>
<p>为什么要dummy化 </p>
<ul>
<li><p>若用数字1-12表示1-12月，那么就潜在表示了12月和1月差的很远，其实离的很近</p>
</li>
<li><p>若用离散数字表示一地域，假如用数字1-23表示23个省，那么数字潜在的意思是，相邻的数字代表的省比较相似，差距的数字表示的省不相似，然而并没有这个意思。所以用单纯用离散的数字表示类别可能会影响后面回归或分类的精度</p>
</li>
</ul>
<p><strong>模型中引入虚拟变量的作用：</strong></p>
<p>  1、分离异常因素的影响 </p>
<p>  2、检验不同属性类型对因变量的作用，例如工资模型中的文化程度、季节对销售额的影响。</p>
<p>  3、提高模型的精度，相当于将不同属性的样本合并，扩大了样本容量（增加了误差自由度，从而降低了误差方差）</p>
<p>另外要注意的是，dummy化不要冗余，比如有1-23个省，我们用22个0，1变量就可以表示，若22个变量都是0则表示第23个省。</p>
<p>在这个数据集当中，我们可以把State转换成Dummy Variables。比如下图。但事实上，我们只需要选择一列即可，因为这里只有New York和California两个选择。</p>
<p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/4.png" style="zoom:80%;"></p>
<p>那么我们可以把拟合线的公式这样来写：$y=b_0+b_1<em>x_1+b_2</em>x_2+b_3<em>x_3+b_4</em>D_1$ </p>
<p>当有100个互斥值的时候我们需要99个Dummy Variables，这样当所有Dummy Variable=0的时候就代表了第100个值</p>
<h3 id="如何创建一个模型"><a href="#如何创建一个模型" class="headerlink" title="如何创建一个模型"></a>如何创建一个模型</h3><p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/7.png" style="zoom:80%;"></p>
<p>拿到数据以后我们不能讲每一列都当作一个维度来加入到这个模型中，也不能将大多数的列都删除，这样就会让模型变得不稳定。</p>
<p><strong>数学建模有五种方法，第2-4种是逐步回归思路，是比较科学和系统的</strong></p>
<ul>
<li>All - in</li>
<li>Backward Elimination</li>
<li>Forward Selection</li>
<li>Bidirectional Elimination</li>
<li>Score Comparison</li>
</ul>
<h4 id="All-in"><a href="#All-in" class="headerlink" title="All-in"></a>All-in</h4><p>第一种我们要将所有的变量都加入到模型当中去。</p>
<h4 id="Backward-Elimination-后向逐步回归"><a href="#Backward-Elimination-后向逐步回归" class="headerlink" title="Backward Elimination(后向逐步回归)"></a>Backward Elimination(后向逐步回归)</h4><p>所有变量均放入模型，之后尝试将其中一个自变量从模型中剔除，看整个模型解释因变量的变异是否有显著变化，之后将对残差平方和贡献较小的变量剔除；此过程不断迭代，直到没有自变量符合剔除的条件。</p>
<ul>
<li>Step1： Select  a significance level to stay in the model（SL=0.05) SL代表显著性。统计学上通常把低于5%概率事件看做小概率事件，5%就是significance level，也就是认定是异常的界限。</li>
<li>Step2：使用所有的自变量来拟合出一个模型</li>
<li>Step3:  对于这个模型当中的每一个自变量都来计算它的P值（P-value）,来显示它对我们模型有多大的影响力，然后我们取这个最高的P值，假设这个P&gt;SL,就继续往第四步，否则就算法结束。<ul>
<li>关于p-value <a href="https://www.cnblogs.com/lijingblog/p/11043513.html" target="_blank" rel="noopener">https://www.cnblogs.com/lijingblog/p/11043513.html</a></li>
<li><a href="https://www.mathbootcamps.com/what-is-a-p-value/" target="_blank" rel="noopener">https://www.mathbootcamps.com/what-is-a-p-value/</a></li>
<li>【为什么小于0.05就很重要？】大部分时候，我们假设错误拒绝H0的概率为0.05，所以如果p值小于0.05，说明错误拒绝H0的概率很低，则我们有理由相信H0本身就是错误的，而非检验错误导致。大部分时候p-value用于<strong>检验独立变量与输入变量</strong>的关系，H0假设通常为假设两者没有关系，所以若p值小于0.05，则可以推翻H0（两者没有关系），推出H1（两者有关系）。</li>
<li>所以说当 p-value大于SL的时候，我们就要移除这个predictor</li>
</ul>
</li>
<li>Step4:最高的P值对应的那个自变量我们就要将它从我们的模型中去除</li>
<li>去除了一个自变量后，在用剩下的自变量重新对模型进行拟合</li>
</ul>
<p>因此这里就是一个第三步到第五步的一个循环，直到所有剩下的P值都比SL要小，这样就说明模型已经拟合好了</p>
<h4 id="Forward-Selection-前向逐步回归"><a href="#Forward-Selection-前向逐步回归" class="headerlink" title="Forward Selection(前向逐步回归)"></a>Forward Selection(前向逐步回归)</h4><p>向前法的思想是变量由少到多，属于贪心算法，每次增加一个，直至没有可引入的变量为止。具体步骤如下。</p>
<ul>
<li>Step1： Select a significance level to enter the model(e.g. SL = 0.05)</li>
<li>Step2：我们在这边对每个自变量 $x_n$ 都进行简单线性回归拟合，分别得到它们的P值，然后取得它们中最低的。</li>
<li>Step3：对于这个最低的P值，我们的结论就是这个自变量它对我们将要拟合的模型的影响是最大的，所以说，我们会保留这个自变量</li>
<li>Step4：我们再看剩下的自变量当中加上哪一个会给我们带来最小的P值，假如说新的P值比我们之前定义的SL小，那就重新回到第三步，也就是第三步又加入了一个新的变量然后在接下来剩下的变量当中，重新找最大的P值，然后继续加到模型当中， </li>
</ul>
<h4 id="Bidirectional-Elimination"><a href="#Bidirectional-Elimination" class="headerlink" title="Bidirectional Elimination"></a>Bidirectional Elimination</h4><p>所谓双向淘汰，其实就是对之前的两种算法的结合</p>
<ul>
<li>Step1：我们需要选择两个显著性门槛：一个旧的变量是否应该被剔除和一个新的还没有被采纳的变量是否应当进入我们的模型。(e.g.:SLENTER = 0.05,SLSTAY = 0.05)</li>
<li>Step2:我们要进行顺向选择，来决定是否采纳一个新的自变量。(new variables must have:P&lt;SLENTER to enter)</li>
<li>Step3: 要进行反向淘汰，也就是我们可能要剔除旧的变量 (old variables must have P&lt;SLSTAY to stay)</li>
<li>Step4：在第二第三步之间进行循环，由于已经定义了两个门槛，但出现新的出不去，旧的进不来时，就说明模型已经拟合好了。</li>
</ul>
<h4 id="All-Possible-Models-信息量比较"><a href="#All-Possible-Models-信息量比较" class="headerlink" title="All Possible Models 信息量比较"></a>All Possible Models 信息量比较</h4><p>对于所有可能的模型，我们对它们进行逐一的打分，对于多元线性回归，如果有N个自变量，那么就有$2^N-1$个不同的模型 </p>
<ul>
<li>Step1: Select a criterion of goodness of fit(e.g. Akaike criterion)</li>
<li>Step2: Construct All Possible Regression Models: $2^N-1$ total combinations</li>
<li>Step3: Select the one with the best criterion</li>
</ul>
<p>Fin: Your model is Ready</p>
<p>那这里就会有一个问题，如果N很大的时候，模型的数量就会非常庞大。所以说这个方法虽然直觉上很好理解，但自变量数量很大时就不适合使用这种方法。</p>
<h3 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h3><p>对于上面的数据集，我们首先要做一些简单的数据处理：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dataset = pd.read_csv(<span class="string">'50_Startups.csv'</span>)</span><br><span class="line">X = dataset.iloc[:, :<span class="number">-1</span>].values</span><br><span class="line">y = dataset.iloc[:, <span class="number">-1</span>].values</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.compose <span class="keyword">import</span> ColumnTransformer</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> OneHotEncoder</span><br><span class="line">ct = ColumnTransformer(transformers=[(<span class="string">'encoder'</span>, OneHotEncoder(), [<span class="number">3</span>])], remainder=<span class="string">'passthrough'</span>)</span><br><span class="line">X = np.array(ct.fit_transform(X))</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/8.png" style="zoom:80%;"></p>
<p>目的就是将三个州化成0、1这样的dummy variable</p>
<p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/9.png" style="zoom:80%;"></p>
<p>随后我们就可以交给线性回归模型去训练了。注意，交给回归模型训练不需要删除一列dummy variable，也不需要选择哪一个variable的影响最大。因为这些python都帮我们做好了，事实上我们只需要两三行代码就可以完成模型训练了。所以我们更本不用担心变量的选取是否准确</p>
<p>接下来是将数据集分为训练集和测试集并交给LinearRegression进行训练：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = <span class="number">0.2</span>, random_state = <span class="number">0</span>)</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line">regressor = LinearRegression()</span><br><span class="line">regressor.fit(X_train, y_train)</span><br></pre></td></tr></table></figure>
<p>训练完成之后，我们只要对测试集进行预测即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">y_pred = regressor.predict(X_test)</span><br><span class="line">np.set_printoptions(precision=<span class="number">2</span>)<span class="comment"># 这边是对打印的数据格式进行一个设置，也就是在两个小数之间添加一个逗号</span></span><br><span class="line">print(np.concatenate((y_pred.reshape(len(y_pred),<span class="number">1</span>), y_test.reshape(len(y_test),<span class="number">1</span>)),<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>reshape就是将横向的向量变成竖向的向量。len(y_pred) 计算向量长度，1就代表按照y轴排列，也就是竖向排列</p>
<p>最后预测出来的结果和真实的结果进行一个比较</p>
<p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/10.png" style="zoom:100%;"></p>
<h2 id="Polynomial-Regression-多项式回归"><a href="#Polynomial-Regression-多项式回归" class="headerlink" title="Polynomial Regression 多项式回归"></a>Polynomial Regression 多项式回归</h2><p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/5.png" style="zoom:80%;"></p>
<p>对于抛物线来说，线性回归是没有办法模拟出来的。但是可以用多项式回归模拟出来</p>
<p>这个表达式和多元线性回归非常像，唯一的区别就是多项式线性回归中存在很多次方项，而多元线性回归中是多个变量。实际上这里可以把多元线性回归中的多个变量理解成多项式中的$x_n^2$ .所谓线性，看的是 $b_0$一直到$b_n$ 这些参数的一个线性组合，跟自变量是否线性其实没什么关系，因此这种情况依然是线性的。当然也存在非线性的多项式回归，比如这里假设公式是 $y=b_0/b_2+b_3x_3$ 这时候就不是关于 $b_0$ 一直到 $b_n$ 这些参数的线性表达式了</p>
<p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/6.png" style="zoom:80%;"></p>
<p>多项式模型在研究病毒传播等大流行病中能比简单线性回归模型更好的完成任务。</p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><p>现在有一个数据集：</p>
<p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/11.png" style="zoom:100%;"></p>
<p>我们选择x和y,其中x就是level，y是Salary</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dataset = pd.read_csv(<span class="string">'Position_Salaries.csv'</span>)</span><br><span class="line">X = dataset.iloc[:, <span class="number">1</span>:<span class="number">-1</span>].values</span><br><span class="line">y = dataset.iloc[:, <span class="number">-1</span>].values</span><br></pre></td></tr></table></figure>
<p>接下来我们做一个 Linear Regression和 Polynomial Regression的对比</p>
<p><strong>Linear Regression</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line">lin_reg = LinearRegression()</span><br><span class="line">lin_reg.fit(X, y)</span><br></pre></td></tr></table></figure>
<p><strong>Polynomial Regression</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> PolynomialFeatures</span><br><span class="line"><span class="comment"># 也就是多项式的最高次数</span></span><br><span class="line">poly_reg = PolynomialFeatures(degree = <span class="number">2</span>)</span><br><span class="line"><span class="comment"># 然后将一个X转化成 x_poly,也就是将原来的Level变成一个新的feature matrix (x+x^2)</span></span><br><span class="line">X_poly = poly_reg.fit_transform(X)</span><br><span class="line">lin_reg_2 = LinearRegression()</span><br><span class="line">lin_reg_2.fit(X_poly, y)</span><br></pre></td></tr></table></figure>
<p>然后我们来看看两种方式的拟合结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Visualising the Linear Regression results</span></span><br><span class="line">plt.scatter(X, y, c=<span class="string">'r'</span>)</span><br><span class="line">plt.plot(X, lin_reg.predict(X), c=<span class="string">'b'</span>)</span><br><span class="line">plt.title(<span class="string">'Truth or Bluff (Linear Regression)'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Position Level'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Salary'</span>)</span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment"># Visualising the Polynomial Regression results</span></span><br><span class="line">plt.scatter(X, y, c=<span class="string">'r'</span>)</span><br><span class="line">plt.plot(X, lin_reg.predict(X), c=<span class="string">'b'</span>)</span><br><span class="line">plt.plot(X, lin_reg2.predict(poly_reg.fit_transform(X)), c=<span class="string">'b'</span>)</span><br><span class="line">plt.title(<span class="string">'Truth or Bluff (Polynomial Regression)'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Position Level'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Salary'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/12.png" style="zoom:100%;"></p>
<p>我们看到是Polynomial regression 拟合的更好一些，但也不是完全贴合</p>
<p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/13.png" style="zoom:100%;"></p>
<p>于是我们使用更高阶来试试，将poly_reg 改为 PolynomialFeatures(degree = 4)，并用plt对图像进行一个优化，得到如下的拟合曲线。发现基本能够完全贴合</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">X_grid = np.arange(min(X), max(X), <span class="number">0.1</span>)</span><br><span class="line">X_grid = X_grid.reshape((len(X_grid), <span class="number">1</span>))</span><br><span class="line">plt.scatter(X, y, color = <span class="string">'red'</span>)</span><br><span class="line">plt.plot(X_grid, lin_reg_2.predict(poly_reg.fit_transform(X_grid)), color = <span class="string">'blue'</span>)</span><br><span class="line">plt.title(<span class="string">'Truth or Bluff (Polynomial Regression)'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Position level'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Salary'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/05/Multiple-and-Polynomial-Regression/14.png" style="zoom:100%;"></p>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/08/05/Simple-Linear-Regression/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/%5Bobject%20Object%5D">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/05/Simple-Linear-Regression/" itemprop="url">Simple_Linear_Regression</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-05T14:54:53+08:00">
                2020-08-05
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-10-07T18:39:30+08:00">
                2020-10-07
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Simple-Linear-Regression"><a href="#Simple-Linear-Regression" class="headerlink" title="Simple Linear Regression"></a>Simple Linear Regression</h1><h2 id="Intuition"><a href="#Intuition" class="headerlink" title="Intuition"></a>Intuition</h2><p>线性回归是利用数理统计中回归分析，来确定两种或两种以上变量间相互依赖的定量关系的一种统计。在散点图上绘制一条直线，使得这条直线尽可能多通过数据点，要求出最佳拟合线需要求出回归方程y=a+bx，其中a为截距，b为回归系数，在方程中使得y的实际观察值与每个x相对应的y</p>
<p><img src="/2020/08/05/Simple-Linear-Regression/1.png" style="zoom:80%;"></p>
<p><img src="/2020/08/05/Simple-Linear-Regression/2.png" style="zoom:80%;"></p>
<p>那么怎么来拟合这条曲线呢？事实上我们需要画很多很多的曲线，然后$\sum (y_i-\hat y_i)$的最小值。当$\sum (y_i-\hat y_i)$取得最小时，这条线就是我们需要得拟合直线</p>
<p><img src="/2020/08/05/Simple-Linear-Regression/3.png" style="zoom:80%;"></p>
<h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><p>下面来介绍实现简单线性回归的代码。我们使用一个简单的实例：工作年数与薪水多少的关系。下面是我们的原始数据集：第一列代表了员工的工作年数，第二列代表了员工当前的薪水。我们的目标很简单，就是创建一个简单线性回归模型，经过训练之后，得到工作年数和薪水之间的关系，然后根据一些员工的工作年数来预测一些员工的薪水</p>
<p><img src="/2020/08/05/Simple-Linear-Regression/4.png" style="zoom:150%;"></p>
<p>这是我们的模板：</p>
<p><img src="/2020/08/05/Simple-Linear-Regression/5.png" style="zoom:100%;"></p>
<p>现在我们来训练简单线性回归模型。很简单我们导入一个库即可。首先我们从sklearn中导入LinearRegression类，然后令 regressor等于一个LinearRegression类。最后让fit()方法，填入训练集的x,y就能拟合出简单线性回归模型了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line">regressor =  LinearRegression()</span><br><span class="line">regressor.fit(X_train,y_train)</span><br></pre></td></tr></table></figure>
<p>然后我们要把这个训练好的简单线性回归模型放到测试集当中去，用它来预测测试集当中Years对应的Salary值。很简单我们只要一句代码即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y_pred = regressor.predict(X_test)</span><br></pre></td></tr></table></figure>
<p>array([ 40835.10590871, 123079.39940819,  65134.55626083,  63265.36777221,       115602.64545369, 108125.8914992 , 116537.23969801,  64199.96201652,  76349.68719258, 100649.1375447 ])</p>
<p>这就是预测后的结果。我们令其为 y_pred</p>
<p>最后我们来可视化训练的结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(X_train, y_train, color = <span class="string">'red'</span>)</span><br><span class="line">plt.plot(X_train, regressor.predict(X_train), color = <span class="string">'blue'</span>)</span><br><span class="line">plt.title(<span class="string">'Salary vs Experience (Training set)'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Years of Experience'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Salary'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/05/Simple-Linear-Regression/6.png" style="zoom:150%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(X_test, y_test, color = <span class="string">'red'</span>)</span><br><span class="line">plt.plot(X_train, regressor.predict(X_train), color = <span class="string">'blue'</span>)</span><br><span class="line">plt.title(<span class="string">'Salary vs Experience (Test set)'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Years of Experience'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Salary'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/08/05/Simple-Linear-Regression/7.png" style="zoom:150%;"></p>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/07/19/pandas%E5%9F%BA%E7%A1%801/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/%5Bobject%20Object%5D">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/" itemprop="url">pandas基础1</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-19T14:41:08+08:00">
                2020-07-19
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-01T18:37:50+08:00">
                2020-08-01
              </time>
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="pandas基础1"><a href="#pandas基础1" class="headerlink" title="pandas基础1"></a>pandas基础1</h1><p>pandas操作技巧：tab自动补全，shift+tab 显示方法中的参数等提示信息</p>
<h2 id="Pandas-Basics"><a href="#Pandas-Basics" class="headerlink" title="Pandas Basics"></a>Pandas Basics</h2><p>如何创建，读取文件的操作这里就不再提了。</p>
<h3 id="Pandas-Display-Option-and-head-amp-tail"><a href="#Pandas-Display-Option-and-head-amp-tail" class="headerlink" title="Pandas Display Option and head() &amp; tail()"></a>Pandas Display Option and head() &amp; tail()</h3><p>显示一张表格的内容我们可以直接输入dataframe的名字也可以利用python的语法print将其打印出</p>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/1.png"></p>
<p>我们还可以利用代码现实一些pd显示的规律。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pd.options.display.max_rows </span><br><span class="line"><span class="comment"># 60</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pd.options.display.min_rows </span><br><span class="line"><span class="comment"># 10</span></span><br></pre></td></tr></table></figure>
<p>默认情况下， max_rows是60，也就是说60行以下的会全部打印或展示。</p>
<p>min_rows是10，也就是说当数据超过了60行之后，只会展示10行，也就是头5行和尾5行</p>
<p>我们可以设置 pd.options.display.min_rows =20，那么，就会显示头10行和尾10行</p>
<p>我们也可以利用 head()和tail()方法来显示头尾，默认是5 行，但是head(10)即是显示头10行</p>
<h3 id="First-Data-Inspection"><a href="#First-Data-Inspection" class="headerlink" title="First Data Inspection"></a>First Data Inspection</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic</span><br></pre></td></tr></table></figure>
<p>我们可以利用 info()方法展示titanic数据表的基本信息，比如数据类型之列的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.info()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/2.png" style="zoom:150%;"></p>
<p>利用describe()方法，可以自动统计一些信息。每列的均值、标准差、最小值、最大值、中位数、四分位数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.describe()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/3.png" style="zoom:120%;"></p>
<p>此外，我们利用describe，可进行特定数据类型的统计。比如这里include = “O” 就代表所有数据类型为Object的列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.describe(include = <span class="string">"O"</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/4.png" style="zoom:150%;"></p>
<h3 id="Python-Built-in-Functions-amp-DataFrame-Attributes-and-Methods"><a href="#Python-Built-in-Functions-amp-DataFrame-Attributes-and-Methods" class="headerlink" title="Python Built-in Functions &amp; DataFrame Attributes and Methods"></a>Python Built-in Functions &amp; DataFrame Attributes and Methods</h3><h4 id="DataFrames-and-Python-Built-in-Functions"><a href="#DataFrames-and-Python-Built-in-Functions" class="headerlink" title="DataFrames and Python Built-in Functions"></a>DataFrames and Python Built-in Functions</h4><p>利用type展示数据表类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type(titanic)</span><br><span class="line"><span class="comment">#pandas.core.frame.DataFrame</span></span><br></pre></td></tr></table></figure>
<p>利用len展示数据表的行数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">len(titanic)</span><br></pre></td></tr></table></figure>
<p>用round对数据表中的数值进行四舍五入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">round(titanic, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/5.png"></p>
<p>利用min(数据表) 只能得到 一个列名，这是由列字符表排序得到的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">min(titanic)</span><br><span class="line"><span class="comment"># age</span></span><br></pre></td></tr></table></figure>
<h4 id="DataFrame-Attributes"><a href="#DataFrame-Attributes" class="headerlink" title="DataFrame Attributes"></a>DataFrame Attributes</h4><p>这里是一些DataFrame的属性。shape显示DataFrame的行列。titanic数据集有891行，9列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">titanic.shape</span><br><span class="line"><span class="comment"># (891, 9)</span></span><br></pre></td></tr></table></figure>
<p>size属性是行和列的积</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">titanic.size</span><br><span class="line"><span class="comment"># 8019</span></span><br></pre></td></tr></table></figure>
<p>index显示数据集的索引</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">titanic.index</span><br><span class="line"><span class="comment"># RangeIndex(start=0, stop=891, step=1)</span></span><br></pre></td></tr></table></figure>
<p>columns显示数据集的列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">titanic.columns</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">Index(['survived', 'pclass', 'sex', 'age', 'sibsp', 'parch', 'fare',</span></span><br><span class="line"><span class="string">       'embarked', 'deck'],</span></span><br><span class="line"><span class="string">      dtype='object')</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>
<h4 id="DataFrame-Methods"><a href="#DataFrame-Methods" class="headerlink" title="DataFrame Methods"></a>DataFrame Methods</h4><p>head(n = 2) 也可以写作 head(2) ,显示头两列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.head(n = <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">titanic.min()</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">survived         0</span></span><br><span class="line"><span class="string">pclass           1</span></span><br><span class="line"><span class="string">sex         female</span></span><br><span class="line"><span class="string">age           0.42</span></span><br><span class="line"><span class="string">sibsp            0</span></span><br><span class="line"><span class="string">parch            0</span></span><br><span class="line"><span class="string">fare             0</span></span><br><span class="line"><span class="string">dtype: object</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>
<h4 id="Method-Chaining"><a href="#Method-Chaining" class="headerlink" title="Method Chaining"></a>Method Chaining</h4><p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/frame.html" target="_blank" rel="noopener">https://pandas.pydata.org/pandas-docs/stable/reference/frame.html</a></p>
<p>采用链式方法可以很方便的达成一系列的功能</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">titanic.mean().sort_values().head(<span class="number">2</span>)</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">parch       0.381594</span></span><br><span class="line"><span class="string">survived    0.383838</span></span><br><span class="line"><span class="string">dtype: float64</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>
<h3 id="Selecting-Columns"><a href="#Selecting-Columns" class="headerlink" title="Selecting Columns"></a>Selecting Columns</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type(titanic[<span class="string">"age"</span>])</span><br><span class="line"><span class="comment">#pandas.core.series.Series</span></span><br></pre></td></tr></table></figure>
<p>下面这种直接选两列的方法是错误的，会报错</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#titanic["age", "sex"]</span></span><br></pre></td></tr></table></figure>
<p>如果需要选择多列，需要用二维数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic[[<span class="string">"age"</span>, <span class="string">"sex"</span>]]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/6.png" style="zoom:150%;"></p>
<p>单列是Series，多列则为DataFrame</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type(titanic[[<span class="string">"age"</span>, <span class="string">"sex"</span>]])</span><br><span class="line"><span class="comment"># pandas.core.frame.DataFrame</span></span><br></pre></td></tr></table></figure>
<p>但是如果二维数组中只有一列，也是Dataframe</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(titanic[[<span class="string">"age"</span>]])</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/7.png" style="zoom:100%;"></p>
<h3 id="Selecting-one-Column-with-“dot-notation”"><a href="#Selecting-one-Column-with-“dot-notation”" class="headerlink" title="Selecting one Column with “dot notation”"></a>Selecting one Column with “dot notation”</h3><p>我们利用方括号获取一列，也可以通过点运算符来获取一列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.age</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/8.png" style="zoom:100%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">titanic.age.equals(titanic[<span class="string">"age"</span>])</span><br><span class="line"><span class="comment"># Tru</span></span><br></pre></td></tr></table></figure>
<h3 id="Position-based-Indexing-and-Slicing-with-iloc"><a href="#Position-based-Indexing-and-Slicing-with-iloc" class="headerlink" title="Position-based Indexing and Slicing with iloc[]"></a>Position-based Indexing and Slicing with iloc[]</h3><p>我们可以利用iloc来定位和选取特定行、列的信息</p>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/9.png" style="zoom:80%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<p>index_col得意思就是在读数据的时候将某一列作为索引，索引可以重复地出现</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer = pd.read_csv(<span class="string">"summer.csv"</span>, index_col = <span class="string">"Athlete"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.info()</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/10.png" style="zoom:80%;"></p>
<h4 id="Selecting-Rows-with-iloc"><a href="#Selecting-Rows-with-iloc" class="headerlink" title="Selecting Rows with iloc[]"></a>Selecting Rows with iloc[]</h4><p>我们可以利用iloc[] 来定位行。</p>
<p>比如iloc[0]就是第一行 iloc[-1]是最后一行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type(summer.iloc[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># pandas.core.series.Series</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<p>用二维数组我们可以选择多行，这时候就组成一张表了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/11.png" style="zoom:80%;"></p>
<p>iloc[1:4]与summer.iloc[[1, 2, 3]]等价，就是2.3.4行iloc[4]不包含其中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[<span class="number">1</span>:<span class="number">4</span>]</span><br></pre></td></tr></table></figure>
<p>前五行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[:<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<p>倒数五行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[<span class="number">-5</span>:]</span><br></pre></td></tr></table></figure>
<p>所有行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[:]</span><br></pre></td></tr></table></figure>
<p>选择特定行组成表格</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[[<span class="number">2</span>, <span class="number">45</span>, <span class="number">5467</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="Indexing-Slicing-Rows-and-Columns-with-iloc"><a href="#Indexing-Slicing-Rows-and-Columns-with-iloc" class="headerlink" title="Indexing/Slicing Rows and Columns with iloc[]"></a>Indexing/Slicing Rows and Columns with iloc[]</h4><p>我们可以用iloc[]提取特定区域的信息</p>
<p>iloc[0,4]代表第一行第五列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[<span class="number">0</span>, <span class="number">4</span>]</span><br><span class="line"><span class="string">'HUN'</span></span><br></pre></td></tr></table></figure>
<p>iloc[0, :3] 代表着第一行的前面3列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[<span class="number">0</span>, :<span class="number">3</span>]</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">Year         1896</span></span><br><span class="line"><span class="string">City       Athens</span></span><br><span class="line"><span class="string">Sport    Aquatics</span></span><br><span class="line"><span class="string">Name: HAJOS, Alfred, dtype: object</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>
<p>iloc[0, [0, 2, 5, 7]]代表第一行的第1，3，6，8列</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[<span class="number">0</span>, [<span class="number">0</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>]]</span><br></pre></td></tr></table></figure>
<p>iloc[34:39, [0, 2, 5, 7]] 代表第35-40行第1，3，6，8列信息</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[<span class="number">34</span>:<span class="number">39</span>, [<span class="number">0</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>]]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/12.png" style="zoom:100%;"></p>
<h4 id="Selecting-Columns-with-iloc"><a href="#Selecting-Columns-with-iloc" class="headerlink" title="Selecting Columns with iloc[]"></a>Selecting Columns with iloc[]</h4><p>我们同样通过iloc选择一整列的信息。</p>
<p>iloc[:,4]就是选择所有的行的第5列的信息</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[:,<span class="number">4</span>]</span><br><span class="line"><span class="string">'''Athlete</span></span><br><span class="line"><span class="string">HAJOS, Alfred                HUN</span></span><br><span class="line"><span class="string">HERSCHMANN, Otto             AUT</span></span><br><span class="line"><span class="string">DRIVAS, Dimitrios            GRE</span></span><br><span class="line"><span class="string">MALOKINIS, Ioannis           GRE</span></span><br><span class="line"><span class="string">CHASAPIS, Spiridon           GRE</span></span><br><span class="line"><span class="string">                            ... </span></span><br><span class="line"><span class="string">JANIKOWSKI, Damian           POL</span></span><br><span class="line"><span class="string">REZAEI, Ghasem Gholamreza    IRI</span></span><br><span class="line"><span class="string">TOTROV, Rustam               RUS</span></span><br><span class="line"><span class="string">ALEKSANYAN, Artur            ARM</span></span><br><span class="line"><span class="string">LIDBERG, Jimmy               SWE</span></span><br><span class="line"><span class="string">Name: Country, Length: 31165, dtype: object</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[:, <span class="number">4</span>].equals(summer.Country)</span><br><span class="line"><span class="comment"># True</span></span><br></pre></td></tr></table></figure>
<p>当然我们完全没必要用上面那么麻烦的方法，直接summer[‘Country’]可以获得相同的结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer[<span class="string">"Country"</span>]</span><br></pre></td></tr></table></figure>
<h3 id="Label-based-Indexing-and-Slicing-with-loc"><a href="#Label-based-Indexing-and-Slicing-with-loc" class="headerlink" title="Label-based Indexing and Slicing with loc[]"></a>Label-based Indexing and Slicing with loc[]</h3><h4 id="Selecting-Rows-with-loc"><a href="#Selecting-Rows-with-loc" class="headerlink" title="Selecting Rows with loc[]"></a>Selecting Rows with loc[]</h4><p>除了坐标定位，我们可以直接标签定位。效果是一样的，但是要使用loc[]而不是iloc[]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[<span class="number">2</span>]</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">Year                                1896</span></span><br><span class="line"><span class="string">City                              Athens</span></span><br><span class="line"><span class="string">Sport                           Aquatics</span></span><br><span class="line"><span class="string">Discipline                      Swimming</span></span><br><span class="line"><span class="string">Country                              GRE</span></span><br><span class="line"><span class="string">Gender                               Men</span></span><br><span class="line"><span class="string">Event         100M Freestyle For Sailors</span></span><br><span class="line"><span class="string">Medal                             Bronze</span></span><br><span class="line"><span class="string">Name: DRIVAS, Dimitrios, dtype: object</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[<span class="string">"DRIVAS, Dimitrios"</span>]</span><br></pre></td></tr></table></figure>
<p>如果同一个运动员参加了多场比赛。那么他的数据就会形成一张Dataframe</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[<span class="string">'PHELPS,Michael'</span>]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/13.png" style="zoom:100%;"></p>
<h4 id="Indexing-Slicing-Rows-and-Columns-with-loc"><a href="#Indexing-Slicing-Rows-and-Columns-with-loc" class="headerlink" title="Indexing/Slicing Rows and Columns with loc[]"></a>Indexing/Slicing Rows and Columns with loc[]</h4><p>我们可以用标签定位数据或者截取特定区域的信息。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[<span class="string">"PHELPS, Michael"</span>, <span class="string">"Medal"</span>]</span><br><span class="line"><span class="string">'''Athlete</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael    Bronze</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael    Bronze</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael    Silver</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael    Silver</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">PHELPS, Michael      Gold</span></span><br><span class="line"><span class="string">Name: Medal, dtype: object'''</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[<span class="string">"PHELPS, Michael"</span>, [<span class="string">"Medal"</span>, <span class="string">"Event"</span>]]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/14.png" style="zoom:100%;"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[[<span class="string">"PHELPS, Michael"</span>, <span class="string">"LEWIS, Carl"</span>], [<span class="string">"Medal"</span>, <span class="string">"Event"</span>]]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/15.png" style="zoom:100%;"></p>
<p>我们也可以选择所有的列，这笔数字更加直观</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[:, [<span class="string">"Medal"</span>, <span class="string">"Event"</span>]]</span><br></pre></td></tr></table></figure>
<p>loc[:”CHASAPIS, Spiridon”]选择前几行，一直到CHASAPIS, Spiridon所在的行为止(包含)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[:<span class="string">"CHASAPIS, Spiridon"</span>]</span><br></pre></td></tr></table></figure>
<p>但是下面loc[:”PHELPS, Michael”]却是非法的，会报错。这是因为索引菲利普斯并不唯一，他参加过很多届奥运会。同理summer.loc[“PHELPS, Michael”:]也是错误的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#summer.loc[:"PHELPS, Michael"]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#summer.loc["PHELPS, Michael":]</span></span><br></pre></td></tr></table></figure>
<p>选择从DRIVAS, Dimitrios到BLAKE, Arthur 关于City和Discipline两列的信息</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[<span class="string">"DRIVAS, Dimitrios"</span>:<span class="string">"BLAKE, Arthur"</span>, <span class="string">"City"</span>:<span class="string">"Discipline"</span>]</span><br></pre></td></tr></table></figure>
<p>这样写在pandas 1.0中是非法的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#summer.loc[["PHELPS, Michael", "DUCK, Donald"]]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#summer.loc["PHELPS, Michael", ["Year", "Age"]]</span></span><br><span class="line"><span class="comment"># Passing list-likes to .loc or [] with any missing labels is no longer supported</span></span><br></pre></td></tr></table></figure>
<h3 id="Indexing-and-Slicing-with-reindex"><a href="#Indexing-and-Slicing-with-reindex" class="headerlink" title="Indexing and Slicing with reindex()"></a>Indexing and Slicing with reindex()</h3><p>reindex()方法，可以让我们选出特定的行和列。在规定行列的时候一定要规定 index 和 columns 否则会报错</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer = pd.read_csv(<span class="string">"summer.csv"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#summer.loc[[0, 5, 30000, 40000], ["Athlete", "Medal"]]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.reindex(index = [<span class="number">0</span>, <span class="number">5</span>, <span class="number">30000</span>, <span class="number">40000</span>], columns =  [<span class="string">"Athlete"</span>, <span class="string">"Medal"</span>, <span class="string">"Age"</span>])</span><br></pre></td></tr></table></figure>
<p>如果只选择列的话那么会默认选择所有行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer = pd.read_csv(<span class="string">"summer.csv"</span>, index_col = <span class="string">"Athlete"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.reindex(columns = [<span class="string">"Medal"</span>, <span class="string">"Age"</span>])</span><br></pre></td></tr></table></figure>
<p>同样的，index不能选择重复的，否则会报错</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#summer.reindex(index = ["PHELPS, Michael"], columns = ["Medal", "Age"])</span></span><br></pre></td></tr></table></figure>
<h3 id="Summary-and-Outlook"><a href="#Summary-and-Outlook" class="headerlink" title="Summary and Outlook"></a>Summary and Outlook</h3><h4 id="Importing-from-CSV-and-first-Inspection"><a href="#Importing-from-CSV-and-first-Inspection" class="headerlink" title="Importing from CSV and first Inspection"></a>Importing from CSV and first Inspection</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer = pd.read_csv(<span class="string">"summer.csv"</span>, index_col = <span class="string">"Athlete"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.info()</span><br></pre></td></tr></table></figure>
<h4 id="Selecting-one-Column"><a href="#Selecting-one-Column" class="headerlink" title="Selecting one Column"></a>Selecting one Column</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.Medal</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer[<span class="string">"Medal"</span>]</span><br></pre></td></tr></table></figure>
<h4 id="Selecting-multiple-Columns"><a href="#Selecting-multiple-Columns" class="headerlink" title="Selecting multiple Columns"></a>Selecting multiple Columns</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer[[<span class="string">"Year"</span>, <span class="string">"Medal"</span>]]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[:, [<span class="string">"Year"</span>, <span class="string">"Medal"</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="Selecting-positional-rows"><a href="#Selecting-positional-rows" class="headerlink" title="Selecting positional rows"></a>Selecting positional rows</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[<span class="number">10</span>:<span class="number">21</span>]</span><br></pre></td></tr></table></figure>
<h4 id="Selecting-labeled-rows"><a href="#Selecting-labeled-rows" class="headerlink" title="Selecting labeled rows"></a>Selecting labeled rows</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[<span class="string">"LEWIS, Carl"</span>]</span><br></pre></td></tr></table></figure>
<h4 id="Putting-it-all-together"><a href="#Putting-it-all-together" class="headerlink" title="Putting it all together"></a>Putting it all together</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer[[<span class="string">"Year"</span>, <span class="string">"Event"</span>, <span class="string">"Medal"</span>]].loc[<span class="string">"LEWIS, Carl"</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[<span class="string">"LEWIS, Carl"</span>][[<span class="string">"Year"</span>, <span class="string">"Event"</span>, <span class="string">"Medal"</span>]]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[<span class="string">"LEWIS, Carl"</span>, [<span class="string">"Year"</span>, <span class="string">"Event"</span>, <span class="string">"Medal"</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="Outlook-Pandas-Objects"><a href="#Outlook-Pandas-Objects" class="headerlink" title="Outlook Pandas Objects"></a>Outlook Pandas Objects</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(summer)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer[<span class="string">"Year"</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(summer[<span class="string">"Year"</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.columns</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(summer.columns)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.index</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(summer.index)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Advanced-Indexing-and-Slicing-optional"><a href="#Advanced-Indexing-and-Slicing-optional" class="headerlink" title="Advanced Indexing and Slicing (optional)"></a>Advanced Indexing and Slicing (optional)</h3><p><strong>Case 1: Getting the first 5 rows and rows 354 and 765</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rows = list(range(<span class="number">5</span>)) + [<span class="number">354</span>, <span class="number">765</span>]</span><br><span class="line">rows</span><br></pre></td></tr></table></figure>
<p>[0, 1, 2, 3, 4, 354, 765]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.iloc[rows]</span><br></pre></td></tr></table></figure>
<p><strong>Case 2: Getting the first three columns and the columns “Gender” and “Event”</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.columns[:<span class="number">3</span>].to_list() + [<span class="string">"Gender"</span>, <span class="string">"Event"</span>]</span><br></pre></td></tr></table></figure>
<p>[‘Year’, ‘City’, ‘Sport’, ‘Gender’, ‘Event’]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">col = summer.columns[:<span class="number">3</span>].to_list() + [<span class="string">"Gender"</span>, <span class="string">"Event"</span>]</span><br><span class="line">col</span><br></pre></td></tr></table></figure>
<p>[‘Year’, ‘City’, ‘Sport’, ‘Gender’, ‘Event’]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[:, col]</span><br></pre></td></tr></table></figure>
<p><img src="/2020/07/19/pandas%E5%9F%BA%E7%A1%801/Users\Jason\AppData\Roaming\Typora\typora-user-images\image-20200801183744113.png" alt="image-20200801183744113"></p>
<p><strong>Case 3: Combining Position- and label-based Indexing</strong>: Rows at Positions 200 and 300 and columns “Athlete” and “Medal”</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[[<span class="number">200</span>, <span class="number">300</span>], [<span class="string">"Athlete"</span>, <span class="string">"Medal"</span>]]</span><br></pre></td></tr></table></figure>
<p><strong>Case 4: Combining Position- and label-based Indexing</strong>: Rows “PHELPS Michael” and positional columns 4 and 6</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer = pd.read_csv(<span class="string">"summer.csv"</span>, index_col = <span class="string">"Athlete"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">col = summer.columns[[<span class="number">4</span>, <span class="number">6</span>]]</span><br><span class="line">col</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summer.loc[<span class="string">"PHELPS, Michael"</span>, col]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#summer.ix["PHELPS, Michael", [4, 6]]</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
    <div>
      
    </div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/20/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><span class="page-number current">21</span><a class="page-number" href="/page/22/">22</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="extend next" rel="next" href="/page/22/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/%5Bobject%20Object%5D"
                alt="Jason" />
            
              <p class="site-author-name" itemprop="name">Jason</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20fa%20fa-archive">
              
                  <span class="site-state-item-count">435</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">61</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart" aria-hidden="true"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jason</span>
 <!--
  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>







-->
        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>




















  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v="></script>

  <script type="text/javascript" src="/js/src/motion.js?v="></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v="></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
