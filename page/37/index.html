<!DOCTYPE html>
<html lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jasonxqh.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Jason‘s Blog">
<meta property="og:url" content="https://jasonxqh.github.io/page/37/index.html">
<meta property="og:site_name" content="Jason‘s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Jason">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://jasonxqh.github.io/page/37/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Jason‘s Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Jason‘s Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">Javascript-8函数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-21 18:30:17" itemprop="dateCreated datePublished" datetime="2020-04-21T18:30:17+08:00">2020-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-08 16:59:54" itemprop="dateModified" datetime="2020-05-08T16:59:54+08:00">2020-05-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="JavaScript-8函数"><a href="#JavaScript-8函数" class="headerlink" title="JavaScript-8函数"></a>JavaScript-8函数</h1><h2 id="概况"><a href="#概况" class="headerlink" title="概况"></a>概况</h2><ul>
<li>形参实参</li>
<li>this</li>
<li>对象的方法</li>
<li>构造函数</li>
<li>函数即对象</li>
<li>闭包<ul>
<li>函数可以嵌套在其他函数中定义，这样他们就可以访问他们被定义时所处的作用域中的任何变量，这意味着Javascript函数构成了一个闭包</li>
</ul>
</li>
</ul>
<h3 id="8-1函数定义"><a href="#8-1函数定义" class="headerlink" title="8.1函数定义"></a>8.1函数定义</h3><ul>
<li>两种方式<ul>
<li>函数定义表达式</li>
<li>函数声明语句</li>
</ul>
</li>
<li>函数定义的必须部分<ul>
<li>函数名称标识符</li>
<li>一对圆括号。包含由0个或者多个用逗号隔开的标识符组成的列表，这些标识符是函数的参数名称，他们就像函数体中的局部变量一样</li>
<li>一对花括号（包含0或多条JavaScript语句，这些语句构成了函数体）</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> square = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123; <span class="keyword">return</span> x*x ;&#125;</span><br><span class="line"><span class="comment">//函数表达式可以包含名称，这在递归时很有用</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span> <span class="title">fact</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">if</span>(x&lt;<span class="number">1</span>)<span class="keyword">return</span> <span class="number">1</span>; <span class="keyword">else</span> <span class="keyword">return</span> x*fact(x<span class="number">-1</span>)&#125;;</span><br><span class="line"><span class="comment">//函数表达式也可以作为参数传给其他函数</span></span><br><span class="line">data.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123; <span class="keyword">return</span> a-b; &#125;);</span><br><span class="line"><span class="comment">//函数表达式有时定义后立即调用</span></span><br><span class="line"><span class="keyword">var</span> tensquared = (<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x*x;&#125;(<span class="number">10</span>));</span><br></pre></td></tr></table></figure>
<ul>
<li>函数声明语句的例子</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printprops</span>(<span class="params">o</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> p <span class="keyword">in</span> o)</span><br><span class="line">		<span class="built_in">console</span>.log(p+ <span class="string">"："</span> +o[p]+ <span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/1.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/2.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/3.png" alt="示例"></p>
<h4 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h4><p>​    为什么叫Arrow Function？因为它的定义用的就是一个箭头</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=&gt;x*x;</span><br><span class="line">===</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x*x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>箭头函数相当于匿名函数，有两种格式<ul>
<li>只包含一个表达式， 省略了{…}和return，就像上面</li>
<li>包含多条语句，这时不能省略</li>
<li>如果参数不是一个，就需要用括号（）括起来</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一个参数</span></span><br><span class="line">x=&gt;&#123;</span><br><span class="line">	<span class="keyword">if</span>(x&gt;<span class="number">0</span>)&#123;<span class="keyword">return</span> x*x ;&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;<span class="keyword">return</span> -x*x ;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//两个参数</span></span><br><span class="line">(x,y)=&gt;x*x+y*y</span><br><span class="line"><span class="comment">//无参数 （）=&gt;3.14;</span></span><br><span class="line"><span class="comment">//可变函数</span></span><br><span class="line">(x,y,...rest)=&gt;&#123;</span><br><span class="line">    <span class="keyword">var</span> i,sum = x+y;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;rest.length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            sum+=rest[i];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>如果要返回一个对象，就要注意，如果是单表达式，这么写会报错：</p>
<ul>
<li>x=&gt;{foo:x}</li>
</ul>
</li>
<li><p>因为和函数体的{…}有语法冲突，所以要改为：</p>
<ul>
<li>x=&gt;({foo:x})</li>
</ul>
</li>
<li>箭头函数和匿名函数有个明显的区别：箭头函数内部的this是词法作用域，由上下文确定</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">	birth: <span class="number">1997</span>,</span><br><span class="line">	getAge: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> b = <span class="keyword">this</span>.birth;</span><br><span class="line">		<span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear()-<span class="keyword">this</span>.birth;</span><br><span class="line">            <span class="comment">//this指向undefined而不是obj</span></span><br><span class="line">		&#125;;</span><br><span class="line">		<span class="keyword">return</span> fn();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//这样逻辑是有问题的</span></span><br><span class="line">obj.getAge();<span class="comment">//NaN</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj =&#123;</span><br><span class="line">    birth:<span class="number">1997</span>,</span><br><span class="line">    getAge:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="keyword">this</span>.birth;</span><br><span class="line">        <span class="keyword">var</span> fn = <span class="function"><span class="params">()</span>=&gt;</span><span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear()-<span class="keyword">this</span>.birth;</span><br><span class="line">        <span class="keyword">return</span> fn();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.getAge();<span class="comment">//23</span></span><br><span class="line"><span class="comment">//这样箭头函数完全修复了this的指向，this总是指向词法作用域，也就是最外层调用者obj</span></span><br></pre></td></tr></table></figure>
<h3 id="8-2-函数调用"><a href="#8-2-函数调用" class="headerlink" title="8.2 函数调用"></a>8.2 函数调用</h3><ul>
<li>调用JavaScript函数的四种方式<ul>
<li>作为函数</li>
<li>作为方法</li>
<li>作为构造函数</li>
<li>通过他们的call()和aply（）方法间接调用</li>
</ul>
</li>
</ul>
<h4 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h4> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">printprops(&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;);</span><br><span class="line"><span class="keyword">var</span> total = distance(<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>)+distance(<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">5</span>);</span><br><span class="line"><span class="keyword">var</span> probability = factorial(<span class="number">5</span>)/factorial(<span class="number">13</span>);</span><br></pre></td></tr></table></figure>
<h4 id="方法调用"><a href="#方法调用" class="headerlink" title="方法调用"></a>方法调用</h4><ul>
<li>方法调用和汉时调用的重要区别：<ul>
<li>调用上下文</li>
</ul>
</li>
<li>方法调用通过属性访问表达式</li>
<li>属性访问表达式由两部分组成<ul>
<li>一个对象（o)： 调用上下文，函数体可以用this引用</li>
<li>属性名称(m)</li>
</ul>
</li>
<li>方法是个保存在一个对象的属性里的JavaScript函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">o.m = f;</span><br></pre></td></tr></table></figure>
<p>给对象o定义了方法m（）,调用时候她就像这样</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">o.m();</span><br><span class="line">o.m(x,y);</span><br><span class="line">o[<span class="string">"m"</span>](x,y);	<span class="comment">//o.m(x,y);的另一种写法</span></span><br></pre></td></tr></table></figure>
<ul>
<li>例子</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> calculator = &#123;</span><br><span class="line">	operand1:<span class="number">1</span>,</span><br><span class="line">	operand2:<span class="number">1</span>,</span><br><span class="line">	add: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.result = <span class="keyword">this</span>.operand1+<span class="keyword">this</span>.operand2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">calculator.add(); 	<span class="comment">//这个方法调用计算1+1的结果</span></span><br><span class="line">calculator.result ;<span class="comment">// =&gt;2</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">这个例子和上面的例子是不一样的，上面的例子中，this外面还有一层函数，在那个函数中用匿名函数</span></span><br><span class="line"><span class="comment">	会不指向obj，而是指向第二层函数。</span></span><br><span class="line"><span class="comment">    var obj=&#123;</span></span><br><span class="line"><span class="comment">        birth: 1997,</span></span><br><span class="line"><span class="comment">        getAge: function()&#123;</span></span><br><span class="line"><span class="comment">            var b = this.birth;</span></span><br><span class="line"><span class="comment">            var fn = function()&#123;</span></span><br><span class="line"><span class="comment">                return new Date().getFullYear()-this.birth;</span></span><br><span class="line"><span class="comment">                //this指向undefined而不是obj</span></span><br><span class="line"><span class="comment">            &#125;;</span></span><br><span class="line"><span class="comment">		return fn();</span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">	但是这个例子中，只有一层，this直接指向obj</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h5 id="方法链"><a href="#方法链" class="headerlink" title="方法链"></a>方法链</h5><ul>
<li>当方法的返回值是一个对象，这个对象还可以再调用他的方法。形成链，每次调用的结果都是另外一个表达式的组成部分</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">customer.surname.toUpperCase();	<span class="comment">//调用customer.surname的方法</span></span><br><span class="line">f().m();	<span class="comment">//在f()调用结束后继续调用返回值的方法m()</span></span><br><span class="line"><span class="comment">//下面这个表达式是说：找到所有的header，取得他们id的映射，转换成数组并对它们进行排序</span></span><br><span class="line"><span class="comment">//$(": header").map(function()&#123;return this.id&#125;).get().sort();</span></span><br></pre></td></tr></table></figure>
<ul>
<li>如果在设计的API中一直采用这种方式（每个方法都返回this）就可以进行链式调用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shape.setX(100).setY(100).setSize(50).setOutline(&quot;red&quot;).setFill(&quot;blue&quot;).draw();</span><br></pre></td></tr></table></figure>
<ul>
<li><p>注意</p>
<ul>
<li><p>不要把方法的链式调用和构造函数的链式调用混为一谈</p>
</li>
<li><p>方法和this关键词是JS面向对象编程的核心</p>
</li>
<li><p>方法调用实际上都会传入一个隐式实参（一个对象）,方法调用的母体就是这个对象</p>
</li>
<li><p>```javascript<br>rect.setSize(width,height);<br>setRectSize(rect,width,height);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  + 我们假设这两行代码的功能完全一样，他们都作用于一个假定的对象rect。可以看出第一行的方法调用语法非常清晰的表明这个函数执行的载体是rect对象，函数中的所有操作都将基于这个对象</span><br><span class="line"></span><br><span class="line">  + this是一个关键字，不是变量也不是属性名，不允许给this赋值</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;javascript</span><br><span class="line">var o &#x3D;&#123;</span><br><span class="line">	m:function()&#123;</span><br><span class="line">		var self &#x3D; this;		&#x2F;&#x2F;讲this的值保存到一个变量中去</span><br><span class="line">		console.log(this&#x3D;&#x3D;&#x3D;0);	&#x2F;&#x2F;输出true，this就是这个对象o</span><br><span class="line">		f();					&#x2F;&#x2F;调用辅助函数f()</span><br><span class="line">		</span><br><span class="line">		function f()&#123;</span><br><span class="line">			console.log(this&#x3D;&#x3D;&#x3D;o);&#x2F;&#x2F;false:this的值是全局对象或者undefined</span><br><span class="line">			console.log(self&#x3D;&#x3D;&#x3D;o);&#x2F;&#x2F;true:self指外部函数的this值，也就是o</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">	<span class="keyword">return</span> y-<span class="keyword">this</span>.birth();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> xiaoming =&#123;</span><br><span class="line">	name: <span class="string">'小明'</span>,</span><br><span class="line">	birth: <span class="number">1990</span>,</span><br><span class="line">	age: getAge</span><br><span class="line">&#125;;</span><br><span class="line">xiaoming.age();<span class="comment">//30</span></span><br><span class="line">getAge();		<span class="comment">//NaN 因为this指向全局去了，全局里面并没有birth()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fn = xiaoming.age;</span><br><span class="line">fn();			<span class="comment">//这样也是NaN</span></span><br></pre></td></tr></table></figure>
<p>这样是不对的！！！</p>
<p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/4.png" alt="示例"></p>
<p>这样就对了</p>
<p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/5.png" alt="示例"></p>
<h4 id="创建对象时构造"><a href="#创建对象时构造" class="headerlink" title="创建对象时构造"></a>创建对象时构造</h4><ul>
<li>创建过程<ul>
<li>首先创建一个新的空对象，然后传入指定的参数并将这个新对象当作this的值来调用与i个指定的函数。这个函数使用this来初始化新创建对象的属性</li>
<li>构造函数一般不会返回值，这个新创建并被初始化后的对象就是整个对象创建表达式的值</li>
<li>如果构造函数确实会返回一个对象值，则此时对象作为整个对象创建表达式的值，新创建的对象就废弃了</li>
<li>如果构造函数使用return单没有指定返回值，或者返回一个原始值，这时将忽略返回值，而使用这个新对象作为调用结果</li>
</ul>
</li>
</ul>
<h4 id="间接调用"><a href="#间接调用" class="headerlink" title="间接调用"></a>间接调用</h4><p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/6.png" alt="示例"></p>
<h3 id="8-3函数的实参和形参"><a href="#8-3函数的实参和形参" class="headerlink" title="8.3函数的实参和形参"></a>8.3函数的实参和形参</h3><h4 id="存在的问题"><a href="#存在的问题" class="headerlink" title="存在的问题"></a>存在的问题</h4><ul>
<li>函数定义未指定函数形参的类型</li>
<li>函数调用没有对传入的实参值做类型检查</li>
<li>不检查传入形参的个数</li>
</ul>
<h4 id="可选形参"><a href="#可选形参" class="headerlink" title="可选形参"></a>可选形参</h4><ul>
<li>若传入的实参比函数声明式指定的形参个数少，剩下的形参都将是只给undefined值<ul>
<li>应该给省略的参数赋一个合理的默认值</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/7.png" alt="示例"></p>
<ul>
<li>注意<ul>
<li>用这种可选形参来实现函数时，需要将可选形参放在参数列表的最后，否则必须传入null或者undefined作为第一个形参<ul>
<li>在函数定义中使用注释/<em>optional</em>/来强调形参式可选的</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="可变长的实参列表：实参对象"><a href="#可变长的实参列表：实参对象" class="headerlink" title="可变长的实参列表：实参对象"></a>可变长的实参列表：实参对象</h4><ul>
<li>若传入的实参个数超过函数定义时的形参个数，使用参数对象解决<h5 id="函数体内，标识符arguments式指向实参对象的引用"><a href="#函数体内，标识符arguments式指向实参对象的引用" class="headerlink" title="函数体内，标识符arguments式指向实参对象的引用"></a>函数体内，标识符arguments式指向实参对象的引用</h5><ul>
<li>通过数字下表就能访问传入函数的实参值</li>
<li>省略的实参都是undefined，多出的参数自动省略</li>
<li>arguments并不是真正的数组，他是一个实参对象（它是一个对象，只是碰巧具有以数字为索引的属性），实参对象式一个类数组对象</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/8.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/9.png" alt="示例"></p>
<ul>
<li>在非严格模式下，当一个函数包含若干形参，实参对象的数组元素是函数形参所对应实参的别名，并且形参名称可以认为是相同变量的不同命名，单严格模式下不行</li>
</ul>
<h5 id="剩余参数"><a href="#剩余参数" class="headerlink" title="剩余参数"></a>剩余参数</h5><p>剩余参数语法允许我们将一个补丁数量的参数表示为一个数组</p>
<ul>
<li>语法</li>
<li><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/11.png" alt="示例"></li>
<li>例子</li>
<li><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/10.png" alt="示例"></li>
<li><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/12.png" alt="示例"></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...Args</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> theArgs.reduce((previous,current)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> previous+current;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)); 	<span class="comment">//6</span></span><br></pre></td></tr></table></figure>
<h5 id="剩余参数和arguments对象的区别"><a href="#剩余参数和arguments对象的区别" class="headerlink" title="剩余参数和arguments对象的区别"></a>剩余参数和arguments对象的区别</h5><ul>
<li>剩余参数只包含哪些没有对应形参的实参，arguments对象包含了传给函数的所有实参</li>
<li>arguments对象不是一个真正的数组，而剩余函数是真正的array实例，也就是你能够在它上面直接使用所有的数组方法，比如sort，map，forEach和pop（）</li>
</ul>
<h4 id="将对象属性用作实参"><a href="#将对象属性用作实参" class="headerlink" title="将对象属性用作实参"></a>将对象属性用作实参</h4><ul>
<li>通过名/值 对的形式传入参数，是参数顺序无关紧要</li>
<li>例子</li>
</ul>
<p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/13.png" alt="示例"></p>
<p> <img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/projects\JasonXQH.github.io\source\_posts\Javascript-8函数\13.png" alt="13"></p>
<h4 id="实参类型"><a href="#实参类型" class="headerlink" title="实参类型"></a>实参类型</h4><ul>
<li>JavaScript方法的形参并未声明类型，在形参传入函数体之前也没有做类型检查</li>
<li>应当在程序中添加实参类型检查逻辑</li>
</ul>
<p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/14.png" alt="示例"></p>
<h4 id="默认参数值"><a href="#默认参数值" class="headerlink" title="默认参数值"></a>默认参数值</h4><ul>
<li>函数默认参数允许在没有值或undefined被传入时使用默认形参</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function multiply(a,b&#x3D;1)&#123;</span><br><span class="line">return a*b;</span><br><span class="line">&#125;</span><br><span class="line">console(multiply(5,2));	&#x2F;&#x2F;10</span><br><span class="line">console(multiply(5))	&#x2F;&#x2F;5</span><br></pre></td></tr></table></figure>
<h3 id="8-4作为值的函数"><a href="#8-4作为值的函数" class="headerlink" title="8.4作为值的函数"></a>8.4作为值的函数</h3><ul>
<li>函数不仅是一种语法，也是值<ul>
<li>可以将函数赋值给变量，存储在对象的属性或数组的元素中，作为参数传入另外一个函数等<h4 id="赋值给变量"><a href="#赋值给变量" class="headerlink" title="赋值给变量"></a>赋值给变量</h4></li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">x</span>)</span>&#123; <span class="keyword">return</span> x*x ;&#125;</span><br><span class="line"><span class="keyword">var</span> s = square; 	<span class="comment">//s 和 square指代同一个函数</span></span><br><span class="line">square(<span class="number">4</span>);			<span class="comment">//16</span></span><br><span class="line">s(<span class="number">4</span>);				<span class="comment">//16</span></span><br></pre></td></tr></table></figure>
<h4 id="赋值给对象的属性"><a href="#赋值给对象的属性" class="headerlink" title="赋值给对象的属性"></a>赋值给对象的属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;<span class="attr">square</span>: <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x*x ;&#125;&#125; <span class="comment">//对象直接量</span></span><br><span class="line"><span class="keyword">var</span> y = o.squre(<span class="number">16</span>);						<span class="comment">//y=256</span></span><br></pre></td></tr></table></figure>
<h4 id="赋值给数组元素"><a href="#赋值给数组元素" class="headerlink" title="赋值给数组元素"></a>赋值给数组元素</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x*x ;&#125;,<span class="number">20</span>];	<span class="comment">//作为数组的一个成员</span></span><br><span class="line">a[<span class="number">0</span>](a[<span class="number">1</span>]);			<span class="comment">//400</span></span><br></pre></td></tr></table></figure>
<h4 id="作为参数传入另一个函数"><a href="#作为参数传入另一个函数" class="headerlink" title="作为参数传入另一个函数"></a>作为参数传入另一个函数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x,y</span>)</span>&#123; <span class="keyword">return</span> x+y ;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">substract</span>(<span class="params">x,y</span>)</span>&#123;<span class="keyword">return</span> x-y;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">x,y</span>)</span>&#123;<span class="keyword">return</span> x*y ;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">x,y</span>)</span>&#123;<span class="keyword">return</span> x/y;&#125;</span><br><span class="line"><span class="comment">//这里的函数以上面的某个函数作为参数</span></span><br><span class="line"><span class="comment">//并给他传入两个操作数然后调用它</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">operate</span>(<span class="params">operator,operad1,operand2</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> operaor(operand1,operand2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//这行代码所示的函数调用实际上计算了（2+3）+（4*5）的值</span></span><br><span class="line"><span class="keyword">var</span> i = operate(add,operate(add,<span class="number">2</span>,<span class="number">3</span>),operate(multiply,<span class="number">4</span>,<span class="number">5</span>));</span><br></pre></td></tr></table></figure>
<h4 id="自定义函数属性"><a href="#自定义函数属性" class="headerlink" title="自定义函数属性"></a>自定义函数属性</h4><ul>
<li>函数可以拥有属性</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化函数对象的计数器属性</span></span><br><span class="line"><span class="comment">// 有序函数声明被提前了，因此这里是可以在函数声明之前给他成员赋值的</span></span><br><span class="line">uniqueInteger.counter = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//每次调用这个函数都会返回一个不同的整数</span></span><br><span class="line"><span class="comment">//它使用一个属性来记住下一次将要返回的值</span></span><br><span class="line"><span class="function">function <span class="title">uniqueInteger</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> uniqueInteget.counter++;<span class="comment">//先返回计数器的值，然后计数器自增</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>例子</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//计算阶乘，并将结果缓存到函数的属性中</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">isFinite</span>(n)&amp;&amp;n&gt;<span class="number">0</span>&amp;&amp;n==<span class="built_in">Math</span>.round(n))&#123;	</span><br><span class="line">        <span class="comment">//有限的正整数，round是四舍五入的函数，这里来判断n是不是整数。isFinite()判断是否无限</span></span><br><span class="line">		<span class="keyword">if</span>(!(n <span class="keyword">in</span> factorial))<span class="comment">//如果这个位置没有缓存结果</span></span><br><span class="line">			factorial[n]=n*factorial(n<span class="number">-1</span>);</span><br><span class="line">		<span class="keyword">return</span> factorial[n];		<span class="comment">//返回缓存结果</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">NaN</span>;</span><br><span class="line">&#125;</span><br><span class="line">factorial[<span class="number">1</span>]=<span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="8-5-作为命名空间的函数"><a href="#8-5-作为命名空间的函数" class="headerlink" title="8.5 作为命名空间的函数"></a>8.5 作为命名空间的函数</h3><ul>
<li>不在任何函数内声明的变量是全局变量，在整个JavaScript程序中都是可见的</li>
<li>我们常常就简单的定义一个函数用作临时的命名空间，在这个命名空间内定义的变量都不会污染到全局命名空间                 </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mymodule</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="comment">//模块代码</span></span><br><span class="line">	<span class="comment">//这个模块所使用的所有变量都是局部变量</span></span><br><span class="line">	<span class="comment">//而不是污染全局命名空间</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>();</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="comment">//模块代码</span></span><br><span class="line">&#125;());<span class="comment">//结束函数定义并立即调用它</span></span><br></pre></td></tr></table></figure>
<h3 id="8-6-闭包"><a href="#8-6-闭包" class="headerlink" title="8.6 闭包"></a>8.6 闭包</h3><ul>
<li>闭包：函数对象可以通过作用域链相互关联起来，函数体内部的变量都可以保存在函数的作用域内</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope =<span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> scope;&#125;</span><br><span class="line">	<span class="keyword">return</span> f();</span><br><span class="line">&#125;</span><br><span class="line">checkscope(); =&gt; <span class="string">"local scope"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope =<span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> scope;&#125;</span><br><span class="line">	<span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line">checkscope()(); =&gt; 返回值是什么？ 也是<span class="string">"local scope"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>闭包可以捕捉到局部变量（和参数），并一直保存下来，看起来想这些变量绑定到了在其中定义他们的外部函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> uniqueInteger = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//定义函数并立即调用</span></span><br><span class="line">	<span class="keyword">var</span> counter = <span class="number">0</span>;	<span class="comment">//函数的私有状态，外面访问不到counter属性</span></span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> counter++;&#125;;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<ul>
<li>例子</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">counter</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		count : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> n++;&#125;</span><br><span class="line">		reset : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;n=<span class="number">0</span>;&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c= counter().d= counter();</span><br><span class="line">c.count()		<span class="comment">//0</span></span><br><span class="line">d.count()		<span class="comment">//0 c d 互不干扰</span></span><br><span class="line">c.reset()		<span class="comment">//reset()和count()方法共享状态</span></span><br><span class="line">c.count()		<span class="comment">//0:因为我们把c重置了</span></span><br><span class="line">d.count()		<span class="comment">//1：没有重置d</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">counter</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span>&#123;</span><br><span class="line">		<span class="keyword">get</span> count()&#123;<span class="keyword">return</span> n++;&#125;</span><br><span class="line">		<span class="keyword">set</span> count(m)&#123;</span><br><span class="line">		<span class="keyword">if</span>(m&gt;=n)n=m;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">"count can only be set to a larger value"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c= counter(<span class="number">1000</span>);</span><br><span class="line">c.count;			<span class="comment">//1000</span></span><br><span class="line">c.count;			<span class="comment">//1001</span></span><br><span class="line">c.count = <span class="number">2000</span>;		</span><br><span class="line">c.count;			<span class="comment">//2000</span></span><br><span class="line">c.count = <span class="number">2000</span>;		<span class="comment">//Error</span></span><br><span class="line"><span class="comment">//也不是很好</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addPrivateProperty</span>(<span class="params">o,name,predicate</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> value;</span><br><span class="line">	o[<span class="string">"get"</span>+name] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="keyword">return</span> value;&#125;</span><br><span class="line">	o[<span class="string">"set"</span>+ name]=<span class="function"><span class="keyword">function</span>(<span class="params">v</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(predicate&amp;&amp;!predicate(v))</span><br><span class="line">			<span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">"set"</span>+name+<span class="string">": invalid value "</span>+v);</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			value =v;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o =&#123;&#125;;</span><br><span class="line">addPrivateProperty(o,<span class="string">"Name"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">typeof</span> x==<span class="string">"string"</span>;&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>例子</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这个函数返回一个总是返回v的函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">constfunc</span>(<span class="params">v</span>)</span>&#123; <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> v;&#125;;&#125;</span><br><span class="line"><span class="comment">//创建一个数组用来存储常数函数</span></span><br><span class="line"><span class="keyword">var</span> funcs = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) funcs[i] = constfunc(i);</span><br><span class="line"><span class="comment">//在第五个位置的元素所表示的函数返回值为5</span></span><br><span class="line">funcs[<span class="number">5</span>]() <span class="comment">//=&gt; 5</span></span><br></pre></td></tr></table></figure>
<ul>
<li>例子</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回一个 函数 组成的数组，它们的返回值是0-9</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">constfuncs</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> funcs = [];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">        <span class="comment">//这时候创建了10个闭包，都共享了i，当i变化，所有的闭包都会返回相同的值</span></span><br><span class="line">		funcs[i] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> i;&#125;</span><br><span class="line">	<span class="keyword">return</span> funcs;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> funcs = constfuncs();<span class="comment">//变量i的值是10</span></span><br><span class="line">funcs[<span class="number">5</span>]()<span class="comment">//返回值是什么,是10</span></span><br></pre></td></tr></table></figure>
<ul>
<li>注意<ul>
<li>每个函数调用都包含一个this值，闭包在外部函数里是无法访问this的<ul>
<li>除非外部函数将this转存为一个变量</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> self = <span class="keyword">this</span>;<span class="comment">//将this保存至一个变量中，以便嵌套的函数能够访问它</span></span><br></pre></td></tr></table></figure>
<ul>
<li>闭包具有自己所绑定的arguments，因此闭包内无法直接访问外部函数的参数数组<ul>
<li>除非外部函数将参数数组保存到另外一个变量中：</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> outerArguments = <span class="built_in">arguments</span>;	<span class="comment">//保存起来以便嵌套的函数能使用它</span></span><br></pre></td></tr></table></figure>
<h3 id="8-7函数属性、方法和构造函数"><a href="#8-7函数属性、方法和构造函数" class="headerlink" title="8.7函数属性、方法和构造函数"></a>8.7函数属性、方法和构造函数</h3><ul>
<li>函数也是对象，他们也可以拥有属性和方法<ul>
<li>函数属性和方法</li>
<li>Function()构造函数</li>
</ul>
</li>
</ul>
<h4 id="length属性"><a href="#length属性" class="headerlink" title="length属性"></a>length属性</h4><ul>
<li>arguments.length 表示传入函数的实参的个数</li>
<li>函数本身的length属性值得是形参的数量</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check</span>(<span class="params">args</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> actual = args.length;			<span class="comment">//实参的真是个数</span></span><br><span class="line">	<span class="keyword">var</span> excepted = args.callee.length;	<span class="comment">//期望的实参个数</span></span><br><span class="line">	<span class="keyword">if</span>(actual!== expected)				<span class="comment">//如果不同则抛出异常</span></span><br><span class="line">		<span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">"Expected"</span>+ expected + <span class="string">"args;got "</span>+ actual);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x,y,z</span>)</span>&#123;</span><br><span class="line">	check(<span class="built_in">arguments</span>);	<span class="comment">// 检查实参个数和期望的实参个数是否一致</span></span><br><span class="line">	<span class="keyword">return</span> x+y+z;		<span class="comment">// 再执行函数的后续逻辑</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params">a,b,...rest</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'a='</span>+a);</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'b='</span>+b);</span><br><span class="line">&#125;</span><br><span class="line">foo.length;			<span class="comment">//2 不会管..rest</span></span><br></pre></td></tr></table></figure>
<h4 id="prototype属性，在第九章进一步讨论"><a href="#prototype属性，在第九章进一步讨论" class="headerlink" title="prototype属性，在第九章进一步讨论"></a>prototype属性，在第九章进一步讨论</h4><h4 id="call-和-apply"><a href="#call-和-apply" class="headerlink" title="call() 和 apply()"></a>call() 和 apply()</h4><ul>
<li>call()和apply()的第一个实参都变为this的值，即使传入的实参是原始值或者null或者undefined</li>
<li>call()，第一个参数之后的所有实参是要传入带调用函数的值；</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f.call(o,<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="comment">//对于这个对象来说调用函数，传入参数1，2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>apply()实参都放到一个数组</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f.apply(o,[<span class="number">1</span>,<span class="number">2</span>]);</span><br></pre></td></tr></table></figure>
<h5 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">	<span class="keyword">return</span> y = <span class="keyword">this</span>.birth;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> xm = &#123;</span><br><span class="line">	name:<span class="string">"小明"</span>,</span><br><span class="line">	birth:<span class="number">1990</span>;</span><br><span class="line">	age: getAge;</span><br><span class="line">&#125;</span><br><span class="line">xm.age();</span><br><span class="line">getAge.apply(xm,[])<span class="comment">//25，this指向xm这个对象</span></span><br><span class="line"><span class="comment">//apply是应用的意思，可以理解为把函数引用到这个对象上</span></span><br></pre></td></tr></table></figure>
<h4 id="bind-方法"><a href="#bind-方法" class="headerlink" title="bind()方法"></a>bind()方法</h4><ul>
<li>作用是把函数绑定到某个对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">y</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.x+y;&#125;	<span class="comment">//这是个待绑定的函数</span></span><br><span class="line"><span class="keyword">var</span> o = &#123;<span class="attr">x</span>:<span class="number">1</span>&#125;;					<span class="comment">//将要绑定的对象</span></span><br><span class="line"><span class="keyword">var</span> g = f.bind(o);				<span class="comment">//通过调用g(x)来调用o.f(x)</span></span><br><span class="line">g(<span class="number">2</span>)<span class="comment">//3</span></span><br></pre></td></tr></table></figure>
<ul>
<li>除了第一个实参之外，传入bind()的实参也会绑定到this</li>
<li><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/15.png" alt="示例"></li>
</ul>
<h3 id="toString-方法"><a href="#toString-方法" class="headerlink" title="toString()方法"></a>toString()方法</h3><p><img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/16.png" alt="示例"></p>
<h3 id="Function-构造函数"><a href="#Function-构造函数" class="headerlink" title="Function()构造函数"></a>Function()构造函数</h3><ul>
<li>FUnction()构造函数可以传入任意数量的字符串实参，最后一个实参所表示的文本就是函数体</li>
<li>除了最后一个实参，其他实参字符串是指定函数的形参名字的字符串</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"x"</span>,<span class="string">"y"</span>,<span class="string">"return x*y"</span>);</span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;<span class="keyword">return</span> x*y;&#125;</span><br><span class="line"><span class="comment">//这两个是一样的</span></span><br></pre></td></tr></table></figure>
<ul>
<li>需要特别注意<ul>
<li>在运行时动态的创建并编译函数 </li>
<li>每次调用Function（）构造函数都会解析函数体，并创建新的函数对象</li>
<li>所创建的函数代码的编译总是会在顶层函数（全局作用域）执行</li>
</ul>
</li>
</ul>
<img src="/2020/04/21/Javascript-8%E5%87%BD%E6%95%B0/04/21/Javascript-8%E5%87%BD%E6%95%B0/17.png" class>
<h3 id="8-8函数式编程"><a href="#8-8函数式编程" class="headerlink" title="8.8函数式编程"></a>8.8函数式编程</h3><ul>
<li>在JavaScript中可以像操控对象一样操控函数，也就是说可以在Javascript中应用函数式编程技术、</li>
</ul>
<h4 id="使用函数处理数组"><a href="#使用函数处理数组" class="headerlink" title="使用函数处理数组"></a>使用函数处理数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先定义两个简单的函数</span></span><br><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;<span class="keyword">return</span> x+y;&#125;</span><br><span class="line"><span class="keyword">var</span> square = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x*x;&#125;</span><br><span class="line"><span class="comment">//然后将这些函数和数组的方法配合使用计算出平均数和标准差</span></span><br><span class="line"><span class="keyword">var</span> data = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> mean = data.reduce(sum)/data.length;</span><br><span class="line"><span class="keyword">var</span> deviation = data.map(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x-mean;&#125;);</span><br><span class="line"><span class="comment">//计算标准差</span></span><br><span class="line"><span class="keyword">var</span> stddev = <span class="built_in">Math</span>.sqrt(deviation.map(square).reduce(sum)/(data.length <span class="number">-1</span>));</span><br></pre></td></tr></table></figure>
<h4 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h4><ul>
<li>操作函数的函数，它姐手一个或者多个函数作为参数，并返回一个新函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这个高阶函数会返回一个新的函数，这个新函数将他的实参传入f()</span></span><br><span class="line"><span class="comment">//并且返回f的返回值的逻辑非</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">not</span>(<span class="params">f</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> result = f,apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>);</span><br><span class="line">		<span class="keyword">return</span> !result;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> even = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123; 	<span class="comment">//判断是否是偶数</span></span><br><span class="line">	<span class="keyword">return</span> x%<span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> odd=not(even);</span><br><span class="line">[<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>].every(odd)		<span class="comment">//true 每个元素都是奇数</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//所返回的函数的参数应当是一个实参数组，并对每个数组元素执行函数f()</span></span><br><span class="line"><span class="comment">//并返回所有计算结果组成的数组</span></span><br><span class="line"><span class="comment">//可以对比一下这个函数和上文提到的map()函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapper</span>(<span class="params">f</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123; <span class="keyword">return</span> map(a,f)&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> increment = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x+<span class="number">1</span>;&#125;;</span><br><span class="line"><span class="keyword">var</span> incrementer = mapper(increment);</span><br><span class="line">incrementer([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]) ; <span class="comment">// [2,3,4]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回一个新的可以计算f(g(...))的函数</span></span><br><span class="line"><span class="comment">//返回的函数h()将它所有的实参传入g()，然后将g()的返回值传入f()</span></span><br><span class="line"><span class="comment">//调用f()和g()时的this值和调用h()时的this是同一个this</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">f,g</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="comment">//需要给f()传入一个参数，所以使用f()的call方法</span></span><br><span class="line">		<span class="comment">//需要给g()传入很多参数。所以用g()的apply()方法</span></span><br><span class="line">		<span class="keyword">return</span> f.call(<span class="keyword">this</span>,g.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>));</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;<span class="keyword">return</span> x+y;&#125;</span><br><span class="line"><span class="keyword">var</span> square = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x*x;&#125;</span><br><span class="line"><span class="keyword">var</span> squareofsum = compose(square,sum);</span><br><span class="line">squareofsum(<span class="number">2</span>,<span class="number">3</span>) ;<span class="comment">//25</span></span><br></pre></td></tr></table></figure>
<h3 id="不完全函数"><a href="#不完全函数" class="headerlink" title="不完全函数"></a>不完全函数</h3><ul>
<li>这个函数可以接受一些参数，这些参数中有一些参数可以被绑定成其他函数，然后返回一个新的函数，这个新的函数接收剩下的未绑定的的参数</li>
</ul>
<h3 id="记忆"><a href="#记忆" class="headerlink" title="记忆"></a>记忆</h3><ul>
<li>将上次的计算结果缓存起来，在函数式编程当中，这种缓存技巧叫做记忆</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回f()的带有记忆功能的版本</span></span><br><span class="line"><span class="comment">//只有当f()的实参的字符串表示都不相同时它才会工作</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">memorize</span>(<span class="params">f</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cache = &#123;&#125;;<span class="comment">//将值保存在闭包内</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//将实参转换为字符串形式，并将其用作缓存的键</span></span><br><span class="line">        <span class="keyword">var</span> key = <span class="built_in">arguments</span>.length + <span class="built_in">Array</span>.prototype.join.call(<span class="built_in">arguments</span>,<span class="string">","</span>);</span><br><span class="line">        <span class="keyword">if</span>(key <span class="keyword">in</span> cache) <span class="keyword">return</span> cache[key];<span class="comment">//找到的话直接返回</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span>  cache[key] = f.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>);<span class="comment">//否则把新的再调用</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//返回两个整数的最大公约数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gcd</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> t;</span><br><span class="line">    <span class="keyword">if</span>(a&lt;b) &#123;</span><br><span class="line">        t=b,b=a&amp;t , a=t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (b!=<span class="number">0</span>)&#123;</span><br><span class="line">        t=b,b=a%b , a=t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> gcdmemo = memorize(gcd);</span><br><span class="line">gcdmemo(<span class="number">85</span>,<span class="number">187</span>)<span class="comment">//17</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//注意，当我们写一个递归函数是，往往需要实现记忆功能</span></span><br><span class="line"><span class="comment">// 我们更希望调用实现了记忆功能的递归函数，而不是原递归函数</span></span><br><span class="line"><span class="keyword">var</span>  factorial = memorize(<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (n&lt;=<span class="number">1</span>)? <span class="number">1</span>: n*factorial(n<span class="number">-1</span>);</span><br><span class="line">&#125;);</span><br><span class="line">factorial(<span class="number">5</span>);	<span class="comment">//120</span></span><br><span class="line"><span class="comment">//先计算了factorial（1）。。。（4）并且有缓存，不会重复计算</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/" class="post-title-link" itemprop="url">Javascript-7数组</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-21 18:29:41" itemprop="dateCreated datePublished" datetime="2020-04-21T18:29:41+08:00">2020-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-08 16:57:56" itemprop="dateModified" datetime="2020-05-08T16:57:56+08:00">2020-05-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Javascript-7数组"><a href="#Javascript-7数组" class="headerlink" title="Javascript-7数组"></a>Javascript-7数组</h1><h3 id="概况"><a href="#概况" class="headerlink" title="概况"></a>概况</h3><ul>
<li>数组是值得有序集合<ul>
<li>Javascript数组是动态的：根据需要会增长或缩减</li>
<li>Javascript数组可能是稀疏的：数组元素之间可以有空缺<ul>
<li>对于非稀疏数组，lenth属性就是元素的个数</li>
<li>对于稀疏数组，lenth比所有元素的索引要大</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="7-1创建数组"><a href="#7-1创建数组" class="headerlink" title="7.1创建数组"></a>7.1创建数组</h3><h4 id="创建方法"><a href="#创建方法" class="headerlink" title="创建方法"></a>创建方法</h4><h5 id="使用数组直接量"><a href="#使用数组直接量" class="headerlink" title="使用数组直接量"></a>使用数组直接量</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> empty=&#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> primes = &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">11</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> misc = &#123;<span class="number">1.1</span>,<span class="literal">true</span>,<span class="string">"a"</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> base = <span class="number">1024</span>;</span><br><span class="line"><span class="keyword">var</span> table = &#123;base,base+<span class="number">1</span>,base+<span class="number">2</span>,base+<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> b =&#123;[<span class="number">1</span>,&#123;<span class="attr">x</span>:<span class="number">1</span>,<span class="attr">y</span>:<span class="number">2</span>&#125;],[<span class="number">2</span>,&#123;<span class="attr">x</span>:<span class="number">3</span>,<span class="attr">y</span>:<span class="number">4</span>&#125;]&#125;;</span><br><span class="line"><span class="keyword">var</span> count = &#123;<span class="number">1</span>,,<span class="number">3</span>&#125;;		<span class="comment">//数组有3个元素，中间的那个元素值为undefined</span></span><br><span class="line"><span class="keyword">var</span> undefs = [,,] 		<span class="comment">//数组有两个元素，都是undefined</span></span><br></pre></td></tr></table></figure>
<h5 id="调用构造函数Array"><a href="#调用构造函数Array" class="headerlink" title="调用构造函数Array()"></a>调用构造函数Array()</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="string">"testing,testing"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="7-2-数组元素的读和写"><a href="#7-2-数组元素的读和写" class="headerlink" title="7.2 数组元素的读和写"></a>7.2 数组元素的读和写</h3><h4 id="使用-操作符来读写数组中的一个元素"><a href="#使用-操作符来读写数组中的一个元素" class="headerlink" title="使用[]操作符来读写数组中的一个元素"></a>使用[]操作符来读写数组中的一个元素</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">"World"</span>];</span><br><span class="line"><span class="keyword">var</span> value = a[<span class="number">0</span>];		<span class="comment">//读第0个元素</span></span><br><span class="line">a[<span class="number">1</span>] = <span class="number">3.14</span>;			<span class="comment">//写第一个元素</span></span><br><span class="line">i = <span class="number">2</span>;			</span><br><span class="line">a[i] = <span class="number">3</span>;				<span class="comment">//写第二个元素</span></span><br><span class="line">a[i+<span class="number">1</span>] = <span class="string">"hello"</span>		<span class="comment">//写第三个元素</span></span><br><span class="line">a[a[i]] = a[<span class="number">0</span>]			<span class="comment">//读第0个和第2个元素，写第三个元素</span></span><br></pre></td></tr></table></figure>
<p>可以使用负数或者非整数来索引数组，这种情况下数值转换为字符串，字符串作为属性名来使用</p>
<p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/1.png" alt="示例"></p>
<h3 id="7-3稀疏数组-数组长度"><a href="#7-3稀疏数组-数组长度" class="headerlink" title="7.3稀疏数组+数组长度"></a>7.3稀疏数组+数组长度</h3><ul>
<li>当数组是稀疏的时候，length 属性大于元素的个数</li>
<li>lenth属性为小于当前长度的非负整数n时，数组中索引值大于或等于n得元素将从中删除</li>
<li>length属性值设置为大于其当前的长度，会在数组尾部创建一个空的区域</li>
</ul>
<p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/2.png" alt="示例"></p>
<h3 id="7-5数组元素的添加和删除"><a href="#7-5数组元素的添加和删除" class="headerlink" title="7.5数组元素的添加和删除"></a>7.5数组元素的添加和删除</h3><ul>
<li>添加元素</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a= [];</span><br><span class="line">a[<span class="number">0</span>] = <span class="string">"zero"</span>;</span><br><span class="line">a[<span class="number">1</span>] = <span class="string">"one"</span> ;</span><br></pre></td></tr></table></figure>
<ul>
<li>push()方法在尾部添加元素</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = [];</span><br><span class="line">a.push(<span class="string">"zero"</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>unshift在首部添加元素</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a3 = [];</span><br><span class="line">a3.unshift(<span class="number">1</span>);</span><br><span class="line">a3.unshift(<span class="number">2</span>);</span><br><span class="line">a3 = [<span class="number">2</span>,<span class="number">1</span>];</span><br></pre></td></tr></table></figure>
<ul>
<li>delete 删除元素</li>
</ul>
<p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/3.png" alt="示例"></p>
<h3 id="7-6数组遍历"><a href="#7-6数组遍历" class="headerlink" title="7.6数组遍历"></a>7.6数组遍历</h3><ul>
<li>for循环</li>
<li>for/in循环<ul>
<li>只会对存在得元素遍历，undefined元素会跳过</li>
</ul>
</li>
<li>forEach()方法,会忽略empty和对象元素</li>
</ul>
<p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/4.png" alt="示例"></p>
<h3 id="7-7多维数组"><a href="#7-7多维数组" class="headerlink" title="7.7多维数组"></a>7.7多维数组</h3><p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/5.png" alt="示例"></p>
<h3 id="7-8数组方法"><a href="#7-8数组方法" class="headerlink" title="7.8数组方法"></a>7.8数组方法</h3><h4 id="Array-join"><a href="#Array-join" class="headerlink" title="Array.join()"></a>Array.join()</h4><ul>
<li>将数组中所有元素都转化为字符串并连接在一起，返回最后生成的字符串</li>
<li>可指定字符串来分割数组的各个元素，默认使用逗号</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.join();		<span class="comment">//"1，2，3"</span></span><br><span class="line">a.join(<span class="string">" "</span>);	<span class="comment">//"1 2 3"</span></span><br><span class="line">a.join(<span class="string">""</span>);		<span class="comment">//"123"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);</span><br><span class="line">b.join(<span class="string">'-'</span>); 	<span class="comment">//'---------'</span></span><br></pre></td></tr></table></figure>
<h4 id="Array-reverse"><a href="#Array-reverse" class="headerlink" title="Array.reverse()"></a>Array.reverse()</h4><ul>
<li>将数组中的元素颠倒顺序，返回逆序得数组</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.reverse().join() 	<span class="comment">// =》“3，2，1” 并且a数组已经改变</span></span><br></pre></td></tr></table></figure>
<h4 id="Array-sort"><a href="#Array-sort" class="headerlink" title="Array.sort()"></a>Array.sort()</h4><ul>
<li>将元素以字母表书匈奴排序并返回排序后的数组<ul>
<li>undefined元素会被拍到数组的尾部</li>
<li>可以给sort()方法传递一个比较函数</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; new Array(&quot;b&quot;,&quot;a&quot;,&quot;c&quot;);</span><br><span class="line">a.sort();</span><br><span class="line">var s &#x3D; a.join(&quot;,&quot;); &#x2F;&#x2F;s &#x3D;&#x3D;&quot;a,b,c&quot;;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/6.png" alt="示例"></p>
<ul>
<li>注意：Array.sort()默认把所有元素先转换为String再排序</li>
</ul>
<p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/7.png" alt="示例"></p>
<h4 id="Array-concat"><a href="#Array-concat" class="headerlink" title="Array.concat()"></a>Array.concat()</h4><ul>
<li>创建并返回一个链接数组元素得新数组</li>
<li>不会递归扁平化数组的数组</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a  = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.concat (<span class="number">4</span>,<span class="number">6</span>); 	<span class="comment">//[1,2,3,4,6]</span></span><br><span class="line">a.concat ([<span class="number">4</span>,<span class="number">5</span>])	<span class="comment">//[1,2,3,4,5]</span></span><br><span class="line">a.concat ([<span class="number">4</span>,<span class="number">5</span>],[<span class="number">6</span>,<span class="number">7</span>]) <span class="comment">//[1，2，3，4，5，6，7]</span></span><br><span class="line">a.concat (<span class="number">4</span>,[<span class="number">5</span>,[<span class="number">6</span>,<span class="number">7</span>]]) <span class="comment">//[1,2,3,4,5,[6,7]]</span></span><br><span class="line"><span class="comment">//合并数组，但不能合并数组中的数组</span></span><br><span class="line"><span class="comment">//数组中的数组会被当成新数组中的一个对象</span></span><br></pre></td></tr></table></figure>
<h4 id="Array-slice"><a href="#Array-slice" class="headerlink" title="Array.slice()"></a>Array.slice()</h4><ul>
<li>返回指定数组的一个片段或者子数组</li>
<li>它的两个参数分别指定了片段的开始和结束的位置</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="comment">//包含两个参数：第二个参数值数组到但是不会包含</span></span><br><span class="line">a.slice(<span class="number">0</span>,<span class="number">3</span>)<span class="comment">//[1,2,3];</span></span><br><span class="line"><span class="comment">//只有一个数字说明从这个指定位置开始一直到结尾</span></span><br><span class="line">a.slice(<span class="number">3</span>)<span class="comment">//[4,5];</span></span><br><span class="line"><span class="comment">//包含负数，它表示相对于数组中最后一个元素的位置</span></span><br><span class="line">a.slice(<span class="number">1</span>,<span class="number">-1</span>);<span class="comment">//[2,3,4]</span></span><br><span class="line">a.slice(<span class="number">-3</span>,<span class="number">-2</span>);<span class="comment">//[3]</span></span><br></pre></td></tr></table></figure>
<h4 id="Array-splice"><a href="#Array-splice" class="headerlink" title="Array.splice()"></a>Array.splice()</h4><ul>
<li>插入或删除元素的通用方法</li>
<li>在插入或者删除之后的数组元素会根据需要增加或者减小索引值，因此数组的其他部分仍然保持连续</li>
<li>第一个参数指定插入和删除的起始位置</li>
<li>第二个参数制定了应该从数组中删除的元素的个数<ul>
<li>如果省略第二个参数从七十点开始到数组结尾的所有元素都将被删除</li>
<li>第二个参数后的任意个数的参数制定了需要插入到数组中的元素，从第一个参数指定的位置插入</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>];</span><br><span class="line">a.splice(<span class="number">4</span>); <span class="comment">//返回[5,6,7,8];a 是[1，2，3，4]</span></span><br><span class="line">a.splice(<span class="number">1</span>,<span class="number">2</span>); <span class="comment">//返回[2,3];a是[4]</span></span><br><span class="line">a.splice(<span class="number">1</span>,<span class="number">1</span>);	<span class="comment">//返回[4];a是[1];</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">a.splice(<span class="number">2</span>,<span class="number">0</span>,<span class="string">'a'</span>,<span class="string">'b'</span>);<span class="comment">// 返回[]; a是[1,2,'a','b',4,5]</span></span><br><span class="line">a.splice(<span class="number">2</span>,<span class="number">2</span>,[<span class="number">1</span>,<span class="number">2</span>],<span class="number">3</span>);<span class="comment">// 返回['a','b'];a是[1,2,[1,2],3,3,4,5]</span></span><br></pre></td></tr></table></figure>
<h4 id="push-和pop"><a href="#push-和pop" class="headerlink" title="push()和pop()"></a>push()和pop()</h4><p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/8.png" alt="示例"></p>
<h4 id="unshift-和shift"><a href="#unshift-和shift" class="headerlink" title="unshift()和shift()"></a>unshift()和shift()</h4><p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/9.png" alt="示例"></p>
<h3 id="7-9ECMAScript5中的数组方法"><a href="#7-9ECMAScript5中的数组方法" class="headerlink" title="7.9ECMAScript5中的数组方法"></a>7.9ECMAScript5中的数组方法</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><ul>
<li>第一个参数接受一个函数，对数组的每个元素（或者一些元素) 调用一次函数<ul>
<li>大多数情况下，这些函数使用三个参数：数组元素，元素的索引，和数组本身</li>
</ul>
</li>
<li>第二个参数（可选）.如果函数有第2个参数，则调用的函数（第一个参数）被看作是第二个参数的方法<ul>
<li>也就是说在调用函数时传递进去的第二个参数作为他的this的关键词的值来使用</li>
<li>不会修改他们调用的原始数组</li>
</ul>
</li>
</ul>
<h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h4><p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/10.png" alt="示例"></p>
<ul>
<li>注意，forEach()无法在所有元素都传递给调用的函数之前终止遍历</li>
</ul>
<h4 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h4><ul>
<li>将调用的数组的每个元素传递给指定的函数，并返回一个新数组（不修改调用的数组）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pow</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x*x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line"><span class="keyword">var</span> results = arr.map(pow);<span class="comment">//[1,4,9,16,25,36,49,64,81]</span></span><br></pre></td></tr></table></figure>
<h4 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h4><ul>
<li>传递的函数是用来判断逻辑判定true或者false</li>
<li>注意filter()会跳过稀疏数组中缺少的元素，返回的数组总是稠密的</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;</span><br><span class="line">smallvalues = a.filter(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x&lt;<span class="number">3</span>&#125;); <span class="comment">//[2,1]</span></span><br><span class="line">everyother = a.filter(<span class="function"><span class="keyword">function</span>(<span class="params">x,i</span>)</span>&#123;<span class="keyword">return</span> i%<span class="number">2</span>==<span class="number">0</span>&#125;);<span class="comment">//[5,3,1]</span></span><br></pre></td></tr></table></figure>
<ul>
<li>filter()接收的回调函数，其实可以有多个参数，通常我们仅仅使用第一个元素。表示Array 的某个元素，另外两个参数表示元素的位置和数组本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>];</span><br><span class="line"><span class="keyword">var</span> r = arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">element,index,self</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(element) 	<span class="comment">//'A','B','C</span></span><br><span class="line">	<span class="built_in">console</span>.log(index)		<span class="comment">//0,1,2</span></span><br><span class="line">	<span class="built_in">console</span>.log(self)		<span class="comment">//arr</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>利用filter进行元素去重<ul>
<li>去除重复元素依靠的是indexOf总是返回第一个元素的位置，后续的重复元素位置于indexOf返回的位置不相等，因此被filter</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/11.png" alt="示例"></p>
<h4 id="every-和some"><a href="#every-和some" class="headerlink" title="every()和some()"></a>every()和some()</h4><ul>
<li>every()”针对所有“ 当且仅当针对数组中的所有元素调用判定函数都返回true，才返回true</li>
<li>some()”存在 “:当数组中至少有一个元素调用判定函数返回true，它就返回true</li>
<li>空数组上调用时，every()返回true,some()返回false</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">a.every(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x&lt;<span class="number">10</span>;&#125;)	  <span class="comment">//true</span></span><br><span class="line">a.every(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x%<span class="number">2</span>===<span class="number">0</span>;&#125;) <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">a.some(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x%<span class="number">2</span>===<span class="number">0</span>; &#125;)<span class="comment">//true</span></span><br><span class="line">a.some(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">isNaN</span> ;&#125;)	<span class="comment">//false</span></span><br></pre></td></tr></table></figure>
<h4 id="reduce-和reduceRight"><a href="#reduce-和reduceRight" class="headerlink" title="reduce()和reduceRight()"></a>reduce()和reduceRight()</h4><ul>
<li><p>reduce()</p>
<ul>
<li><p>第一个参数：一个函数，作用在每个元素上，reduce()将结果继续和序列的下一个元素做累计计算</p>
</li>
<li><p>```javascript<br>[x1,x2,x3,x4].reduce(f)=f(f(f(x1,x2),x3),x4)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  + 不指定初始值的时候，将使用数组的第一个元素作为初始值</span><br><span class="line"></span><br><span class="line">  + 控尸族不带初始值调用reduce将导致类型错误异常</span><br><span class="line"></span><br><span class="line">  + 数组只有一个元素并且没有指定初始值，reduce（）只是简单返回那个值</span><br><span class="line"></span><br><span class="line">+ reduceRight()</span><br><span class="line"></span><br><span class="line">  + 从右往左处理</span><br><span class="line"></span><br><span class="line">##### 计算用途</span><br><span class="line"></span><br><span class="line">![示例](.&#x2F;JavaScript-7数组&#x2F;12.png)</span><br><span class="line"></span><br><span class="line">##### 其他用途</span><br><span class="line"></span><br><span class="line">![示例](.&#x2F;JavaScript-7数组&#x2F;13.png)</span><br><span class="line"></span><br><span class="line">### indexOf()和lastIndexOf()</span><br><span class="line"></span><br><span class="line">+ 搜索整个数组中具有给定值的元素，返回找到的第一个元素的索引或者如果没有找到返回-1</span><br><span class="line">+ index是从头到尾，lastIndexOf()是反向搜索</span><br><span class="line">+ 第一个参数是需要搜索的值，第二个参数（可选）：指定数组中的一个索引，从那里开始搜索</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;JavaScript</span><br><span class="line">a &#x3D; [0,1,2,1,0];</span><br><span class="line">a.indexOf(1)		&#x2F;&#x2F;1&#96;	a[1]&#x3D;1</span><br><span class="line">a.lastIndexOf(3)	&#x2F;&#x2F;3 	a[3]&#x3D;1</span><br><span class="line">a.indexOf(3)		&#x2F;&#x2F;-1 	找不到</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="7-10数组类型"><a href="#7-10数组类型" class="headerlink" title="7.10数组类型"></a>7.10数组类型</h3><ul>
<li>Array.isArray()函数判断是否为数组</li>
</ul>
<h3 id="7-11类数组对象"><a href="#7-11类数组对象" class="headerlink" title="7.11类数组对象"></a>7.11类数组对象</h3><ul>
<li>Javascript数组拥有的其他对象所没有的特性<ul>
<li>新的元素添加到列表中是，自动更新length属性</li>
<li>设置length为一个较小值将截断数组</li>
<li>从Array.prototype中继承一些有用的方法</li>
<li>其类属性为”Array”</li>
</ul>
</li>
<li>类数组 对象<ul>
<li>拥有length属性和对应非负整数属性的对象</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/14.png" alt="示例"></p>
<ul>
<li>注意<ul>
<li>再ECMA5中字符串的行为和数组类似，但他们最好当作字符串处理</li>
<li>JS数组方法是通用的，不仅应用在真正的数组上，也可以用在类数组上</li>
<li>可以直接定义类数组对象</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/15.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-7%E6%95%B0%E7%BB%84/15.png" alt="示例"></p>
<h3 id="7-12作为数组的字符串"><a href="#7-12作为数组的字符串" class="headerlink" title="7.12作为数组的字符串"></a>7.12作为数组的字符串</h3><ul>
<li><p>字符串的行为类似于只读的数组</p>
<ul>
<li><p>访问单个字符串的两种方法</p>
</li>
<li><pre><code class="lang-javascript">var s = &#39;test&#39;;
console.log(s.charAt(0));
console.log(s[0]);
</code></pre>
</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/" class="post-title-link" itemprop="url">Javascript-6对象</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-21 18:28:54" itemprop="dateCreated datePublished" datetime="2020-04-21T18:28:54+08:00">2020-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-10 21:54:30" itemprop="dateModified" datetime="2020-05-10T21:54:30+08:00">2020-05-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Javascript-6对象"><a href="#Javascript-6对象" class="headerlink" title="Javascript-6对象"></a>Javascript-6对象</h1><h3 id="6-1创建对象"><a href="#6-1创建对象" class="headerlink" title="6.1创建对象"></a>6.1创建对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * 如何获取该变量(对象)是不是属于什么类型的?</span></span><br><span class="line"><span class="comment">     * 语法:</span></span><br><span class="line"><span class="comment">     * 变量 instanceof 类型的名字-----&gt;布尔类型,true就是这种类型,false不是这种类型</span></span><br><span class="line"><span class="comment">     * 在当前的对象的方法中,可以使用this关键字代表当前的对象</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="comment">//工厂模式创建对象</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">createObject</span>(<span class="params">name,age</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();<span class="comment">//创建对象</span></span><br><span class="line">      <span class="comment">//添加属性</span></span><br><span class="line">      obj.name = name;</span><br><span class="line">      obj.age = age;</span><br><span class="line">      <span class="comment">//添加方法</span></span><br><span class="line">      obj.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"阿涅哈斯诶呦,我叫:"</span> + <span class="keyword">this</span>.name + <span class="string">"我今年:"</span> + <span class="keyword">this</span>.age);</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建人的对象</span></span><br><span class="line">    <span class="keyword">var</span> per1 = createObject(<span class="string">"小芳"</span>,<span class="number">20</span>);</span><br><span class="line">    per1.sayHi();</span><br><span class="line">    <span class="comment">//创建一个人的对象</span></span><br><span class="line">    <span class="keyword">var</span> per2 = createObject(<span class="string">"小红"</span>,<span class="number">30</span>);</span><br><span class="line">    per2.sayHi();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> per1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//自定义构造函数创建对象,我要自己定义一个构造函数,自定义构造函数,创建对象</span></span><br><span class="line">    <span class="comment">//函数和构造函数的区别；名字是不是大写(首字母是大写)</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.name=name;</span><br><span class="line">      <span class="keyword">this</span>.age=age;</span><br><span class="line">      <span class="keyword">this</span>.sayHi=<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"我叫:"</span>+<span class="keyword">this</span>.name+<span class="string">",年龄是:"</span>+<span class="keyword">this</span>.age);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//自定义构造函数创建对象:先自定义一个构造函数,创建对象</span></span><br><span class="line">    <span class="keyword">var</span> obj=<span class="keyword">new</span> Person(<span class="string">"小明"</span>,<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(obj.name);</span><br><span class="line">    <span class="built_in">console</span>.log(obj.age);</span><br><span class="line">    obj.sayHi();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj)</span><br><span class="line">    <span class="keyword">var</span> obj2=<span class="keyword">new</span> Person(<span class="string">"小红"</span>,<span class="number">20</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(obj2.name);</span><br><span class="line">    <span class="built_in">console</span>.log(obj2.age);</span><br><span class="line">    obj2.sayHi();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(obj <span class="keyword">instanceof</span> Person);</span><br><span class="line">    <span class="built_in">console</span>.log(obj2 <span class="keyword">instanceof</span>  Person);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//自定义狗的构造函数,创建对象</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params">name,age,sex</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.name=name;</span><br><span class="line">      <span class="keyword">this</span>.age=age;</span><br><span class="line">      <span class="keyword">this</span>.sex=sex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> dog=<span class="keyword">new</span> Dog(<span class="string">"大黄"</span>,<span class="number">20</span>,<span class="string">"男"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(dog <span class="keyword">instanceof</span> Person);<span class="comment">//false</span></span><br><span class="line">    <span class="built_in">console</span>.log(dog <span class="keyword">instanceof</span> Dog);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line">    obj.name=<span class="string">"小白"</span>;</span><br><span class="line">    obj.age=<span class="number">10</span>;</span><br><span class="line">    obj.sayHi=<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"我是:"</span>+<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">    obj.sayHi();</span><br><span class="line">    <span class="keyword">var</span> obj2=&#123;</span><br><span class="line">      name:<span class="string">"小明"</span>,</span><br><span class="line">      age:<span class="number">20</span>,</span><br><span class="line">      sayHi:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"我是:"</span>+<span class="keyword">this</span>.name);</span><br><span class="line">      &#125;,</span><br><span class="line">      eat:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"吃了"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    obj2.sayHi();</span><br><span class="line">    obj2.eat();</span><br></pre></td></tr></table></figure>
<h3 id="6-2属性的查询和设置"><a href="#6-2属性的查询和设置" class="headerlink" title="6.2属性的查询和设置"></a>6.2属性的查询和设置</h3><ul>
<li>获取属性的值<ul>
<li>点                 可以是任何数据类型</li>
<li>方括号         只能返回字符串</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> author = book.author</span><br><span class="line"><span class="keyword">let</span> name = author.name</span><br><span class="line"><span class="keyword">let</span> title = book[<span class="string">"main titkle"</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>创建属性或者给属性赋值<ul>
<li>点 （.)</li>
<li>方括号</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">book.edition = <span class="number">9</span>;</span><br><span class="line">book[<span class="string">"main title"</span>] = <span class="string">"ECMAScript"</span></span><br></pre></td></tr></table></figure>
<h4 id="作为关联数组的对象"><a href="#作为关联数组的对象" class="headerlink" title="作为关联数组的对象"></a>作为关联数组的对象</h4><ul>
<li>关联数组：使用方括号和一个字符串，更像数组，只是这个数组元素是通过字符串索引而不是数字索引</li>
<li>通过[]来访问对象的属性时候，使得在运行程序的时候可以修改或者创建</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> addr = <span class="string">" "</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//就是把</span></span><br><span class="line">	addr+=customer[<span class="string">"address"</span>+i]+<span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><ul>
<li>对象有一些属性是从原型对象继承而来</li>
<li>家是要查询对象o的属性，如果o中不存在x,那么将会继续在o的原型对象中查询属性x。如果原型对象中也没有x，但这个原型对象也友原形，bane继续在这个原型对象的原型上查询，直到找到或者原型是NULL为止</li>
<li>对象的原型属性构成了一个链，通过这个链可以实现属性的继承</li>
</ul>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/1.png" alt="示例"></p>
<ul>
<li>属性赋值：<ul>
<li>首先检查原型链，以此判定是否允许赋值操作</li>
<li>如果允许属性赋值操作，他也总是在原始对象上创建属性或对已有的属性赋值，而不会去修改原型链</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/2.png" alt="示例"></p>
<h4 id="属性访问错误"><a href="#属性访问错误" class="headerlink" title="属性访问错误"></a>属性访问错误</h4><p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/3.png" alt="示例"></p>
<h3 id="6-3删除属性"><a href="#6-3删除属性" class="headerlink" title="6.3删除属性"></a>6.3删除属性</h3><h4 id="delete运算符"><a href="#delete运算符" class="headerlink" title="delete运算符"></a>delete运算符</h4><ul>
<li>他的操作数应当是一个属性访问表达式</li>
<li>只能删除自有的属性，不能删除继承的属性<ul>
<li>要删除继承的属性必须从定义这个属性的原型对象上删除它</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> book.author;</span><br><span class="line"><span class="keyword">delete</span> book[<span class="string">"main title"</span>];</span><br><span class="line"></span><br><span class="line">o = &#123;<span class="attr">x</span>:<span class="number">1</span>&#125;;				<span class="comment">//o 有一个属性，并且继承了属性toString</span></span><br><span class="line"><span class="keyword">delete</span> o.x;				<span class="comment">//删除x，返回true；</span></span><br><span class="line"><span class="keyword">delete</span> o.x;				<span class="comment">//什么也没做，x已经被删除了</span></span><br><span class="line"><span class="keyword">delete</span> o.toString ;		<span class="comment">//什么也没做，因为toString是继承来的，无法删除</span></span><br><span class="line"><span class="keyword">delete</span> <span class="number">1</span>;				<span class="comment">//无意义，返回true</span></span><br></pre></td></tr></table></figure>
<h3 id="6-4检测属性"><a href="#6-4检测属性" class="headerlink" title="6.4检测属性"></a>6.4检测属性</h3><ul>
<li>in 运算符<ul>
<li>如果对象的自由属性或者继承属性中包含这个属性则返回true</li>
</ul>
</li>
<li>hasOwnProperty()<ul>
<li>是否是对象的自有属性</li>
</ul>
</li>
<li>propertyIsEnumerable()W<ul>
<li>只有检测到是自由属性，且这个属性是可枚举的才会返回true</li>
</ul>
</li>
<li>“！==undefined”<ul>
<li>判断一个属性是否为undefined（无法区分存在但值位undefined的属性）</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/4.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/5.png" alt="示例"></p>
<h3 id="6-5枚举属性"><a href="#6-5枚举属性" class="headerlink" title="6.5枚举属性"></a>6.5枚举属性</h3><h4 id="遍历对象的属性"><a href="#遍历对象的属性" class="headerlink" title="遍历对象的属性"></a>遍历对象的属性</h4><ul>
<li>for/in (对象名或索引)循环 for/of (值）循环<ul>
<li>遍历对象中所有可枚举的属性（包括自有属性和继承属性）</li>
</ul>
</li>
<li>Object.keys( 对象名 )<ul>
<li>返回可枚举的自有属性</li>
</ul>
</li>
<li>Object.getOwnPropertyNames( 对象名 )<ul>
<li>同Object.keys( ），但也返回属性名字是字符串的不可枚举属性</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/6.png" alt="示例"></p>
<h3 id="6-6属性getter-和setter"><a href="#6-6属性getter-和setter" class="headerlink" title="6.6属性getter 和setter"></a>6.6属性getter 和setter</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o =&#123;</span><br><span class="line">    <span class="comment">//普通数据属性</span></span><br><span class="line">    data_prop: value;</span><br><span class="line">    <span class="comment">//存取器属性都是成对定义的函数</span></span><br><span class="line">    <span class="keyword">get</span> accessor_prop ()&#123; <span class="comment">/*这里是函数体*/</span>&#125;</span><br><span class="line">  	<span class="keyword">set</span> accessor_prop (value)&#123; <span class="comment">/*这里是函数体*/</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>同时具有getter和setter方法，是一个读/写属性</li>
<li>只有getter方法，是只读属性</li>
<li>只有setter方法，是只写属性，读取只写属性总是返回undefined；</li>
</ul>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/7.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/8.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/9.png" alt="示例"></p>
<h3 id="6-7属性的特性"><a href="#6-7属性的特性" class="headerlink" title="6.7属性的特性"></a>6.7属性的特性</h3><ul>
<li>一个属性包含一个名字和4 个特性<ul>
<li>值 value</li>
<li>可写性 writable</li>
<li>可枚举性 enumerale</li>
<li>可配置性 configurable</li>
</ul>
</li>
<li>本节中，存储器属性的getter和setter方法看成是属性的特性<ul>
<li>存取器属性的4个特性是读取，写入，可枚举性，可配置性</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/10.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/11.png" alt="示例"></p>
<ul>
<li>设置属性的特性<ul>
<li>Object.defineProperty()</li>
<li>注意，这个方法要么修改已有的属性要么新建自有属性，但不能修改继承属性</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/12.png" alt="示例"></p>
<ul>
<li>同时修改多个属性</li>
</ul>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/13.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/14.png" alt="示例"></p>
<h3 id="对象的三个属性"><a href="#对象的三个属性" class="headerlink" title="对象的三个属性"></a>对象的三个属性</h3><ul>
<li>每一个对象都有与之相关的原型（prototype)，类（class）和可扩展性（extensibleattribute）</li>
</ul>
<h4 id="6-8-1原型属性"><a href="#6-8-1原型属性" class="headerlink" title="6.8.1原型属性"></a>6.8.1原型属性</h4><ul>
<li>对象的原型属性是用来继承属性的</li>
<li>查询原型 Object.getPrototypeOf()</li>
<li>p.isPrototypeOf(o)用来检测p是否在o的原型链中（o是否继承于p）</li>
</ul>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/15.png" alt="示例"></p>
<h4 id="6-8-2类属性"><a href="#6-8-2类属性" class="headerlink" title="6.8.2类属性"></a>6.8.2类属性</h4><pre><code>+ 类属性是一个字符串，用以表示对象的类型信息
+ classof()函数可以返回传递给它的任意对象的类。classof()函数可以传入任何类型的参数。数字、字符串和布尔值可以直接用toString()方法，就和对象调用toString()方法一样，并且这个函数包含了对null和undefined的特殊处理
</code></pre><p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/16.png" alt="示例"></p>
<h4 id="6-8-3可扩展性"><a href="#6-8-3可扩展性" class="headerlink" title="6.8.3可扩展性"></a>6.8.3可扩展性</h4><ul>
<li>表示是否可以给对象添加新属性，可扩展属性的目的是将对象“锁定”。以避免外界的干扰</li>
<li>Object.isExtensible()判断该对象是否是可扩展</li>
<li>Object.preventExtension(将对象转换为不可扩展的<ul>
<li>一旦对象转换为不可扩展的，就无法再转换回可扩展的</li>
<li>但可以给不可扩展的对象的原型添加属性</li>
</ul>
</li>
<li>Object.seal()设置对象不可扩展，自有属性不可配置<ul>
<li>Object.isSealed()来检测对象是否封闭</li>
</ul>
</li>
<li>Object.freeze()设置对象不可扩展，属性不可配置，数据属性只读(若存取器属性具有setter仍然可以通过给属性赋值调用)<ul>
<li>Object.isFrozen()来判断对象是否冻结</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/17.png" alt="示例"></p>
<h3 id="6-9序列化对象"><a href="#6-9序列化对象" class="headerlink" title="6.9序列化对象"></a>6.9序列化对象</h3><ul>
<li>对象序列化是指将对象的状态转换为字符串，也可将字符串还原为对象</li>
<li>JSON.stringify（）序列化对象</li>
<li>JSON.parse（） 还原对象</li>
</ul>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/18.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/19.png" alt="示例"></p>
<h3 id="6-10对象方法"><a href="#6-10对象方法" class="headerlink" title="6.10对象方法"></a>6.10对象方法</h3><ul>
<li>toString ()</li>
<li>toLocaleString()</li>
<li>toJSON()</li>
<li>valueOf()</li>
</ul>
<h4 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h4><p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/20.png" alt="示例"></p>
<h4 id="toLocaleString-NaN"><a href="#toLocaleString-NaN" class="headerlink" title="toLocaleString ()"></a>toLocaleString ()</h4><p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/21.png" alt="示例"></p>
<h4 id="toJSON"><a href="#toJSON" class="headerlink" title="toJSON()"></a>toJSON()</h4><p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/21.png" alt="示例"></p>
<h4 id="ValueOf"><a href="#ValueOf" class="headerlink" title="ValueOf()"></a>ValueOf()</h4><p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/22.png" alt="示例"></p>
<h4 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h4><h1 id="this-指代当前对象，在哪个对象中实现就指代那个对象"><a href="#this-指代当前对象，在哪个对象中实现就指代那个对象" class="headerlink" title="this 指代当前对象，在哪个对象中实现就指代那个对象"></a>this 指代当前对象，在哪个对象中实现就指代那个对象</h1><p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/24.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-6%E5%AF%B9%E8%B1%A1/25.png" alt="示例"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/04/21/Javascript-5%E8%AF%AD%E5%8F%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/21/Javascript-5%E8%AF%AD%E5%8F%A5/" class="post-title-link" itemprop="url">Javascript-5语句</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-21 18:28:33" itemprop="dateCreated datePublished" datetime="2020-04-21T18:28:33+08:00">2020-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-08 16:49:06" itemprop="dateModified" datetime="2020-05-08T16:49:06+08:00">2020-05-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="js第五章语句"><a href="#js第五章语句" class="headerlink" title="js第五章语句"></a>js第五章语句</h1><h3 id="5-2-复合语句和空语句"><a href="#5-2-复合语句和空语句" class="headerlink" title="5.2 复合语句和空语句"></a>5.2 复合语句和空语句</h3><h5 id="复合语句：用花括号将多条语句括起来，当一条语句使用"><a href="#复合语句：用花括号将多条语句括起来，当一条语句使用" class="headerlink" title="复合语句：用花括号将多条语句括起来，当一条语句使用"></a>复合语句：用花括号将多条语句括起来，当一条语句使用</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	x = Math.PI;</span><br><span class="line">	cx = Math.<span class="built_in">cos</span>(x);</span><br><span class="line">	console.<span class="built_in">log</span>(<span class="string">"cos(Pi)= "</span> +cx);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//注意</span></span><br><span class="line">	<span class="number">1.</span> 语句块结尾不需要分号</span><br><span class="line">	<span class="number">2.</span> 语句块中的行都要有缩进，但非必需，增加可读性</span><br><span class="line">	<span class="number">3.</span> Js无块级作用域，语句块中声明的变量非语句块私有</span><br></pre></td></tr></table></figure>
<h5 id="空语句"><a href="#空语句" class="headerlink" title="空语句"></a>空语句</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">;</span><br><span class="line">创建一个具有空循环体的循环时，空语句有时候是很有用的</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;a.lenth;a[i++]=<span class="number">0</span>) ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>((a==<span class="number">0</span>)||(b==<span class="number">0</span>));<span class="comment">//那么这时候空语句就不是帮忙的了，因为这句话什么也没做</span></span><br></pre></td></tr></table></figure>
<h3 id="5-3-声明语句"><a href="#5-3-声明语句" class="headerlink" title="5.3 声明语句"></a>5.3 声明语句</h3><ul>
<li>声明语句：这些语句定义标识符（变量名和函数名）并给其赋值</li>
</ul>
<h4 id="var"><a href="#var" class="headerlink" title="var"></a>var</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> x = <span class="number">2.34</span>, y = <span class="built_in">Math</span>.cos(<span class="number">0.75</span>),r,theta; <span class="comment">//很多变量</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">2</span>, y = x*x;						  <span class="comment">//第二个变量使用了第一个变量</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">2</span>,								</span><br><span class="line">    f = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> x*x&#125;,		  <span class="comment">//每个变量独占一行</span></span><br><span class="line">    y = f(x);</span><br></pre></td></tr></table></figure>
<ul>
<li>var语句出现在函数体内，定义的是全局变量，作用于是这个函数</li>
<li>在顶层代码中使用var语句，他声明的是全局变量，在整个javaScript程序中都是可见的</li>
<li>var声明的变量无法通过delete删除</li>
<li>若var的变量为指定初始化，则初始为undefined</li>
<li>变量声明语句会被提前至脚本或者函数的顶部。但是初始化的操作则还在原来的var语句的位置执行，在声明语之前变量的值是undefined</li>
<li>重复生命变量是合法的</li>
</ul>
<h4 id="let"><a href="#let" class="headerlink" title="let"></a>let</h4><ul>
<li>声明局部变量</li>
<li>用法类似var ，但是所声明的变量，旨在let命令所在的代码块内有效，而且有暂时性死区的约束</li>
<li>let不允许在相同作用域内，重复声明同一个变量</li>
</ul>
<h4 id="const"><a href="#const" class="headerlink" title="const"></a>const</h4><ul>
<li>与let类似，但不能重复赋值</li>
</ul>
<h4 id="function"><a href="#function" class="headerlink" title="function"></a>function</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123; <span class="keyword">return</span> x+<span class="number">1</span>; &#125;	<span class="comment">//将表达式赋值给一个变量</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x</span>) </span>&#123; <span class="keyword">return</span> x+<span class="number">1</span>; &#125;		<span class="comment">//含有变量名的语句</span></span><br></pre></td></tr></table></figure>
<ul>
<li>注意<ul>
<li>定义函数时，不执行函数体内的语句，他和调用函数时待执行的新函数对象相关联</li>
<li>即使是函数体只包含一条语句，仍然要用花括号</li>
<li>函数声明语句通常出现在JavaScript代码的顶层，也可以出现在所嵌套函数的顶部。也就是说，函数定义不能出现在if语句、while循环或者其他任何语句中</li>
<li>函数声明、函数名称和函数体均提前：脚本中的所有函数和函数中所有嵌套的函数都会在当前上下文中其他代码之前声明</li>
<li>无法delete</li>
</ul>
</li>
</ul>
<h3 id="5-4条件语句"><a href="#5-4条件语句" class="headerlink" title="5.4条件语句"></a>5.4条件语句</h3><h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><ul>
<li>JavaScript 使用if(){…} else{ }</li>
<li>else 可选，若语句块中只含有一条语句，可以省略</li>
<li>如果还要更加细致的判断条件，可以使用多个if else 的组合</li>
</ul>
<h4 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(n)&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">	<span class="comment">//bla</span></span><br><span class="line">	<span class="keyword">break</span>;</span><br><span class="line">	....</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	....</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">	<span class="comment">//执行代码</span></span><br><span class="line">	<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>注意：<ul>
<li>如果没有default标签，switch语句将跳过它左右的代码块</li>
<li>case关键词跟随任意的表达式</li>
<li>可以使用return 来代替break</li>
<li>“default：”标签可以放置在switch的任何地方，但最常用出现在switch的末尾</li>
</ul>
</li>
</ul>
<h4 id="while-do-while-for-不讲了"><a href="#while-do-while-for-不讲了" class="headerlink" title="while /do while/for 不讲了"></a>while /do while/for 不讲了</h4><h4 id="for-in"><a href="#for-in" class="headerlink" title="for /in"></a>for /in</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(variable <span class="keyword">in</span> object)</span><br><span class="line">	statement</span><br></pre></td></tr></table></figure>
<ul>
<li>variable 是一个适用于赋值表达式左侧的值</li>
<li>object 是一个表达式，这个表达式的计算结果是一个对象</li>
<li>statement 是一个语句或者语句块，是这个循环的主体</li>
<li>以任意顺序遍历一个对象除了Symbol以外的可枚举属性</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">    name:<span class="string">'Rechel'</span>,</span><br><span class="line">    age:<span class="number">22</span>,</span><br><span class="line">    city:<span class="string">'Shanghai'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> o)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结果就是： name , age, city</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> a)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i) <span class="comment">//'0','1','2'</span></span><br><span class="line">    <span class="built_in">console</span>.log(a[i])<span class="comment">//'a','b','c'</span></span><br><span class="line">    <span class="comment">//因为再数组中，他的index下标就是数组的属性</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="for-of"><a href="#for-of" class="headerlink" title="for/of"></a>for/of</h4><ul>
<li>for…of 循环时ES6引入的额新的语法</li>
<li>语法（与for/in相同）<ul>
<li>for(variable of iterable{<ul>
<li>​    //statements</li>
</ul>
</li>
<li>}</li>
</ul>
</li>
<li>Variable： 在每次迭代中，将不同属性的值分配给变量</li>
<li>iterable：被迭代美剧其属性的对象</li>
<li>使用对象：for…of 语句在可迭代对象（包括：Array,Map,Set,String,TypedArray,arguments对象等）上创建一个迭代循环，调用自定义迭代钩子，并为每个不同属性的值执行语句</li>
</ul>
<h6 id="for-of-for-in-的区别"><a href="#for-of-for-in-的区别" class="headerlink" title="for/of .for/in 的区别"></a>for/of .for/in 的区别</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.objCustom = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="built_in">Array</span>.prototype.arrCustom = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> iterable = [<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>];</span><br><span class="line">iterable.foo = <span class="string">'hello'</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> iterable)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//这里为什么会出先这么多属性？</span></span><br><span class="line">    <span class="comment">//因为iterable是一个数组对象，它自身包含了0，1，2，"foo"这些属性</span></span><br><span class="line">    <span class="comment">//但是他同时也是Array对象，Object对象的一个实例，所以说会继承Object，Array的属性</span></span><br><span class="line">    <span class="built_in">console</span>.log(i);<span class="comment">//0,1,2."foo","arrCustom","objCustom"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> iterable)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//hasOwnProperty代表了这个对象的自身的属性，这时候继承的属性就不会出现</span></span><br><span class="line">    <span class="keyword">if</span>(iterable.hasOwnProperty(i))&#123;<span class="built_in">console</span>.log(i);<span class="comment">//0,1,2,"foo"&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> iterable)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);<span class="comment">//3,5,7</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>主要区别在于他们的迭代方式</li>
<li>for…in 语句以任意顺序迭代对象的可枚举属性</li>
<li>for…of 显示的是数据</li>
</ul>
<h4 id="forEach循环（The-Best"><a href="#forEach循环（The-Best" class="headerlink" title="forEach循环（The Best)"></a>forEach循环（The Best)</h4><ul>
<li>for in 遍历的对象属性的名称</li>
<li>for of 遍历的是集合本身的元素</li>
<li>更好的方式是直接使用iterable内置的forEach方法，它接受一个函数，每次迭代自动回调该函数</li>
</ul>
<h5 id="在array中使用forEach"><a href="#在array中使用forEach" class="headerlink" title="在array中使用forEach"></a>在array中使用forEach</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>];</span><br><span class="line">a.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">element,index,array</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//element:指向当前元素的值</span></span><br><span class="line">    <span class="comment">//index： 指向当前的索引</span></span><br><span class="line">    <span class="comment">//array ： 指向Array对象本身</span></span><br><span class="line">    <span class="built_in">console</span>.log(element+<span class="string">', index ='</span>+ index);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="在set中使用forEach"><a href="#在set中使用forEach" class="headerlink" title="在set中使用forEach"></a>在set中使用forEach</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>]);</span><br><span class="line">s.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">element,sameElement,set</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(element);</span><br><span class="line">	<span class="built_in">console</span>.log(sameElement);</span><br><span class="line">	</span><br><span class="line">&#125;)</span><br><span class="line">A</span><br><span class="line">A</span><br><span class="line">-------------------</span><br><span class="line">B</span><br><span class="line">B</span><br><span class="line">—————————————————— </span><br><span class="line">C</span><br><span class="line">C</span><br><span class="line">-------------------</span><br><span class="line"><span class="comment">//Set与Array类似，但Set没有索引，因此回调函数的前两个参数都是元素本身</span></span><br></pre></td></tr></table></figure>
<h5 id="forEach循环例子"><a href="#forEach循环例子" class="headerlink" title="forEach循环例子"></a>forEach循环例子</h5><ul>
<li>Map的回调函数参数依次为value，key和map本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="number">1</span>,<span class="string">'x'</span>],[<span class="number">2</span>,<span class="string">'y'</span>],[<span class="number">3</span>,<span class="string">'z'</span>]]);</span><br><span class="line">m.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value,key,map</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(value);<span class="comment">//值</span></span><br><span class="line">	<span class="built_in">console</span>.log(key);<span class="comment">//索引</span></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="built_in">Map</span>);<span class="comment">//图本身</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//结果</span></span><br><span class="line">x</span><br><span class="line"><span class="number">1</span></span><br><span class="line">[<span class="built_in">Function</span>: <span class="built_in">Map</span>]</span><br><span class="line">y</span><br><span class="line"><span class="number">2</span></span><br><span class="line">[<span class="built_in">Function</span>: <span class="built_in">Map</span>]</span><br><span class="line">z</span><br><span class="line"><span class="number">3</span></span><br><span class="line">[<span class="built_in">Function</span>: <span class="built_in">Map</span>]</span><br></pre></td></tr></table></figure>
<h3 id="迭代器与生成器"><a href="#迭代器与生成器" class="headerlink" title="迭代器与生成器"></a>迭代器与生成器</h3><ul>
<li>迭代器是通过使用next() 方法实现iterator protocol 的任何一个对象，该方法返回具有两个属性的对象<ul>
<li>value，这是序列中的next值</li>
<li>done，如果已经迭代到序列中的最后一个值，则它为true</li>
</ul>
</li>
</ul>
<h5 id="迭代器与生成器-1"><a href="#迭代器与生成器-1" class="headerlink" title="迭代器与生成器"></a>迭代器与生成器</h5><pre><code>+ 生成器是一种返回迭代器的函数，通过function关键字后的星号*来表示，函数中会用到新的关键词yield
+ 星号可以紧挨者关键字function，也可以在中间添加一个空格
</code></pre><p><img src="/2020/04/21/Javascript-5%E8%AF%AD%E5%8F%A5/迭代1.png" alt="示例"></p>
<ul>
<li>关键词yield 可以返回任何和表达式，通过生成器函数批量给迭代器添加元素</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">myIterator</span>(<span class="params">list</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i&lt;list.lenth;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">yield</span> list[i];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/04/21/Javascript-5%E8%AF%AD%E5%8F%A5/迭代2.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-5%E8%AF%AD%E5%8F%A5/迭代3.png" alt="示例"></p>
<h3 id="5-6跳转"><a href="#5-6跳转" class="headerlink" title="5.6跳转"></a>5.6跳转</h3><h4 id="标签语句"><a href="#标签语句" class="headerlink" title="标签语句"></a>标签语句</h4><ul>
<li>语句是可以添加标签的，科在程序的任何地方通过标签名引用这条语句<ul>
<li>identifier: statement</li>
<li>identifier 必须是一个合法的JS 标识符，而不能是一个保留字</li>
<li>可以使用统一标识符作为语句标签和变量名或者函数名</li>
<li>任何语句可以有很多个标签</li>
</ul>
</li>
<li>break和continue是JS中唯二可用语句标签的语句！</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">mainloop:<span class="keyword">while</span>(token!=NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//忽略这里的代码</span></span><br><span class="line">        <span class="keyword">continue</span> mainloop;<span class="comment">//跳转到下一次循环</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> iNum = <span class="number">0</span>;</span><br><span class="line">outermost:</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>;j&lt;<span class="number">10</span>;j++)</span><br><span class="line">	&#123;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">5</span>&amp;&amp;j==<span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span> outermost;</span><br><span class="line">        &#125;</span><br><span class="line">       iNum++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(iNum);<span class="comment">//输出55</span></span><br><span class="line"></span><br><span class="line">outermost:</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>;j&lt;<span class="number">10</span>;j++)</span><br><span class="line">	&#123;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">5</span>&amp;&amp;j==<span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span> outermost;</span><br><span class="line">		<span class="comment">//跳到最外圈，开始跑，也就是说55-59这些数被吃掉了</span></span><br><span class="line">        &#125;</span><br><span class="line">       iNum++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(iNum);<span class="comment">//输出95</span></span><br></pre></td></tr></table></figure>
<h4 id="break语句"><a href="#break语句" class="headerlink" title="break语句"></a>break语句</h4><h4 id="continue语句"><a href="#continue语句" class="headerlink" title="continue语句"></a>continue语句</h4><h4 id="return语句"><a href="#return语句" class="headerlink" title="return语句"></a>return语句</h4><ul>
<li>return语句只能在函数体内出现</li>
<li>执行到return 语句的时候，函数终止执行，并返回expression的值给调用程序</li>
<li>如果没有return 语句，调用表达式的结果是undefined</li>
<li>JavaScript可以自动插入分号，return 关键字和她后面的表达式之间不能有换行</li>
</ul>
<h4 id="throw语句"><a href="#throw语句" class="headerlink" title="throw语句"></a>throw语句</h4><ul>
<li>在Javascript中，当产生运行时错误或者程序使用throw语句时就会显示地抛出异常</li>
<li>throw expression</li>
<li>expression的值可以实任意类型的<ul>
<li>代表错误码的数字</li>
<li>刻度的错误消息的字符串</li>
<li>Error类型和其子类型<ul>
<li>一个Error对象有一个name属性表示错误类型，一个message属性用来存放传递给构造函数的字符串</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/2020/04/21/Javascript-5%E8%AF%AD%E5%8F%A5/throw1.png" alt="示例"></p>
<ul>
<li>跳转-错误处理，错误处理时程序设计时必须要考虑的问题</li>
</ul>
<p><img src="/2020/04/21/Javascript-5%E8%AF%AD%E5%8F%A5/throw2.png" alt="示例"></p>
<ul>
<li>有错误发生时，执行流程像这样<ul>
<li>先执行try{…}代码</li>
<li>执行到出错的语句时，后续语句不再继续执行，转而执行catch(e){…}代码</li>
<li>最后执行finally{…}代码</li>
</ul>
</li>
<li>没有错误发生时，执行流程像这样<ul>
<li>先执行try{…}代码</li>
<li>因为没有出错，catch(e){…}代码不会被执行</li>
<li>最后执行finally{…}代码</li>
</ul>
</li>
<li>最后请注意，catch和finally可以不必都出现</li>
<li><p>try，catch，finally 语句块都需要使用花括号，花括号是必须的</p>
</li>
<li><p>JavaScript 有一个标准的Error对象表示错误，在处理错误是，可以通过catch(e)捕获的变量e访问错误对象</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	....</span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">		<span class="keyword">if</span>(e <span class="keyword">instanceof</span> <span class="built_in">TypeError</span>)&#123;</span><br><span class="line">			alert(<span class="string">'Typr error!'</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(e <span class="keyword">instanceof</span> <span class="built_in">Error</span>)&#123;</span><br><span class="line">			alert(e.message);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		alert(<span class="string">'Error: '</span>+e);</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/04/21/Javascript-5%E8%AF%AD%E5%8F%A5/throw3.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-5%E8%AF%AD%E5%8F%A5/throw4.png" alt="示例"></p>
<h3 id="5-7其他语句类型"><a href="#5-7其他语句类型" class="headerlink" title="5.7其他语句类型"></a>5.7其他语句类型</h3><h4 id="use-strict"><a href="#use-strict" class="headerlink" title="use strict"></a>use strict</h4><ul>
<li>use strict 是说明严格模式</li>
<li>只能出现在脚本代码的开始或者函数体的开始、任何实体语句之前</li>
<li>为了避免缺陷建议所有的JS代码都应该使用严格模式<ul>
<li>最简单的就是在JS代码的第一行上写上：’use strict’;</li>
</ul>
</li>
<li>严格模式和非严格模式中的区别<ul>
<li>严格模式中所有的变量都要先声明</li>
<li>不能使用with语句</li>
<li>调用的函数（不是方法）中的一个this值时undefined，在非严格模式中调用的函数中的this值总是全局对象</li>
</ul>
</li>
</ul>
<h4 id="with语句，建议不要用"><a href="#with语句，建议不要用" class="headerlink" title="with语句，建议不要用"></a>with语句，建议不要用</h4><h4 id="debugger语句"><a href="#debugger语句" class="headerlink" title="debugger语句"></a>debugger语句</h4><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p><img src="/2020/04/21/Javascript-5%E8%AF%AD%E5%8F%A5/小结.png" alt="示例"></p>
<p><img src="/2020/04/21/Javascript-5%E8%AF%AD%E5%8F%A5/小结2.png" alt="示例"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/04/21/%E9%93%BE%E5%BC%8F%E5%89%8D%E9%A1%B9%E6%98%9F%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%BA%94%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/21/%E9%93%BE%E5%BC%8F%E5%89%8D%E9%A1%B9%E6%98%9F%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%BA%94%E7%94%A8/" class="post-title-link" itemprop="url">链式前项星的概念与应用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-21 12:37:54" itemprop="dateCreated datePublished" datetime="2020-04-21T12:37:54+08:00">2020-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-06-21 12:49:40" itemprop="dateModified" datetime="2020-06-21T12:49:40+08:00">2020-06-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bfs/" itemprop="url" rel="index"><span itemprop="name">bfs</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="链式前向星"><a href="#链式前向星" class="headerlink" title="链式前向星"></a>链式前向星</h1><p><img src="/2020/04/21/%E9%93%BE%E5%BC%8F%E5%89%8D%E9%A1%B9%E6%98%9F%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%BA%94%E7%94%A8/1.png" alt="示例"></p>
<p><img src="/2020/04/21/%E9%93%BE%E5%BC%8F%E5%89%8D%E9%A1%B9%E6%98%9F%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%BA%94%E7%94%A8/2.png" alt="示例"></p>
<p><img src="/2020/04/21/%E9%93%BE%E5%BC%8F%E5%89%8D%E9%A1%B9%E6%98%9F%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%BA%94%E7%94%A8/3.png" alt="示例"></p>
<p><img src="/2020/04/21/%E9%93%BE%E5%BC%8F%E5%89%8D%E9%A1%B9%E6%98%9F%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%BA%94%E7%94%A8/4.png" alt="示例"></p>
<ul>
<li>链式前向星在存储图时十分有用，特别是当边有权值时。我们用过一道题目了来具体分析一下</li>
</ul>
<p><img src="/2020/04/21/%E9%93%BE%E5%BC%8F%E5%89%8D%E9%A1%B9%E6%98%9F%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%BA%94%E7%94%A8/UVA1599题目.png" alt="示例"></p>
<p>链式前向星只是一种应用，是一种小技巧。所以我们先要构造一个链式前向星来存储数据。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n,m,cnt;<span class="comment">//全局变量默认为0</span></span><br><span class="line"><span class="keyword">int</span> head[N],dis[N];</span><br><span class="line"><span class="comment">//head数组就是存储头节点的数组，head[i]就是存储以i为起点的第一条边的下标</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//链式前向星的三个空间：to代表这条边连接的另一个方向（因为一个方向就是头节点）</span></span><br><span class="line">    <span class="comment">//c代表权值，在这里就是指颜色</span></span><br><span class="line">    <span class="comment">//next存储的是下一条边的编号，如果没有下一条了，那么就是-1</span></span><br><span class="line">    <span class="keyword">int</span> to,c,next;</span><br><span class="line">&#125;e[M];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//这个add函数就是实现头插</span></span><br><span class="line">    <span class="comment">//cnt代表边序号</span></span><br><span class="line">    e[++cnt].to = v;</span><br><span class="line">    e[cnt].c = c;</span><br><span class="line">    <span class="comment">//这一步，其实就是指向这个头结点指向的第一条边</span></span><br><span class="line">    e[cnt].next = head[u];</span><br><span class="line">    <span class="comment">//然后更新头结点的第一条边，让头结点的第一条边为这条边</span></span><br><span class="line">   <span class="comment">//cnt++就是这条边的序号</span></span><br><span class="line">    head[u] = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> u,v,c;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m)<span class="comment">//输入n也就是最后要达到的目标，m也就是下面数据的组数</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">memset</span>(head,<span class="number">0</span>, <span class="keyword">sizeof</span>(head));</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//这里，因为我们要存储的是无向图，所以对于每一组数据，都要存储两条边</span></span><br><span class="line">        <span class="comment">//一条从头指向尾，一条反指</span></span><br><span class="line">    	<span class="built_in">cin</span>&gt;&gt;u&gt;&gt;v&gt;&gt;c;</span><br><span class="line">        add(u,v,c);</span><br><span class="line">        add(v,u,c);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">     bfs1();</span><br><span class="line">     <span class="built_in">cout</span>&lt;&lt;dis[<span class="number">1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">     bfs2();</span><br><span class="line">     <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>构建好，并存储好后，开始bfs</li>
</ul>
<p><img src="/2020/04/21/%E9%93%BE%E5%BC%8F%E5%89%8D%E9%A1%B9%E6%98%9F%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%BA%94%E7%94%A8/UVA1599题解2.png" alt="示例"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//关于为什么要逆向标高</span></span><br><span class="line"><span class="comment">//逆向标高是从目标反向遍历，比如我们要从1找到4，那么从4开始反向便利</span></span><br><span class="line"><span class="comment">//这样，4 的深度为0，1的深度为2，那么1-&gt;4 的深度是2</span></span><br><span class="line"><span class="comment">//因为要输出至少经过k条边，那么深度就是边的条数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs1</span><span class="params">()</span><span class="comment">//逆向标高</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> u,v;</span><br><span class="line">    <span class="comment">//首先把所有的节点的访问值标为0，在接下来的访问中，凡是访问到，标为1</span></span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="literal">false</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="comment">//首先把目标的深度标为0</span></span><br><span class="line">    dis[n]=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//队列q1是保存节点号的</span></span><br><span class="line">    q1.push(n);</span><br><span class="line">    <span class="comment">//然后把n设为已经访问</span></span><br><span class="line">    vis[n]=<span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//第一次深度搜索</span></span><br><span class="line">    <span class="keyword">while</span>(!q1.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//每次u设为队列的头节点，</span></span><br><span class="line">        u = q1.front();</span><br><span class="line">        q1.pop();</span><br><span class="line">        <span class="comment">//把u设为已经访问</span></span><br><span class="line">        vis[u]=<span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//把头节点出队以后，将这个头结点所有的边连接着的节点入队</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i  = head[u];i;i=e[i].next)</span><br><span class="line">        <span class="comment">//因为存储的时候是从1开始的，所以结束条件是i！=0</span></span><br><span class="line">        &#123;            </span><br><span class="line">            v=e[i].to;</span><br><span class="line">            <span class="keyword">if</span>(vis[v])<span class="comment">//如果v已经被访问过了</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">//把下一个结点的深度标为出队节点+1</span></span><br><span class="line">            dis[v]=dis[u]+<span class="number">1</span>;</span><br><span class="line">            <span class="comment">//然后把新节点入队</span></span><br><span class="line">            q1.push(v);</span><br><span class="line">            <span class="comment">//把新节点标记为访问</span></span><br><span class="line">            vis[v]=<span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>反向遍历之后，我们需要从1开始正向遍历</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> u,v,minc,c;</span><br><span class="line">    <span class="keyword">bool</span> first = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//刚才vis数组已经有改了，现在是正向遍历，所以要重置</span></span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">    vis[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//从1开始bfs，把1所有连接的节点，而且节点是满足”1的深度“-1的，入队</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = head[<span class="number">1</span>];i;i = e[i].next)</span><br><span class="line">        <span class="keyword">if</span>(dis[e[i].to]==dis[<span class="number">1</span>]<span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//这里，入队不仅仅是把节点号入队，也要把颜色入队</span></span><br><span class="line">            q1.push(e[i].to);</span><br><span class="line">            q2.push(e[i].c);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">while</span>(!q1.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//把最小的颜色号初始化为最大值</span></span><br><span class="line">        minc = inf;</span><br><span class="line">        <span class="keyword">while</span>(!q1.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//和bfs1一样，先出队，然后把符合条件的全部入队</span></span><br><span class="line">            <span class="comment">//q1，q2同时入队，同时出队，能保证他们之间是一一对应的</span></span><br><span class="line">            v= q1.front();</span><br><span class="line">            q1.pop();</span><br><span class="line">            c= q2.front();</span><br><span class="line">            q2.pop();</span><br><span class="line">            <span class="comment">//q3 用来保存色号最小的关联的临节点号</span></span><br><span class="line">            <span class="comment">//如果发现有比q3中存储的更小的色号，那么直接把q3清空</span></span><br><span class="line">            <span class="comment">//再把现有的色号存储进进q3</span></span><br><span class="line">            <span class="keyword">if</span>(c&lt;minc)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span>(!q3.empty())</span><br><span class="line">                    q3.pop();</span><br><span class="line">                minc = c;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(c==minc)</span><br><span class="line">                q3.push(v);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(first)</span><br><span class="line">            first = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        <span class="comment">//这样，每一次输出的都是当前深度下，最小的色号</span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;minc;</span><br><span class="line">        <span class="comment">//接下俩这一步就是通过当前q3中存储的这些节点出发，寻找下一层、</span></span><br><span class="line">        <span class="comment">//并且把下一层的节点和色号都入队</span></span><br><span class="line">        <span class="comment">//且能达到清空q3的作用，为下一次循环做准备</span></span><br><span class="line">        <span class="keyword">while</span>(!q3.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            u = q3.front();</span><br><span class="line">            q3.pop();</span><br><span class="line">            <span class="keyword">if</span>(vis[u])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            vis[u]=<span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u];i;i = e[i].next)</span><br><span class="line">            &#123;</span><br><span class="line">                v=e[i].to;</span><br><span class="line">                <span class="keyword">if</span>(dis[v]==dis[u]<span class="number">-1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    q1.push(v);</span><br><span class="line">                    q2.push(e[i].c);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="post-title-link" itemprop="url">初识正则表达式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-20 22:44:53" itemprop="dateCreated datePublished" datetime="2020-04-20T22:44:53+08:00">2020-04-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-06-21 12:52:56" itemprop="dateModified" datetime="2020-06-21T12:52:56+08:00">2020-06-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Regular-Expression/" itemprop="url" rel="index"><span itemprop="name">Regular Expression</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="正则表达式的探索与发现-爬虫项目系列博客"><a href="#正则表达式的探索与发现-爬虫项目系列博客" class="headerlink" title="正则表达式的探索与发现-爬虫项目系列博客"></a>正则表达式的探索与发现-爬虫项目系列博客</h1><p>​    因为要实现爬虫的功能，正则表达式是必须要掌握和简单应用的。那么这对于从来没看到过正则表达式的小白来说，它无疑是头痛的，因为它的长这个样子</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url_reg = <span class="regexp">/\/(\d&#123;4&#125;)\/(\d&#123;2&#125;)-(\d&#123;2&#125;)\/(\d&#123;7&#125;).shtml/</span>;</span><br><span class="line"><span class="keyword">var</span> regExp = <span class="regexp">/((\d&#123;4&#125;|\d&#123;2&#125;)(\-|\/|\.)\d&#123;1,2&#125;\3\d&#123;1,2&#125;)|(\d&#123;4&#125;年\d&#123;1,2&#125;月\d&#123;1,2&#125;日)/</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  * 正则表达式:也叫规则表达式,按照一定的规则组成的一个表达式,这个表达式的作用主要是匹配字符串的,</span></span><br><span class="line"><span class="comment">    * "我的电话:10086,他的电话:10010,你的电话:10000" 正则表达式,把这个字符串中的所有的数字找到</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 正则表达式的作用:匹配字符串的</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 在大多数编程语言中都可以使用</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 正则表达式的组成:是由元字符或者是限定符组成的一个式子</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 元字符:</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * .  表示的是:除了\n以外的任意的一个字符   "fdsfs238"</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * [] 表示的是:范围,  [0-9] 表示的是0到9之间的任意的一个数字,  "789" [0-9]</span></span><br><span class="line"><span class="comment">    * [1-7] 表示的是1到7之间的任意的一个数字</span></span><br><span class="line"><span class="comment">    * [a-z] 表示的是:所有的小写的字母中的任意的一个</span></span><br><span class="line"><span class="comment">    * [A-Z] 表示的是:所有的大写的字母中的任意的一个</span></span><br><span class="line"><span class="comment">    * [a-zA-Z] 表示的是:所有的字母的任意的一个</span></span><br><span class="line"><span class="comment">    * [0-9a-zA-Z] 表示的是: 所有的数字或者是字母中的一个</span></span><br><span class="line"><span class="comment">    * [] 另一个含义: 把正则表达式中元字符的意义干掉    [.] 就是一个.</span></span><br><span class="line"><span class="comment">    * | 或者     [0-9]|[a-z] 表示的是要么是一个数字,要么是一个小写的字母</span></span><br><span class="line"><span class="comment">    * () 分组 提升优先级   [0-9]|([a-z])|[A-Z]</span></span><br><span class="line"><span class="comment">    * ([0-9])([1-5])([a-z]) 三组, 从最左边开始计算</span></span><br><span class="line"><span class="comment">    * (()(()))有几个左括号就有几组</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 都是元字符,但是也可以叫限定符,下面的这些</span></span><br><span class="line"><span class="comment">    *    *   表示的是:前面的表达式出现了0次到多次</span></span><br><span class="line"><span class="comment">    *    [a-z][0-9]* 小写字母中的任意一个 后面是要么是没有数字的,要么是多个数字的</span></span><br><span class="line"><span class="comment">    *    "fdsfs3223323"  [a-z][0-9]* 这是能匹配的，s3223323能够匹配</span></span><br><span class="line"><span class="comment">    *     只要某一节字符串匹配，那么整个字符串都匹配</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *    +  表示的是:前面的表达式出现了1次到多次</span></span><br><span class="line"><span class="comment">    *    [a-z][9]+  小写字母一个后面最少一个9,或者多个9</span></span><br><span class="line"><span class="comment">    *    "fesfewww9fefds" 这也是可以匹配的，w9 能够匹配</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *    ?  表示的是:前面的表达式出现了0次到1次,最少是0次,最多1次 ,另一个含义:阻止贪婪模式</span></span><br><span class="line"><span class="comment">    *    [4][a-z]? "1231234ij"</span></span><br><span class="line"><span class="comment">    *  限定符:限定前面的表达式出现的次数</span></span><br><span class="line"><span class="comment">    *  &#123;&#125; 更加的明确前面的表达式出现的次数</span></span><br><span class="line"><span class="comment">    *  &#123;0,&#125; 表示的是前面的表达式出现了0次到多次,和 *一样的</span></span><br><span class="line"><span class="comment">    *  &#123;1,&#125; 表示的是前面的表达式出现了1次到多次,和 +一样的</span></span><br><span class="line"><span class="comment">    *  &#123;0,1&#125; 表示的是前面的表达式出现了0次到1次,和 ?一样的</span></span><br><span class="line"><span class="comment">    *  &#123;5,10&#125; 表示的是前面的表达式出现了5次到10次</span></span><br><span class="line"><span class="comment">    *  &#123;4&#125; 前面的表达式出现了4次</span></span><br><span class="line"><span class="comment">    *  &#123;,10&#125; 错误的========不能这么写</span></span><br><span class="line"><span class="comment">    *  ^ 表示的是以什么开始,或者是取非(取反)</span></span><br><span class="line"><span class="comment">    *  ^[0-9] 以数字开头</span></span><br><span class="line"><span class="comment">    *  ^[a-z] 以小写字母开始</span></span><br><span class="line"><span class="comment">    *  [^0-9] 取反,非数字</span></span><br><span class="line"><span class="comment">    *  [^a-z] 非小写字母</span></span><br><span class="line"><span class="comment">    *  [^0-9a-zA-Z_] _不是特舒符号</span></span><br><span class="line"><span class="comment">    *  $ 表示的是以什么结束   [0-9][a-z]$  必须以小写字母结束</span></span><br><span class="line"><span class="comment">    *  ^[0-9][a-z]$ 相当于是严格模式   "3f2432e"  "4f" ^限定开始，$限定结束 。有了^$,表示严格模式</span></span><br><span class="line"><span class="comment">    *   \d 数字中的任意一个,</span></span><br><span class="line"><span class="comment">    *   \D 非数字中的一个</span></span><br><span class="line"><span class="comment">    *   \s 空白符中的一个</span></span><br><span class="line"><span class="comment">    *   \S 非空白符</span></span><br><span class="line"><span class="comment">    *   \w 非特殊符号</span></span><br><span class="line"><span class="comment">    *   \W 特殊符号</span></span><br><span class="line"><span class="comment">    *   \b 单词的边界</span></span><br><span class="line"><span class="comment">    *   "what are you no sha lei"</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *    . 除了\n以外的任意一个单个字符</span></span><br><span class="line"><span class="comment">    *    []  范围</span></span><br><span class="line"><span class="comment">    *    () 分组,提升优先级</span></span><br><span class="line"><span class="comment">    *    | 或者</span></span><br><span class="line"><span class="comment">    *    * 0-多次</span></span><br><span class="line"><span class="comment">    *    + 1-多次</span></span><br><span class="line"><span class="comment">    *    ? 0-1次</span></span><br><span class="line"><span class="comment">    *    &#123;0,&#125; 和*一样</span></span><br><span class="line"><span class="comment">    *    &#123;1,&#125; 和+</span></span><br><span class="line"><span class="comment">    *    &#123;0,1&#125; 和?</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *    \d 数字中的一个</span></span><br><span class="line"><span class="comment">    *    \D 非数字</span></span><br><span class="line"><span class="comment">    *    \s 空白符</span></span><br><span class="line"><span class="comment">    *    \S 非空白符</span></span><br><span class="line"><span class="comment">    *     \W  特殊符号</span></span><br><span class="line"><span class="comment">    *     \w 非特殊符号 _ 等价于[A-Za-z0-9 ]</span></span><br><span class="line"><span class="comment">    *     ^ 取反,以什么开始</span></span><br><span class="line"><span class="comment">    *     $ 以什么结束</span></span><br><span class="line"><span class="comment">    *     \b 单词边界</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 写正则表达式,根据字符串来写正则表达式进行匹配</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 经验: 1.找规律 2.不要追求完美</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 身份证的正则表达式</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 15位或者18位</span></span><br><span class="line"><span class="comment">    * ([1-9][0-9]&#123;14&#125;)|([1-9][0-9]&#123;16&#125;[0-9xX])</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * ([1-9][0-9]&#123;14&#125;)([0-9]&#123;2&#125;[0-9xX])?//问号表示前面的（）有没有出现过，0或1次</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 练习:</span></span><br><span class="line"><span class="comment">    * 1.座机号码的正则表达式</span></span><br><span class="line"><span class="comment">    * 010-19876754</span></span><br><span class="line"><span class="comment">    * 0431-87123490</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * [0-9]&#123;3,4&#125;[-][0-9]&#123;8&#125;</span></span><br><span class="line"><span class="comment">    * \d&#123;3,4&#125;[-]\d&#123;8&#125;</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * \d&#123;3,4&#125;[-][0-9]&#123;8&#125; 这种方式不工整</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 2.qq号码的正则表达式</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * [1-9][0-9]&#123;4,10&#125;</span></span><br><span class="line"><span class="comment">    * \d&#123;5,11&#125;</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 3.手机号码的正则表达式</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 130 131 132 133 134 135 136 137 138 139</span></span><br><span class="line"><span class="comment">    * 143 147</span></span><br><span class="line"><span class="comment">    * 150 151 152 153 154 155 156 157 158 159</span></span><br><span class="line"><span class="comment">    * 170 171 173 176 177</span></span><br><span class="line"><span class="comment">    * 180 181 182 183 184 185 186 187 188 189</span></span><br><span class="line"><span class="comment">    * ([1][358][0-9][0-9]&#123;8&#125;)|([1][4][37][0-9]&#123;8&#125;)|([1][7][01367][0-9]&#123;8&#125;)</span></span><br><span class="line"><span class="comment">    * \d&#123;11&#125;</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 邮箱的正则表达式,必须要记住的</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * sd2113_3.-fd@itcast.com.cn</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * [0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+)&#123;1,2&#125;有可能是.com 也有可能是.com.cn</span></span><br><span class="line"><span class="comment">    * + 表示一次到多次</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *[0-9a-zA-Z_.]+[@][0-9a-zA-Z._]+([.][a-zA-Z]+)&#123;1,2&#125;</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * */</span></span><br></pre></td></tr></table></figure>
<p>​    </p>
<p>翻阅了一下犀牛书，有看了几个网上的教学视频，总算有了点概念，接下来我先把书本的内容贴上来</p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/b1.jpg" alt="示例"></p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/b2.jpg" alt="示例"></p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/b3.jpg" alt="示例"></p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/b4.jpg" alt="示例"></p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/b5.jpg" alt="示例"></p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/b6.jpg" alt="示例"></p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/b7.jpg" alt="示例"></p>
<h4 id="先来看看第一个正则表达式"><a href="#先来看看第一个正则表达式" class="headerlink" title="先来看看第一个正则表达式"></a>先来看看第一个正则表达式</h4><p>我们要知道，正则表达式不是我们凭空捏造出来的，而是在我们找到目标网页后，根据源代码中子内容的编写规律对应着写下来的，老师的代码爬取的式中国新闻网的内容，所以我们先打开中国新闻网的源代码页面。</p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/新闻主页.png" alt="示例"></p>
<p>我们看到了这一行行的新闻标题，心想：这不就是我想要的嘛！！！怎么才能获得呢！？？</p>
<p>不慌，按F12<del>进入坦克</del>进入DevTools</p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/devtools.png" alt="示例"></p>
<p>那么如何才能定位呢？我们点击左上方的那个小按钮，对，就是那个有鼠标一样的小按钮</p>
<p><del>新世界开启</del></p>
<p>我们只要把我们的鼠标移动到任何一处，图片，链接，窗口等等，devtools中就会自动显示对应的链接，太可了！</p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/shubiao.png" alt="示例"></p>
<p>这样看了几个新闻链接后，我们不难发现</p>
<p><a href="http://www.chinanews.com/gn/2020/04-20/9162393.shtml" target="_blank" rel="noopener">http://www.chinanews.com/gn/2020/04-20/9162393.shtml</a></p>
<p><a href="http://www.chinanews.com/gj/2020/04-20/9162621.shtml" target="_blank" rel="noopener">http://www.chinanews.com/gj/2020/04-20/9162621.shtml</a></p>
<p><a href="http://www.chinanews.com/cj/2020/04-20/9162059.shtml" target="_blank" rel="noopener">http://www.chinanews.com/cj/2020/04-20/9162059.shtml</a></p>
<p>好吧事不过三，我们发现这三个基本上具有相同的格式，只是中间的gn/gj/cn不同，日期可能不同和后边的编码不同，好，那么我们需要用正则表达式去匹配前面的www.chinanews.com嘛？其实并不需要，我们只需要找到这类链接的不同之处即可，否则就是浪费时间。那么再来分析一下我们的正则表达式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url_reg = <span class="regexp">/\/(\d&#123;4&#125;)\/(\d&#123;2&#125;)-(\d&#123;2&#125;)\/(\d&#123;7&#125;).shtml/</span>;</span><br><span class="line"><span class="comment">//  首尾两个/ 是在Js中的声明正则表达式的固定用法，可以略去</span></span><br><span class="line"><span class="comment">//  1.\ 是用来转义的 \/匹配的是/</span></span><br><span class="line"><span class="comment">//  2.(\d&#123;4&#125;)分成两个部分 ：\d 代表数字 &#123;4&#125;代表出现字数，这里很明显我们要匹配2020</span></span><br><span class="line"><span class="comment">// 	3.\/ 又是匹配/</span></span><br><span class="line"><span class="comment">// 	4.(\d&#123;2&#125;) 同理，这次我们来匹配月份，04</span></span><br><span class="line"><span class="comment">//	5. - 其实就是匹配04-20中的-</span></span><br><span class="line"><span class="comment">//	6. (\d&#123;2&#125;)匹配的是日期</span></span><br><span class="line"><span class="comment">// 	7. \/ 又是匹配/</span></span><br><span class="line"><span class="comment">//	8.(\d&#123;7&#125;) 匹配编号，不同网页都有独特的编号</span></span><br><span class="line"><span class="comment">// 	9  .shitml就是匹配 .shtml </span></span><br><span class="line"><span class="comment">// 值得注意的是，在这里.的意思是非\n的任意字符，包括了. 如果我们只要匹配 . 需要写[.]</span></span><br></pre></td></tr></table></figure>
<p><strong>分析完毕，我们来测试一下他的具体性能吧</strong></p>
<p><a href="https://c.runoob.com/front-end/854" target="_blank" rel="noopener">https://c.runoob.com/front-end/854</a> 这是一个在线测试正则表达式的网站，在写爬虫的时候先跑一下看看到底能不能过滤出有效的信息来</p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/cainiaogongju.png" alt="示例"></p>
<p>可以看到这个正则表达式还是蛮厉害的，匹配到了200多条网页链接</p>
<h4 id="再来看看第二个正则表达式"><a href="#再来看看第二个正则表达式" class="headerlink" title="再来看看第二个正则表达式"></a>再来看看第二个正则表达式</h4><ul>
<li>我们来看看第二个正则表达式索要匹配的目标</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regExp = <span class="regexp">/((\d&#123;4&#125;|\d&#123;2&#125;)(\-|\/|\.)\d&#123;1,2&#125;\3\d&#123;1,2&#125;)|(\d&#123;4&#125;年\d&#123;1,2&#125;月\d&#123;1,2&#125;日)/</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>&lt;span id=<span class="string">"pubtime_baidu"</span>&gt;<span class="number">2020</span><span class="number">-04</span><span class="number">-21</span> <span class="number">08</span>:<span class="number">53</span>:<span class="number">46</span>&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">2. &lt;div class="left-t"&gt;2020年04月21日 09:08　来源：法制日报&lt;a href="#zw_cyhd" target="_self"&gt; </span></span><br><span class="line"><span class="regexp">3.也有可能是这种 20-03-11</span></span><br></pre></td></tr></table></figure>
<ul>
<li>其实我们要匹配的是这个出版时间,因为新闻嘛，总要讲究出版时间，所以我们要把他们都找出来</li>
<li>因为出版时间有多种形式，有可能是19-08-19类的，有可能是2020/03/20，也有可能是2020年04月21日</li>
</ul>
<ol>
<li>\d{4} 出现四个数字，也就是匹配年份</li>
<li>\d{2}  出现两个数字，也是年份，只不过可能是19-xx-xx也有可能是 2019-xx-xx 所以在中间加个|表示或</li>
<li>( \-|\/|\.)其实是最难的，因为信息量很大，其实她想说的就是中间连字符的种类，可能是 -，可能是/,可能是 .  中间两个| 就是表示或者的意思</li>
<li>\d{1,2}是匹配月份的，有可能是 1，也有可能是01</li>
<li>\3比较难理解，这个\3其实就是匹配左边开始数第三个左括号的，也就是( \-|\/|\.)，其实也是月和日之间的连接符</li>
<li>\d{1,2}匹配的是日期</li>
<li>前面完全是数字字符来表达年月日，不过也存在2020年4月21日这种情况，那么我们如何解决？| 就完事了</li>
<li>| 后面匹配的就是2020年4月21日这类的日期表达</li>
</ol>
<p>下图就是\3 这类\后面加上数字的作用</p>
<img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/3.png" class>
<h4 id="最后来看看我的爬虫中的正则表达式"><a href="#最后来看看我的爬虫中的正则表达式" class="headerlink" title="最后来看看我的爬虫中的正则表达式"></a>最后来看看我的爬虫中的正则表达式</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regExp =<span class="regexp">/\/.\/.&#123;8&#125;\//</span></span><br></pre></td></tr></table></figure>
<p>我要爬取的网站是 <a href="https://www.smzdm.com/" target="_blank" rel="noopener">https://www.smzdm.com/</a> 什么值得买网站（为了找我喜欢的咖啡具）</p>
<p>然后我们来看看子网页</p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/正.png" alt="示例"></p>
<p>按照上面的方法，我们来找找看子网页的url</p>
<p><a href="https://post.smzdm.com/p/alpwnzve/" target="_blank" rel="noopener">https://post.smzdm.com/p/alpwnzve/</a></p>
<p><a href="https://post.smzdm.com/p/awxqrv02/" target="_blank" rel="noopener">https://post.smzdm.com/p/awxqrv02/</a></p>
<p>规律是很明显的，我们需要匹配的就是  /p/alpwnzve/ </p>
<ol>
<li>\/匹配的就是/</li>
<li>.匹配的是任何字符（除了\n),当然也可以用[a-zA-Z]代替</li>
<li>\/又匹配的是/</li>
<li>.{8} 匹配的就是 连续八个字符，这里匹配的就是alpwnzve之类的</li>
<li>\/匹配的还是/</li>
</ol>
<p>来看看我们的匹配结果</p>
<p><img src="/2020/04/20/%E5%88%9D%E8%AF%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/33.png" alt="示例"></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>写到这里，我们对正则表达式都有了一个基本的概念了，学会了正则表达式，在爬虫的项目中就解决了一个很大的难题。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/" class="post-title-link" itemprop="url">用nodejs来制作一个简单的爬虫来爬取网页信息</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-20 22:33:38" itemprop="dateCreated datePublished" datetime="2020-04-20T22:33:38+08:00">2020-04-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-09 18:14:48" itemprop="dateModified" datetime="2020-05-09T18:14:48+08:00">2020-05-09</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="用nodejs来制作一个简单的爬虫来爬取网页信息"><a href="#用nodejs来制作一个简单的爬虫来爬取网页信息" class="headerlink" title="用nodejs来制作一个简单的爬虫来爬取网页信息"></a>用nodejs来制作一个简单的爬虫来爬取网页信息</h1><h2 id="写在前面——知其然也要知其所以然"><a href="#写在前面——知其然也要知其所以然" class="headerlink" title="写在前面——知其然也要知其所以然"></a>写在前面——知其然也要知其所以然</h2><ul>
<li><p>像我这样连冲个咖啡豆要记笔记的人，怎么能写自己都看不懂的博客呢？所以我的目标是你读完了我的博客，也可以写出爬虫来。</p>
</li>
<li><p>这一篇是目录性质的博客，冰冻三尺非一日之寒，爬虫项目只写一篇博客是完全不够的，所以我打算用分而治之的框架来完成这篇博客的内容。我想把它分成几个部分，逐个击破，已达到融会贯通的地步（显然这是基本不可能的）</p>
</li>
<li><p>最近学校的web编程课要求我们做一个爬虫来爬取网页信息，老师给出了一个新闻网站的爬取，但是因为缺少对JavaScript语言的认识和运用，用nodejs来写显得举步维艰。（水平过于低下）</p>
</li>
<li>前三个问题，注重于基础知识，是为正式的爬虫项目打基础、做准备的，罗马不是一天建成的，有了前面的基础知识，对爬虫有了初步了解，才能够有能力看得懂（我说只是有能力看懂）每一步的操作</li>
</ul>
<ol>
<li><h6 id="对JavaScript语法的陌生"><a href="#对JavaScript语法的陌生" class="headerlink" title="对JavaScript语法的陌生"></a>对JavaScript语法的陌生</h6></li>
<li><h6 id="对爬虫原理的陌生"><a href="#对爬虫原理的陌生" class="headerlink" title="对爬虫原理的陌生"></a>对爬虫原理的陌生</h6></li>
<li><p>对正则表达式的陌生</p>
</li>
<li><p>爬虫项目中引用的包及其用法</p>
</li>
<li><p>如何选定一个网站，并模仿老师的代码开始我的爬虫项目？</p>
</li>
<li><p>用JSON格式存储时的重名问题</p>
</li>
<li><p>对爬取特定信息的格式问题</p>
</li>
<li><p>将数据存储到MySql时遇到的问题</p>
</li>
<li><p>如何用mysql查询已经爬取的数据</p>
</li>
<li><p>用网页发送请求到后端查询</p>
</li>
<li><p>用express构建网站访问mysql</p>
</li>
<li><p>用表格显示查询结果</p>
</li>
<li><p>爬虫定时工作</p>
</li>
<li><p>尝试其他的扩展（留给读者，或者无限期暂停更新）</p>
</li>
</ol>
<ul>
<li>所以，这篇文章列举了我在写爬虫项目时候的种种问题和解答，如果篇幅不长，我会直接在博文里介绍，如果篇幅过长，我会另写一篇博客，并在这里附上链接，以供读者方便切换阅读</li>
</ul>
<h3 id="1-对JavaScript语法的陌生"><a href="#1-对JavaScript语法的陌生" class="headerlink" title="1.对JavaScript语法的陌生"></a>1.对JavaScript语法的陌生</h3><h4 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h4><p>在大一下之前，我对JavaScript一脸茫然，甚至认为JavaScript和Java是一种语言，这显然是过于荒唐的一件事。认真学习JavaScript也是在网课进行了一个半月之后。</p>
<h4 id="如何解决？"><a href="#如何解决？" class="headerlink" title="如何解决？"></a>如何解决？</h4><p>对于老师的每章节网课，我都有在博客上记笔记，可以看看我的JavaScript语法系列博客</p>
<p><a href="https://jasonxqh.github.io/2020/04/20/JavaScript-4表达式和运算符/">Javascript表达式和运算符</a></p>
<p><a href="https://jasonxqh.github.io/2020/04/21/Javascript-5语句/">Javascript语句</a></p>
<p><a href="https://jasonxqh.github.io/2020/04/21/Javascript-6对象/">Javascript对象</a></p>
<p><a href="https://jasonxqh.github.io/2020/04/21/Javascript-7数组/">Javascript数组</a></p>
<p><a href="https://jasonxqh.github.io/2020/04/21/Javascript-8函数/">JavaScript函数</a></p>
<p>在没有学习过Javascript语法的时候，就上手爬虫项目，无异于以卵击石，自不量力。对于每一句话，每一个函数，都在脑子中缓缓打出一个？</p>
<h3 id="2-对爬虫原理的陌生"><a href="#2-对爬虫原理的陌生" class="headerlink" title="2.对爬虫原理的陌生"></a>2.对爬虫原理的陌生</h3><h4 id="起因-1"><a href="#起因-1" class="headerlink" title="起因"></a>起因</h4><p> 这方面对于没有学过爬虫原理的我来说要理解起来确实有点困难，但是幸好老师提供了几期视频来阐述，于是懵懵懂懂有个概念。</p>
<h4 id="如何解决？-1"><a href="#如何解决？-1" class="headerlink" title="如何解决？"></a>如何解决？</h4><p>看了几遍老师的代码和讲解后，可以简单得将爬虫的思想列举一下</p>
<ol>
<li>首先我们搜索主页面，获取我们想要的子网页的URL<ul>
<li>通过request请求，cheerio解析，each遍历</li>
</ul>
</li>
<li>搜索出我们子网页页面中我们需要的信息：标题，正文等<ul>
<li>通过request请求，cheerio解析</li>
</ul>
</li>
<li>将这些我们需要的信息保存下来，通过各种形式访问到这种信息<ul>
<li>建立fetch(文件对象)，输入文件信息，fs /mysql模块写入</li>
</ul>
</li>
</ol>
<p>读到这里，你只需要了解我们要一步步完成的目标就行，具体的工具我会在接下来的文章中一一讲述。</p>
<h3 id="3-对正则表达式的陌生"><a href="#3-对正则表达式的陌生" class="headerlink" title="3.对正则表达式的陌生"></a>3.对正则表达式的陌生</h3><h4 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h4><p>没有接触过正则表达式，一开始看到的时候感叹——这像天书般的\/{}$.+-[]根本无从下手<br>有一说一，我就是因为看不懂这么几行正则表达式，才迟迟不开始爬虫作业（特别不好学）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url_reg = <span class="regexp">/\/(\d&#123;4&#125;)\/(\d&#123;2&#125;)-(\d&#123;2&#125;)\/(\d&#123;7&#125;).shtml/</span>;</span><br><span class="line"><span class="keyword">var</span> regExp = <span class="regexp">/((\d&#123;4&#125;|\d&#123;2&#125;)(\-|\/|\.)\d&#123;1,2&#125;\3\d&#123;1,2&#125;)|(\d&#123;4&#125;年\d&#123;1,2&#125;月\d&#123;1,2&#125;日)/</span></span><br></pre></td></tr></table></figure>
<h4 id="如何解决？-2"><a href="#如何解决？-2" class="headerlink" title="如何解决？"></a>如何解决？</h4><p>显然，ddl是第一生产力。只剩下两周的时间了，我找了几期正则表达式的教学视频来补习了一下，也是勉强有了大概，并且用了这个页面上的正则表达式检测器练习了几遍。</p>
<ul>
<li><a href="https://c.runoob.com/front-end/854" target="_blank" rel="noopener">菜鸟工具</a></li>
<li>咦，他叫自己菜鸟工具，正好，非常适合我。</li>
<li>这里补充一下练习模式，就是在某一个网站上找源代码，然后找全部都是一种模式的网址或者图片。对着他写下你的正则表达式，然后把源代码复制到这个菜鸟工具中，检测一下是否把你想要的哪些网站都搜索出来了。</li>
<li>笨方法才是好方法，要写自己看的懂的，不要用很巧妙的正则表达式，当然大佬自动忽略。</li>
<li>程度，现在勉强可以看着网址写出他的正则表达式了</li>
<li>关于我如何学习正则表达式和正则表达式的具体概念，参见我的另一篇博客 —初识正则表达式   </li>
<li><a href="https://jasonxqh.github.io/2020/04/20/初识正则表达式/">初识正则表达式</a>  </li>
</ul>
<h3 id="4-爬虫项目中引用的包及其用法"><a href="#4-爬虫项目中引用的包及其用法" class="headerlink" title="4.爬虫项目中引用的包及其用法"></a>4.爬虫项目中引用的包及其用法</h3><h4 id="起因-2"><a href="#起因-2" class="headerlink" title="起因"></a>起因</h4><ul>
<li>我们不能简单的把几个模块引用过来但不知道其具体作用</li>
</ul>
<h4 id="如何解决？-3"><a href="#如何解决？-3" class="headerlink" title="如何解决？"></a>如何解决？</h4><ul>
<li><p>因此，我另写了篇博客来谈谈爬虫中需要引入的模块和它们的作用</p>
</li>
<li><p><a href="https://jasonxqh.github.io/2020/04/23/爬虫项目中引用的包及其用法/">爬虫项目中引用的包及其用法</a></p>
</li>
</ul>
<h3 id="5-如何选定一个网站，并模仿老师的代码开始我的爬虫项目？"><a href="#5-如何选定一个网站，并模仿老师的代码开始我的爬虫项目？" class="headerlink" title="5.如何选定一个网站，并模仿老师的代码开始我的爬虫项目？"></a>5.如何选定一个网站，并模仿老师的代码开始我的爬虫项目？</h3><h4 id="起因-3"><a href="#起因-3" class="headerlink" title="起因"></a>起因</h4><p>读懂了老师的代码，才是开始自己爬虫的第一步。那么，是应该选择什么网站来开始我的爬虫项目呢？娱乐网站?新闻网站？购物网站？ 最后，作为练习时长大半年的<del>个人练习生</del> 吧台手和资深键盘咖啡师的我来说，还是选择了什么值得买网站作为我的第一个爬虫项目（想看看大家的开箱报告）</p>
<h4 id="如何解决"><a href="#如何解决" class="headerlink" title="如何解决"></a>如何解决</h4><p>因为这里的空间不是很够，所以我会新建一篇博客详细讨论一下我是如何解决的</p>
<p><a href="https://jasonxqh.github.io/2020/04/23/模仿老师的代码开始自己的爬虫项目/">模仿老师的代码开始自己的爬虫项目</a></p>
<h3 id="6-用JSON格式存储时的重名问题"><a href="#6-用JSON格式存储时的重名问题" class="headerlink" title="6.用JSON格式存储时的重名问题"></a>6.用JSON格式存储时的重名问题</h3><p>我写完代码之后，已经成功地转码了</p>
<ol>
<li>但是却没有.json文件保存下来</li>
<li>存储下来了，但不是JSON文件</li>
</ol>
<h4 id="如何解决-1"><a href="#如何解决-1" class="headerlink" title="如何解决"></a>如何解决</h4><h5 id="问题1"><a href="#问题1" class="headerlink" title="问题1"></a>问题1</h5><p>问了助教和老师之后，在大家一起努力下，找到了问题并成功解决了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> filename = source_name + <span class="string">"_"</span> + (<span class="keyword">new</span> <span class="built_in">Date</span>()).toFormat(<span class="string">"YYYY-MM-DD"</span>) +</span><br><span class="line"><span class="string">"_"</span> + myURL.substr(myURL.lastIndexOf(<span class="string">'/'</span>) + <span class="number">1</span>) + <span class="string">".json"</span>;</span><br></pre></td></tr></table></figure>
<p>一开始，我和老师命名文件的时候用的是同一行代码，但是很显然，这个存储方法不是放诸四海皆准的，我们需要结合网站的url和具体作用来具体分析，然后再选择一个不会让文件重名的命名方法.</p>
<p>说白了，就是你怎样通过字符串拼接来给这么多文件取互不相同的名字？？</p>
<p><strong>首先看看中国新闻网的（子网页）URL</strong></p>
<p><a href="http://www.chinanews.com/gn/2020/04-23/9166028.shtml" target="_blank" rel="noopener">http://www.chinanews.com/gn/2020/04-23/9166028.shtml</a></p>
<p> <strong>再来看看什么值得买 (子网页）的URL</strong></p>
<p><a href="https://post.smzdm.com/p/531543/" target="_blank" rel="noopener">https://post.smzdm.com/p/531543/</a></p>
<p>结合老师的命名方法，我们一步一步分析,</p>
<ol>
<li><p>source_name 是我们规定的，在老师的代码里，是”中国新闻网”，在我的代码里是”什么值得买“，到现在，所有文件的命名都是一样的</p>
</li>
<li><p>(new Date()).toFormat(“YYYY-MM-DD”) 是用一个新的Date()对象，然后转码成YYYY-MM-DD的形式，如果在这里我仍然和老师的代码一样，那么到这里，所有的文件命名也还是一样的</p>
</li>
<li><p>最关键的一点，老师的这部分 myURL.substr(myURL.lastIndexOf(‘/‘) + 1)，也就是说，他截取了URL的一部分，那么，是从什么时候开始截取 的呢？</p>
<ol>
<li><p>lastIndexOf()这个api在我的Javascript数组这篇博客中有些到，就是从尾部开始遍历数组或者字符串，返回’/‘出现的第一个索引，然后把他加1</p>
</li>
<li><p>substr是字符串截取函数，这里是从myURL.lastIndexOf(‘/‘) + 1处开始截取，一直到末尾结束</p>
</li>
<li><p>我们可以看到，根据上面那个例子最后一个’/‘+1之后的字符串为9166028.shtml，而这一部分对中国新闻网的每一个页面都是不同的</p>
</li>
</ol>
</li>
<li><p>但是我的URL呢？我们如果用myURL.substr(myURL.lastIndexOf(‘/‘) + 1)这个方法呢？</p>
<ol>
<li>从什么值得买子网页可以看出，最后一个‘/’就是字符串中的最后一位，所以再加一，再截取，那么我们根本截取不到任何东西！！！</li>
</ol>
</li>
<li><p>所以这就出现了问题，老师在这一步已经完成了不同文件的命名，但我这时候所有的文件命名任然是一样的</p>
</li>
<li><p>最后只是加上后缀名’.json’,大家都一样</p>
</li>
</ol>
<ul>
<li><p>那么这就是问题的痛点了。我因为所有的文件名字都一样，所以电脑上更本无法保存，如何修改呢？？</p>
</li>
<li><p>通过老师的点拨，我对代码做了这样的修改</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> filename = source_name + <span class="string">"_"</span> +(<span class="keyword">new</span> <span class="built_in">Date</span>()).valueOf()+<span class="string">"_"</span>+<span class="string">".json"</span>;</span><br></pre></td></tr></table></figure>
<ol>
<li>我把新的Date()对象，使用了valueOf()的方法（返回的是毫秒数）</li>
<li>因为爬取每个页面的时间精确到毫秒级别，所以单单提取秒数是远远不够的，所以我没有用getSeconds()方法，而用了valueOf()方法</li>
<li><p>经过再操作，这个问题解决了！</p>
<h5 id="问题2"><a href="#问题2" class="headerlink" title="问题2"></a>问题2</h5></li>
</ol>
<p>现在，我已经实现了保存文件，但是，却都是这样的</p>
<p> <img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/2.png" alt="示例"></p>
<p>他没有任何的文件类型，这是啥情况呢</p>
<p><strong>返回代码本身，看看 .json 之前出了什么问题</strong></p>
<p>果然，我们发现了一个多余的下划线，本来是在老师的代码里面连接9166028.shtml用的，我没有把他删掉，这样， 下划线和.json的. 相连接，不符合命名规范。所以无法存储</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> filename = source_name + <span class="string">"_"</span> +(<span class="keyword">new</span> <span class="built_in">Date</span>()).valueOf() +<span class="string">".json"</span>;</span><br></pre></td></tr></table></figure>
<p>改成这样后，再运行，就完美了</p>
<p><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/3.png" alt="示例"></p>
<h3 id="7-对爬取特定信息的格式问题"><a href="#7-对爬取特定信息的格式问题" class="headerlink" title="7.对爬取特定信息的格式问题"></a>7.对爬取特定信息的格式问题</h3><h4 id="起因-4"><a href="#起因-4" class="headerlink" title="起因"></a>起因</h4><p>我准备爬取一个title和文章的内容，但是一开始只有文章内容被保留了下来，title并没有被爬取到</p>
<h4 id="如何解决？-4"><a href="#如何解决？-4" class="headerlink" title="如何解决？"></a>如何解决？</h4><p>助教一阵见血的指出了我的错误</p>
<ul>
<li>原来，本来我的代码是这样的：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> interface_format = <span class="string">"$('.edit_interface').text()"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>然而，网站里的源代码竟然是这样的</li>
</ul>
<p><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/4.png" alt="示例"></p>
<p>我们看见\<span class="edit_interface"> \</span> 这一行代码没有任何东西！</p>
<p>所以，我们爬取下来的文件，变成了这样：</p>
<p><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/5.png" alt="示例"></p>
<p>当我们改成下面代码的时候，一切都好起来了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> interface_format = <span class="string">"$('h1.item-name').text()"</span></span><br></pre></td></tr></table></figure>
<p><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/6.png" alt="示例"></p>
<h3 id="8-如何把数据存储到MySql中？"><a href="#8-如何把数据存储到MySql中？" class="headerlink" title="8.如何把数据存储到MySql中？"></a>8.如何把数据存储到MySql中？</h3><h4 id="起因-5"><a href="#起因-5" class="headerlink" title="起因"></a>起因</h4><p>如果说只能把内容存储到json文件中，那管理起来很麻烦。我们可以通过修改一下代码，让内容存储到数据库当中</p>
<h4 id="如何解决-2"><a href="#如何解决-2" class="headerlink" title="如何解决"></a>如何解决</h4><p>看了老师的视频之后，在问过助教之后，最终解决了</p>
<p>具体怎么解决，请看我的子博文：如何把数据存储到MySql中</p>
<p><a href="https://jasonxqh.github.io/2020/04/24/如何把数据存储到MySql中/">如何把数据存储到MySql中？</a></p>
<h3 id="9-如何用mysql查询已经爬取的数据"><a href="#9-如何用mysql查询已经爬取的数据" class="headerlink" title="9.如何用mysql查询已经爬取的数据"></a>9.如何用mysql查询已经爬取的数据</h3><h4 id="起因-6"><a href="#起因-6" class="headerlink" title="起因"></a>起因</h4><ul>
<li>已经爬取到了那么多数据，并且存放到了Mysql中了，那么怎么才能访问、查询他们呢？</li>
</ul>
<h4 id="如何解决-3"><a href="#如何解决-3" class="headerlink" title="如何解决"></a>如何解决</h4><ul>
<li>大量搜寻： <ul>
<li>select title,url from fetches                 //title，url可以换成任意种类，但这样所有的数据都会呈现</li>
<li>select title,url from fetches limit 20  //这样，呈现的信息就被限制在了20条</li>
<li>因为这样搜索的结果已经在<a href="https://jasonxqh.github.io/2020/04/24/如何把数据存储到MySql中/">如何把数据存储到MySql中?</a>这篇博文中有所展示，因此不予赘述</li>
</ul>
</li>
<li>关键词搜寻<ul>
<li>select title,author,publish_date from fetches where title like ‘%新冠%’；</li>
<li>结果如下</li>
<li><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/7.png" alt="示例"></li>
<li>select interface_format,url,crawltime from fetches where interface_format like ‘%咖啡%’;</li>
<li>结果如下</li>
<li><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/8.png" alt="示例"></li>
</ul>
</li>
<li>利用js文件搜寻</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mysql = <span class="built_in">require</span>(<span class="string">'./mysql_coffee.js'</span>);</span><br><span class="line"><span class="keyword">var</span> title = <span class="string">'咖啡'</span>;</span><br><span class="line"><span class="keyword">var</span> select_Sql = <span class="string">"select  interface_format,url,crawltime  from fetches where interface_format like '%"</span> + title + <span class="string">"%'"</span>;</span><br><span class="line"></span><br><span class="line">mysql.query(select_Sql, <span class="function"><span class="keyword">function</span>(<span class="params">qerr, vals, fields</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(vals);</span><br><span class="line">&#125;);</span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line"><span class="keyword">var</span> mysql = <span class="built_in">require</span>(<span class="string">'./mysql.js'</span>);</span><br><span class="line"><span class="keyword">var</span> title = <span class="string">'新冠'</span>;</span><br><span class="line"><span class="keyword">var</span> select_Sql = <span class="string">"select title,author,publish_date from fetches where title like '%"</span> + title + <span class="string">"%'"</span>;</span><br><span class="line"></span><br><span class="line">mysql.query(select_Sql, <span class="function"><span class="keyword">function</span>(<span class="params">qerr, vals, fields</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(vals);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//第一部分是老师的文件，第二部分是我的搜索文件</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">首先，是引用的文件不一样，一个是引用了mysql_coffee.js，另一个是mysql.js这决定了查询的数据库不同</span></span><br><span class="line"><span class="comment">其次，我的关键词是咖啡，老师的关键词是新冠</span></span><br><span class="line"><span class="comment">再然，我搜索的是标题、链接和爬取时间，老师搜索的是标题，作者，出版时间</span></span><br><span class="line"><span class="comment">注意： 不管是前面多么不一样 最后的  '%" + title + "%' 始终是一样的，这个title不是存储类型</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<ul>
<li>来看看结果</li>
<li>老师的结果</li>
<li><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/9.png" alt="示例"></li>
<li>我的结果</li>
<li><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/10.png" alt="示例"></li>
</ul>
<h3 id="10-如何用网页发送请求到后端查询"><a href="#10-如何用网页发送请求到后端查询" class="headerlink" title="10.如何用网页发送请求到后端查询"></a>10.如何用网页发送请求到后端查询</h3><h4 id="起因："><a href="#起因：" class="headerlink" title="起因："></a>起因：</h4><ul>
<li>怎么样在网页上查询关键词，并在我的后端返回结果呢？</li>
</ul>
<h4 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h4><ul>
<li>首先，我们创建一个html前端</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://127.0.0.1:8080/7.02.html"</span> <span class="attr">method</span>=<span class="string">"GET"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span> 标题：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>具体样式如下</li>
</ul>
<p><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/11.png" alt="示例"></p>
<ul>
<li>随后，我们建立一个后端，这里用了http模块，而没有用其他框架</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>);</span><br><span class="line"><span class="keyword">var</span> mysql = <span class="built_in">require</span>(<span class="string">'./mysql.js'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pathname = url.parse(request.url).pathname;</span><br><span class="line">    <span class="keyword">var</span> params = url.parse(request.url, <span class="literal">true</span>).query; </span><br><span class="line">    <span class="comment">//先去读取文件</span></span><br><span class="line">    fs.readFile(pathname.substr(<span class="number">1</span>), <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">        response.writeHead(<span class="number">200</span>, &#123; <span class="string">'Content-Type'</span>: <span class="string">'text/html; charset=utf-8'</span> &#125;);</span><br><span class="line">        <span class="comment">//如果文件非空，那么先把文件给打印出来</span></span><br><span class="line">        <span class="keyword">if</span> ((params.title === <span class="literal">undefined</span>) &amp;&amp; (data !== <span class="literal">undefined</span>))</span><br><span class="line">            response.write(data.toString());</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//否则，我们去数据库寻找，并打印出来</span></span><br><span class="line">            response.write(<span class="built_in">JSON</span>.stringify(params));</span><br><span class="line">            <span class="comment">//数据库查找语言：title,author,publish_date这些都是存储的数据类型</span></span><br><span class="line">            <span class="comment">//where title like title就是要查询的关键词所在的数据类型，一般都是title</span></span><br><span class="line">            <span class="comment">// params.title 就是我们在网站上搜寻的关键词</span></span><br><span class="line">            <span class="keyword">var</span> select_Sql = <span class="string">"select title,author,publish_date from fetches where title like '%"</span> +</span><br><span class="line">                params.title + <span class="string">"%'"</span>;</span><br><span class="line">            mysql.query(select_Sql, <span class="function"><span class="keyword">function</span>(<span class="params">qerr, vals, fields</span>) </span>&#123;</span><br><span class="line">                <span class="comment">//把这些打印出来</span></span><br><span class="line">                <span class="built_in">console</span>.log(vals);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        response.end();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;).listen(<span class="number">8080</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Server running at http://127.0.0.1:8080/7.02.html'</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>我们可以看到，老师的代码运行后，在搜索框中写入  新冠 后是这样一个结果</li>
</ul>
<p><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/12.png" alt="示例"></p>
<ul>
<li>而我们对这个代码稍加修改，马上可以爬取到自己想要的文件</li>
<li>比如，我想在什么值得买 表格中搜寻 ：咖啡 </li>
</ul>
<p><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/13.png" alt="示例"></p>
<ul>
<li>又比如，我想在新浪网 表格上搜寻： 切尔西</li>
</ul>
<p><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/14.png" alt="示例"></p>
<ul>
<li>再比如，我想在东方财富 表格上搜寻： 股市</li>
</ul>
<p><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/15.png" alt="示例"></p>
<p>可以看出，这个问题就算是解决了。</p>
<h3 id="11-如何用express构建网站访问mysql"><a href="#11-如何用express构建网站访问mysql" class="headerlink" title="11.如何用express构建网站访问mysql"></a>11.如何用express构建网站访问mysql</h3><h4 id="起因-7"><a href="#起因-7" class="headerlink" title="起因"></a>起因</h4><ul>
<li>在后端显示其实意义不大，我们要在前端显示，才能体现搜寻效果，那么怎么才能前端现实呢？</li>
</ul>
<h4 id="如何解决-4"><a href="#如何解决-4" class="headerlink" title="如何解决"></a>如何解决</h4><ul>
<li>我们用express框架来构建</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    //唯一不同的是，把7.02html改成了process_get</span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://127.0.0.1:8080/process_get"</span> <span class="attr">method</span>=<span class="string">"GET"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span> 标题：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>然后我们用express来写后端，虽然功能更丰富，但是代码更为简洁</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> mysql = <span class="built_in">require</span>(<span class="string">'./mysql.js'</span>)</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"><span class="comment">//app.use(express.static('public'));</span></span><br><span class="line">app.get(<span class="string">'/7.03.html'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    res.sendFile(__dirname + <span class="string">"/"</span> + <span class="string">"7.03.html"</span>);</span><br><span class="line">&#125;)</span><br><span class="line">app.get(<span class="string">'/process_get'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//先设置编码</span></span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123; <span class="string">'Content-Type'</span>: <span class="string">'text/html;charset=utf-8'</span> &#125;); <span class="comment">//设置res编码为utf-8</span></span><br><span class="line">    <span class="comment">//sql字符串和参数，和上面的代码相同</span></span><br><span class="line">    <span class="keyword">var</span> fetchSql = <span class="string">"select url,source_name,title,author,publish_date from fetches where title like '%"</span> +</span><br><span class="line">        req.query.title + <span class="string">"%'"</span>;</span><br><span class="line">    <span class="comment">//然后把这些参数放到result中</span></span><br><span class="line">    mysql.query(fetchSql, <span class="function"><span class="keyword">function</span>(<span class="params">err, result, fields</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(result);</span><br><span class="line">        <span class="comment">//json字符串话</span></span><br><span class="line">        res.end(<span class="built_in">JSON</span>.stringify(result));</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = app.listen(<span class="number">8080</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"访问地址为 http://127.0.0.1:8080/7.03.html"</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>通过简单的修改，我们可以查询到自己想要的文件</li>
<li>比如我想再什么值得买中搜寻咖啡</li>
</ul>
<p><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/16.png" alt="示例"></p>
<ul>
<li>比如我想在虎扑上搜寻球</li>
</ul>
<p><img src="/2020/04/20/%E7%94%A8nodejs%E6%9D%A5%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB%E6%9D%A5%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E4%BF%A1%E6%81%AF/17.png" alt="示例"></p>
<ul>
<li>到这里，这个问题也解决了</li>
</ul>
<h3 id="12-如何用表格显示查询结果"><a href="#12-如何用表格显示查询结果" class="headerlink" title="12.如何用表格显示查询结果"></a>12.如何用表格显示查询结果</h3><h4 id="起因-8"><a href="#起因-8" class="headerlink" title="起因"></a>起因</h4><p>向上面的那种显示方法，还是缺少美观性，那么我们试试用表格显示查询结果</p>
<h4 id="如何解决？-5"><a href="#如何解决？-5" class="headerlink" title="如何解决？"></a>如何解决？</h4><p>这里的空间不是很够，请移步我的子博文： <a href="https://jasonxqh.github.io/2020/04/26/如何用表格显示查询结果/">如何用表格显示查询结果</a></p>
<h3 id="13-爬虫定时工作"><a href="#13-爬虫定时工作" class="headerlink" title="13.爬虫定时工作"></a>13.爬虫定时工作</h3><h4 id="起因：-1"><a href="#起因：-1" class="headerlink" title="起因："></a>起因：</h4><p>每次手动爬取太麻烦，怎么样才能定时操控爬虫呢？</p>
<h4 id="解决方法：-1"><a href="#解决方法：-1" class="headerlink" title="解决方法："></a>解决方法：</h4><ul>
<li>引入第三方包 node-schedule;</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install node-schedule;</span><br></pre></td></tr></table></figure>
<ul>
<li>爬虫代码中引入</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> schedule = <span class="built_in">require</span>(<span class="string">'node-schedule'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//定时执行</span></span><br><span class="line"><span class="keyword">var</span> rule = <span class="keyword">new</span> schedul.RecurrenceRule();</span><br><span class="line"><span class="keyword">var</span> times = [<span class="number">0</span>,<span class="number">12</span>];<span class="comment">//每天两次自动执行</span></span><br><span class="line"><span class="keyword">var</span> times2 = <span class="number">5</span>		<span class="comment">//分钟</span></span><br><span class="line">rule.hour = times;</span><br><span class="line">rule.minute = times2;</span><br><span class="line"><span class="comment">// 定时执行httpGet()函数</span></span><br><span class="line">schedule.scheduleJob(rule,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   seedget(); </span><br><span class="line">&#125;);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">seedget</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    request(seedURL, <span class="function"><span class="keyword">function</span>(<span class="params">err, res, body</span>) </span>&#123; <span class="comment">//读取种子页面</span></span><br><span class="line"><span class="comment">//  	.........</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="13-尝试其他的扩展（留给读者，或者无限期暂停更新）"><a href="#13-尝试其他的扩展（留给读者，或者无限期暂停更新）" class="headerlink" title="13.尝试其他的扩展（留给读者，或者无限期暂停更新）"></a>13.尝试其他的扩展（留给读者，或者无限期暂停更新）</h3><ul>
<li>对查询结果进行分页显示</li>
<li>对查询结果按每个字段进行排序</li>
<li>对多个查询条件进行复合查询</li>
<li>其他功能和性能的提升</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>山再高，也得往上攀。浪波涛，也得去划船。我们在学习过程中需要有程序员精神。就是不断地发现问题，解决问题，虽然水平不高，但是大佬的水平也是在一次次的解决问题中提高的。 曾经自己认为高难度的作业也会一点一点被自己征服。</p>
<p>完成一个比较大的项目，一定要把它拆分成很多小问题，这也是一种很实用的编程思维。分而治之，逐个击破。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(项目未完成) </span><br><span class="line">&#123; </span><br><span class="line">    <span class="keyword">if</span>(出现了问题)</span><br><span class="line">    &#123;</span><br><span class="line">     学习 | | 问老师； </span><br><span class="line">        问题解决了没？ 项目继续：学习+寻求更多帮助；</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h2><ul>
<li>我初次尝试爬虫项目的时候，是助教高瑞卿学姐热心帮我解答了很多疑难问题，还帮我检查了代码中的错误。所以在博客的最后，特此感谢学姐的无私帮助。</li>
<li><p>在了解了我们的学习进度之后，王晔老师放宽了ddl，并且在视频中加入了很多在写爬虫时候的细节。并且也解答了我一部分问题，特此感谢。</p>
</li>
<li><p>前人栽树后人乘凉。感谢我的好朋友们，是你们在一些问题上的经验帮我规避了很多难题；感谢一些同学们写的博客，是看了你们的博客之后我才有了这篇博客的思路于灵感。</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/04/20/17-09%E7%AC%ACk%E4%B8%AA%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/20/17-09%E7%AC%ACk%E4%B8%AA%E6%95%B0/" class="post-title-link" itemprop="url">17.09第k个数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-20 18:46:16" itemprop="dateCreated datePublished" datetime="2020-04-20T18:46:16+08:00">2020-04-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-06-21 12:50:42" itemprop="dateModified" datetime="2020-06-21T12:50:42+08:00">2020-06-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/bfs/" itemprop="url" rel="index"><span itemprop="name">bfs</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="下面是题目"><a href="#下面是题目" class="headerlink" title="下面是题目"></a>下面是题目</h2><p><img src="/2020/04/20/17-09%E7%AC%ACk%E4%B8%AA%E6%95%B0/k.png" alt></p>
<h3 id="下面是题目给出的模板"><a href="#下面是题目给出的模板" class="headerlink" title="下面是题目给出的模板"></a>下面是题目给出的模板</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getKthMagicNumber</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    	 </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="用BFS-set可以完美遍历，真的太爽了"><a href="#用BFS-set可以完美遍历，真的太爽了" class="headerlink" title="用BFS+set可以完美遍历，真的太爽了"></a>用BFS+set可以完美遍历，真的太爽了</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">solution</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	  <span class="function"><span class="keyword">int</span> <span class="title">getKthMagicNumber</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="comment">//有个小细节需要注意，那就是s.begin（）返回的是迭代器     //如果要在迭代器中取物，那么就要用 *     </span></span><br><span class="line"><span class="comment">//可能数字会很大，我们用long long 存储</span></span><br><span class="line">    	  <span class="built_in">set</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;s;</span><br><span class="line">          s.insert(<span class="number">1</span>);</span><br><span class="line">          <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">          <span class="keyword">while</span>(k--)</span><br><span class="line">          &#123;</span><br><span class="line"><span class="comment">//利用set，完美解决了去重复、小到大排序的问题              </span></span><br><span class="line">              ans = *s.<span class="built_in">begin</span>();</span><br><span class="line">              s.erase(s.<span class="built_in">begin</span>);</span><br><span class="line">              s.insert(ans*<span class="number">3</span>);</span><br><span class="line">              s.insert(ans*<span class="number">5</span>);</span><br><span class="line">              s.insert(ans*<span class="number">7</span>);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/04/20/933%E6%9C%80%E8%BF%91%E7%9A%84%E8%AF%B7%E6%B1%82%E6%AC%A1%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/20/933%E6%9C%80%E8%BF%91%E7%9A%84%E8%AF%B7%E6%B1%82%E6%AC%A1%E6%95%B0/" class="post-title-link" itemprop="url">933最近的请求次数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-20 18:45:47" itemprop="dateCreated datePublished" datetime="2020-04-20T18:45:47+08:00">2020-04-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-09 23:50:42" itemprop="dateModified" datetime="2020-05-09T23:50:42+08:00">2020-05-09</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="933最近请求次数"><a href="#933最近请求次数" class="headerlink" title="933最近请求次数"></a>933最近请求次数</h1><h1 id="下面是题目"><a href="#下面是题目" class="headerlink" title="下面是题目"></a>下面是题目</h1><p><img src="/2020/04/20/933%E6%9C%80%E8%BF%91%E7%9A%84%E8%AF%B7%E6%B1%82%E6%AC%A1%E6%95%B0/933.png" alt></p>
<h3 id="下面是题目给出的代码"><a href="#下面是题目给出的代码" class="headerlink" title="下面是题目给出的代码"></a>下面是题目给出的代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RecentCounter</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    RecentCounter() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">ping</span><span class="params">(<span class="keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;;</span><br><span class="line">  </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your RecentCounter object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * RecentCounter* obj = new RecentCounter();</span></span><br><span class="line"><span class="comment"> * int param_1 = obj-&gt;ping(t);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<h4 id="这个题目我一开始没看懂，但是说人话，就是"><a href="#这个题目我一开始没看懂，但是说人话，就是" class="headerlink" title="这个题目我一开始没看懂，但是说人话，就是"></a>这个题目我一开始没看懂，但是说人话，就是</h4><p><strong>这道题说人话就是：t代表这个员工的工号，每次新员工t加入q公司前先把工号小于t -3000的老家伙都辞退，然后再让t入职，统计q公司现有几个员工</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RecentCounter</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	RecentCounter() &#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">ping</span><span class="params">(<span class="keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">		q.push(t);</span><br><span class="line">		<span class="keyword">while</span> (q.front() &lt; t - <span class="number">3000</span>) q.pop();</span><br><span class="line">		<span class="keyword">return</span> q.<span class="built_in">size</span>();</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;q;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your RecentCounter object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * RecentCounter* obj = new RecentCounter();</span></span><br><span class="line"><span class="comment"> * int param_1 = obj-&gt;ping(t);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jasonxqh.github.io/2020/04/20/622%E8%AE%BE%E8%AE%A1%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jason">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jason‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/20/622%E8%AE%BE%E8%AE%A1%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%97/" class="post-title-link" itemprop="url">622设计循环队列</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-04-20 18:45:30 / Modified: 20:34:22" itemprop="dateCreated datePublished" datetime="2020-04-20T18:45:30+08:00">2020-04-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/36/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/36/">36</a><span class="page-number current">37</span><a class="page-number" href="/page/38/">38</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="extend next" rel="next" href="/page/38/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jason</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">439</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">68</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jason</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->




  















  

  

  

</body>
</html>
